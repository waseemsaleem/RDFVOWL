{"version":3,"sources":["webpack:///webpack/bootstrap 174a16a609eba63a9d25?c24b","webpack:///./src/app/js/entry.js","webpack:///external \"d3\"?c0c4","webpack:///./~/lodash/_baseGetTag.js?0d07","webpack:///./~/lodash/_Symbol.js?dfe5","webpack:///./~/lodash/_root.js?c0bd","webpack:///./~/lodash/_freeGlobal.js?e849","webpack:///./~/lodash/_getRawTag.js?9b8e","webpack:///./~/lodash/_objectToString.js?e901","webpack:///./~/lodash/isSymbol.js?7ab9","webpack:///./~/lodash/isObjectLike.js?36be","webpack:///./~/lodash/isArray.js?0d20","webpack:///./~/lodash/_arrayMap.js?3223","webpack:///./~/lodash/toString.js?a8fe","webpack:///./~/lodash/_baseToString.js?9b51","webpack:///./src/app/css/toolstyle.css","webpack:///./src/app/js/browserWarning.js","webpack:///./src/app/js/app.js","webpack:///./src/app/js/menu/exportMenu.js","webpack:///./src/app/js/menu/exportTTLModule.js","webpack:///./src/app/js/menu/filterMenu.js","webpack:///./src/app/js/menu/gravityMenu.js","webpack:///./src/app/js/menu/modeMenu.js","webpack:///./src/app/js/menu/debugMenu.js","webpack:///./src/app/js/menu/ontologyMenu.js","webpack:///./~/lodash/unescape.js","webpack:///./~/lodash/_unescapeHtmlChar.js","webpack:///./~/lodash/_basePropertyOf.js","webpack:///./src/app/js/menu/pauseMenu.js","webpack:///./src/app/js/menu/resetMenu.js","webpack:///./src/app/js/menu/searchMenu.js","webpack:///./src/app/js/menu/navigationMenu.js","webpack:///./src/app/js/menu/zoomSlider.js","webpack:///./src/app/js/sidebar.js","webpack:///./src/app/js/leftSidebar.js","webpack:///./src/app/js/editSidebar.js","webpack:///./src/app/js/menu/configMenu.js","webpack:///./src/app/js/loadingModule.js","webpack:///./src/app/js/warningModule.js","webpack:///./src/app/js/directInputModule.js"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACtCA;AACA;;AAEA;;;;;;;;ACHA,qB;;;;;;;ACAA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC3BA;;AAEA;AACA;;AAEA;;;;;;;;ACLA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;;;ACRA;AACA;;AAEA;;;;;;;;;ACHA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC7CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;;ACrBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC3BA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpCA,0C;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDAAgD;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,GAAG,SAAS,GAAG;AAChD;AACA;AACA;AACA,IAAG;AACH;AACA,0CAAyC,GAAG,SAAS,GAAG;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gC;;;;;;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA4B;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAA4B;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,uEAAsE;AACtE;AACA;AACA;AACA,4DAA2D;AAC3D;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA,SAAQ;AACR;AACA;AACA,SAAQ;;AAER;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,+CAA8C;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gEAA+D;AAC/D;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAuC;;AAEvC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iEAAgE;AAChE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,mDAAkD;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,GAAG,SAAS,GAAG;AAClD;AACA;AACA;AACA,MAAK;AACL;AACA,4CAA2C,GAAG,SAAS,GAAG;AAC1D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;ACjmBA;AACA;AACA;AACA;AACA;;AAEA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA,qCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,iCAAgC;AAChC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA,oDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,mBAAkB,mBAAmB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,cAAa;AACb,mCAAkC;;;AAGlC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAgB,gBAAgB;AAChC;AACA;;AAEA;AACA;AACA,QAAO;AACP,+CAA8C;AAC9C;AACA;;AAEA;AACA;;AAEA;AACA,oCAAmC,6DAA6D;AAChG;AACA;AACA,MAAK;AACL,uCAAsC,kCAAkC;AACxE,mDAAkD,8BAA8B;AAChF,+DAA8D,8BAA8B;AAC5F,2CAA0C,mCAAmC;AAC7E,+CAA8C,wCAAwC;AACtF;AACA;AACA;AACA,MAAK;AACL,kEAAiE,8BAA8B;AAC/F,iDAAgD,8BAA8B;AAC9E,wDAAuD,8BAA8B;AACrF,+DAA8D,8BAA8B;AAC5F,2DAA0D,8BAA8B;AACxF,4CAA2C,8BAA8B;AACzE,0CAAyC,8BAA8B;AACvE,4DAA2D,gCAAgC;AAC3F,qFAAoF,8BAA8B;AAClH;AACA;AACA;AACA,MAAK,GAAG,mCAAmC;AAC3C,qDAAoD,gCAAgC;AACpF,qEAAoE,8BAA8B;AAClG,2CAA0C,gCAAgC;AAC1E,2DAA0D,8BAA8B;AACxF,iDAAgD,mCAAmC;AACnF,wCAAuC,mCAAmC;AAC1E,kDAAiD,uCAAuC;AACxF,sCAAqC,uCAAuC;AAC5E,2DAA0D,qCAAqC;AAC/F,wCAAuC,gCAAgC;AACvE,0CAAyC,yCAAyC;AAClF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;;AAEA,qBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAgB;;AAEhB;AACA,qCAAoC,WAAW;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,iCAAgC;AAChC;AACA;;;AAGA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,qBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,qDAAoD;AACpD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAiC;AACjC;AACA;;AAEA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,qBAAqB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,kDAAiD;AACjD,mDAAkD;AAClD,qDAAoD;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA;AACA;AACA,iBAAgB,0BAA0B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,iBAAgB,yBAAyB;AACzC;AACA,mBAAkB,0BAA0B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mCAAkC;AAClC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,KAAK;AACvC,mCAAkC,OAAO;AACzC,uCAAsC,uGAAuG;AAC7I,mCAAkC,OAAO;AACzC;AACA,mCAAkC,QAAQ;AAC1C,gCAA+B,KAAK;AACpC,gCAA+B,OAAO;AACtC,oCAAmC,uGAAuG;AAC1I,gCAA+B,OAAO;AACtC,2BAA0B,SAAS;AACnC,6BAA4B,QAAQ;AACpC;AACA,6BAA4B,OAAO;AACnC,+BAA8B,iBAAiB;AAC/C,iCAAgC,gGAAgG;AAChI,2BAA0B,OAAO;AACjC,yBAAwB,SAAS;AACjC;;;AAGA,8CAA6C,cAAc,MAAM,OAAO;AACxE,sBAAqB,eAAe,MAAM,OAAO;AACjD,sBAAqB,wBAAwB,MAAM,OAAO;AAC1D,sBAAqB,uBAAuB,MAAM,OAAO;AACzD,sBAAqB,0BAA0B,MAAM,OAAO;AAC5D,sBAAqB,kBAAkB,MAAM,OAAO;AACpD,sBAAqB,eAAe,MAAM,OAAO;AACjD,sBAAqB,YAAY,MAAM,OAAO;AAC9C,sBAAqB,kBAAkB,MAAM,OAAO;AACpD,sBAAqB,YAAY,MAAM,OAAO;AAC9C,gBAAe,OAAO;AACtB,oBAAmB,aAAa,GAAG;;AAEnC,gBAAe,YAAY;AAC3B,0GAAyG;AACzG,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,qBAAoB,YAAY,WAAW,IAAI,GAAG,aAAa;;;AAG/D,6BAA4B,wBAAwB,0FAA0F,EAAE;AAChJ,6BAA4B,wBAAwB,0FAA0F,EAAE;AAChJ,6BAA4B,wBAAwB,oGAAoG,EAAE;;AAE1J,6BAA4B,kBAAkB,0FAA0F,EAAE;;;AAG1I,6BAA4B,gBAAgB;AAC5C,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D;AACA,+BAA8B;;AAE9B,6BAA4B,iBAAiB;AAC7C,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D;AACA,+BAA8B;;;AAG9B,6BAA4B,iBAAiB;AAC7C,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D,mFAAkF;;AAElF,6BAA4B,uBAAuB;AACnD,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D,2FAA0F;;;AAG1F,6BAA4B,iBAAiB;AAC7C,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D,0FAAyF;;;AAGzF,6BAA4B,0BAA0B;AACtD;AACA,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D;AACA,+BAA8B;;AAE9B,6BAA4B,oBAAoB;AAChD;AACA,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D;AACA,+BAA8B;;;AAG9B,6BAA4B,4BAA4B;AACxD;AACA;AACA,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D,+BAA8B;;AAE9B,6BAA4B,uBAAuB;AACnD,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D;AACA;AACA,+BAA8B;;AAE9B,6BAA4B,gBAAgB;AAC5C,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D,+EAA8E;;AAE9E,6BAA4B,qBAAqB;AACjD,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D,+EAA8E;;;AAG9E,6BAA4B,2BAA2B;AACvD,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D;AACA;AACA,sBAAqB,6BAA6B;;AAElD;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,kDAAiD;AACjD,mDAAkD;AAClD;;AAEA;AACA;AACA,iBAAgB,kBAAkB;AAClC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2GAA0G;AAC1G,6FAA4F;;;AAG5F;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uIAAsI;AACtI,QAAO;AACP;AACA,gIAA+H;AAC/H;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,uFAAuF,yBAAyB;AAChM;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6IAA4I;AAC5I,UAAS;AACT;AACA,sIAAqI;AACrI;AACA;;;AAGA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,4BAA2B,QAAQ,KAAK,8BAA8B;AACtE;AACA,2BAA0B,mBAAmB;AAC7C;AACA,oCAAmC,QAAQ,KAAK,8BAA8B;AAC9E,cAAa;AACb,oCAAmC,qCAAqC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qCAAoC,qBAAqB,MAAM,gBAAgB;AAC/E;AACA;AACA;AACA,qCAAoC,qBAAqB,MAAM,OAAO;AACtE;AACA;;AAEA;AACA;AACA;AACA;AACA,4JAA2J,4CAA4C;AACvM;AACA;AACA;AACA,8JAA6J;AAC7J,sHAAqH;AACrH,uHAAsH;AACtH,iIAAgI;AAChI,0FAAyF,UAAU,MAAM,GAAG;AAC5G,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,qFAAqF,4CAA4C;AACjN;AACA;AACA;AACA,8JAA6J;AAC7J,sHAAqH;AACrH,uHAAsH;AACtH,iIAAgI;AAChI,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,qFAAqF,GAAG;AACxK,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,qFAAqF,4CAA4C;AACjN;AACA;AACA;AACA;AACA,8JAA6J;AAC7J,iHAAgH;AAChH,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,sEAAsE,SAAS;AAC/J,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,qFAAqF,4CAA4C;AACjN;AACA;AACA;AACA,8JAA6J;AAC7J,sHAAqH;AACrH,uHAAsH;AACtH,iIAAgI;;AAEhI;AACA,yLAAwL;;AAExL;AACA,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,oFAAoF,SAAS;AAC7K,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,qFAAqF,4CAA4C;;AAEjN;;;AAGA;;AAEA,MAAK;AACL,iBAAgB,yBAAyB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,2BAA0B,mBAAmB;AAC7C;AACA;AACA,oCAAmC,qCAAqC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC,yBAAyB,MAAM,gBAAgB;AACnF;AACA;AACA;AACA,qCAAoC,yBAAyB,MAAM,OAAO;AAC1E;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,kKAAiK;AACjK,2HAA0H;AAC1H,4HAA2H;AAC3H,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,uFAAuF;AACvK;AACA;AACA;AACA,yBAAwB;AACxB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iCAAgC,2BAA2B;AAC3D;AACA;AACA,0CAAyC,6CAA6C;AACtF,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,6BAA6B,MAAM,oBAAoB;AAC7F;AACA;AACA;AACA,uCAAsC,6BAA6B,MAAM,OAAO;AAChF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,oLAAmL,gDAAgD;AACnO;AACA;AACA;AACA;;AAEA,oKAAmK,4CAA4C;;AAE/M,QAAO;AACP,oKAAmK,4CAA4C;AAC/M;AACA;;AAEA,yBAAwB,YAAY,GAAG,SAAS,OAAO;;AAEvD;AACA,mCAAkC;AAClC;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACx7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,yBAAyB;AACzC;AACA;AACA;;AAEA,iBAAgB,8BAA8B;AAC9C;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAiD;AACjD;AACA,qBAAoB,8BAA8B;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,6CAA4C;AAC5C;AACA,qBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAsB,kBAAkB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB;AACnB,qBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,sFAAqF;AACrF;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,0FAAyF;AACzF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wEAAuE;AACvE;AACA;AACA,wEAAuE;AACvE;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,yBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;;AAEA;AACA;AACA,qEAAoE;AACpE;;AAEA,wBAAuB,+BAA+B;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;;;AAGvB;;;AAGA;AACA;AACA;AACA,iBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,yBAAyB;AACzC;;AAEA;AACA;AACA,6EAA4E;AAC5E,+GAA8G;AAC9G;AACA;AACA;AACA,mDAAkD;AAClD;AACA;;AAEA;AACA,6EAA4E;AAC5E,+GAA8G;AAC9G;AACA;AACA;AACA,mDAAkD;AAClD;AACA;;AAEA;AACA;AACA,mEAAkE;;;AAGlE;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAqB;AACrB;AACA;;AAEA;;;AAGA;AACA;AACA;;;AAGA,qBAAoB;;;AAGpB;;AAEA,8FAA6F;AAC7F;;AAEA;AACA;AACA,wBAAuB,wBAAwB;AAC/C;AACA,0FAAyF;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAwE;AACxE;AACA;AACA,yEAAwE;AACxE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wEAAuE;AACvE;AACA;AACA,wEAAuE;AACvE;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAgF;AAChF;AACA;AACA,+EAA8E;AAC9E;;AAEA;;AAEA;AACA,kDAAiD;AACjD;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB,sBAAsB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA,sEAAqE;AACrE;AACA;AACA;AACA;;AAEA;AACA;AACA,gDAA+C;AAC/C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB,4EAA2E;AAC3E;AACA;AACA;AACA;AACA,uBAAsB,gCAAgC;AACtD;AACA;AACA,wEAAuE;AACvE;AACA,MAAK;AACL,iBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,MAAK,gBAAgB;AACrB;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,mGAAkG;AAClG;AACA;AACA,6GAA4G;AAC5G;AACA;AACA;AACA;;AAEA;AACA,uBAAsB,+BAA+B;AACrD;AACA;AACA;AACA;AACA,gDAA+C;AAC/C;AACA,QAAO;AACP;AACA;;AAEA,MAAK;AACL;AACA,kGAAiG;AACjG,oDAAmD;AACnD;AACA;AACA,oFAAmF;AACnF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mGAAkG;AAClG;AACA;AACA,6GAA4G;AAC5G;AACA;AACA;AACA;AACA;AACA,uBAAsB,+BAA+B;AACrD;AACA;AACA;AACA;AACA,gDAA+C;AAC/C;AACA,QAAO;AACP;AACA;;AAEA,MAAK;AACL;AACA,kGAAiG;AACjG,oDAAmD;AACnD;AACA;AACA,oFAAmF;AACnF;AACA;;AAEA;AACA;;;;;;;;AC7kBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,2DAA2D;;AAElF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,qBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,yBAAyB;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;;;;;;;;;AC/RA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB;AACtB;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,eAAc,qCAAqC;AACnD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;;;AAGA;AACA;;;;;;;;;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAAyB;AACzB,8BAA6B;;AAE7B,oBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,wCAAuC;AACvC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,wCAAuC;AACvC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc,iDAAiD;;AAE/D;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oDAAmD,gBAAgB;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;AC/PA;AACA,qBAAoB;AACpB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;;AAGA,QAAO;AACP;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;;;AAGP;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;ACpJA;;AAEA;;AAEA,wBAAuB;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA,2EAA0E,cAAc;AACxF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA,qBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACzpBA;AACA;;AAEA;AACA,8CAA6C;AAC7C;;AAEA;AACA,8BAA6B;AAC7B,UAAS,QAAQ,QAAQ,UAAU,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACjCA;;AAEA;AACA;AACA,SAAQ;AACR,QAAO;AACP,QAAO;AACP,UAAS;AACT,SAAQ;AACR;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;;AAEA;;;;;;;;ACpBA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,eAAc,gBAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;;;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB;AACpB;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;;;AAGA;AACA;;;;;;;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAwC;;;AAGxC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB,gBAAgB;AACpC;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,4BAA4B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA,iBAAgB,8BAA8B;AAC9C;AACA;AACA;AACA,uBAAsB,gCAAgC;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2GAA0G,EAAE,4CAA4C,EAAE,eAAe,EAAE,gHAAgH,EAAE;AAC7R;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,iBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,qBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C,YAAY,oBAAoB,mBAAmB;AAC7F;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA,iBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA,uBAAsB,oBAAoB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAwB,UAAU;AAClC;AACA;AACA;AACA;AACA;;AAEA,uBAAsB,UAAU;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,gBAAgB;AACpC;AACA;AACA;;AAEA;AACA;;;;;;;;;ACjgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAgB,gBAAgB;AAChC;AACA;;AAEA;AACA;AACA,iBAAgB,gBAAgB;AAChC;AACA;;AAEA;AACA,iBAAgB,gBAAgB;AAChC;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C;AAC/C,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2DAA0D;AAC1D;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;;AAEA;AACA;;;;;;;;;AC9PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACjHA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,+CAA8C;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAoC;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;;;;;;;AC1lBA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;;;AAGA;AACA,qBAAoB,sBAAsB;AAC1C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAgB,6BAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAgB,+BAA+B;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,gCAAgC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;AC3QA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;;AAEA;AACA;AACA;AACA,qBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,+CAA8C;AAC9C;AACA,MAAK;AACL,kDAAiD;AACjD;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,6CAA4C,eAAe;AAC3D;AACA,iDAAgD;;AAEhD;AACA,MAAK;AACL;AACA,gDAA+C,kBAAkB;AACjE;AACA,mDAAkD;AAClD;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;;;AAGT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qDAAoD,eAAe;AACnE;AACA,yDAAwD;;AAExD;AACA,YAAW;AACX;AACA,wDAAuD,kBAAkB;AACzE;AACA,2DAA0D;AAC1D;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qDAAoD,eAAe;AACnE;AACA,yDAAwD;;AAExD;AACA,YAAW;AACX;AACA,wDAAuD,kBAAkB;AACzE;AACA,2DAA0D;AAC1D;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,uDAAsD;AACtD;AACA,YAAW;AACX,0DAAyD;AACzD;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA,uDAAsD;AACtD;AACA,YAAW;AACX,0DAAyD;AACzD;AACA;AACA,UAAS;;;AAGT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,QAAO;AACP;AACA;AACA,QAAO;;AAEP;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,6DAA4D;AAC5D,6DAA4D;AAC5D;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,2GAA0G,EAAE,4CAA4C,EAAE,eAAe,EAAE,gHAAgH,EAAE;AAC7R;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,qBAAqB;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,mBAAkB,qBAAqB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D;AAC1D,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,gBAAgB;AAClC;;AAEA,mBAAkB,8BAA8B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;;AAGP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,gBAAgB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,6BAA6B;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,iCAAiC;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;;;;;;;;ACpzCA;AACA,sBAAqB;AACrB;;;AAGA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;;;;;;;;ACpIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kCAAiC;AACjC;;AAEA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2EAA0E;AAC1E,gFAA+E;AAC/E;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAO;AACP;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oFAAmF;AACnF;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK,OAAO;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;;AAEA,MAAK;AACL;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,iCAAgC;AAChC;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA,qBAAoB;AACpB,oCAAmC;AACnC;AACA,qBAAoB;AACpB,mBAAkB;AAClB;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB,iBAAgB;AAChB;AACA,YAAW;AACX;AACA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;;;AAIA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,4EAA2E;AAC3E,+EAA8E;AAC9E;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,mBAAmB;AACzC;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oDAAmD;AACnD;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,oDAAmD;AACnD;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;ACntBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA,uCAAsC,cAAc;AACpD;;;AAGA;AACA,iEAAgE,QAAQ,EAAE,OAAO,cAAc;AAC/F;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAoB,gBAAgB;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,sBAAqB,+BAA+B;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAiC,QAAQ;AACzC,kCAAiC,yBAAyB;;AAE1D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;ACxaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA","file":"js/webvowl.app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 174a16a609eba63a9d25","require(\"../css/toolstyle.css\");\r\nrequire(\"./browserWarning\");\r\n\r\nmodule.exports = require(\"./app\");\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/entry.js\n// module id = 0\n// module chunks = 1","module.exports = d3;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"d3\"\n// module id = 3\n// module chunks = 0 1","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseGetTag.js\n// module id = 88\n// module chunks = 0 1","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Symbol.js\n// module id = 89\n// module chunks = 0 1","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_root.js\n// module id = 90\n// module chunks = 0 1","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_freeGlobal.js\n// module id = 91\n// module chunks = 0 1","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getRawTag.js\n// module id = 92\n// module chunks = 0 1","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_objectToString.js\n// module id = 93\n// module chunks = 0 1","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isSymbol.js\n// module id = 100\n// module chunks = 0 1","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isObjectLike.js\n// module id = 101\n// module chunks = 0 1","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isArray.js\n// module id = 109\n// module chunks = 0 1","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayMap.js\n// module id = 151\n// module chunks = 0 1","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/toString.js\n// module id = 216\n// module chunks = 0 1","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseToString.js\n// module id = 217\n// module chunks = 0 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/css/toolstyle.css\n// module id = 316\n// module chunks = 1","/* Taken from here: http://stackoverflow.com/a/17907562 */\r\nfunction getInternetExplorerVersion(){\r\n  var ua,\r\n    re,\r\n    rv = -1;\r\n  \r\n  // check for edge\r\n  var isEdge = /(?:\\b(MS)?IE\\s+|\\bTrident\\/7\\.0;.*\\s+rv:|\\bEdge\\/)(\\d+)/.test(navigator.userAgent);\r\n  if ( isEdge ) {\r\n    rv = parseInt(\"12\");\r\n    return rv;\r\n  }\r\n  \r\n  var isIE11 = /Trident.*rv[ :]*11\\./.test(navigator.userAgent);\r\n  if ( isIE11 ) {\r\n    rv = parseInt(\"11\");\r\n    return rv;\r\n  }\r\n  if ( navigator.appName === \"Microsoft Internet Explorer\" ) {\r\n    ua = navigator.userAgent;\r\n    re = new RegExp(\"MSIE ([0-9]{1,}[\\\\.0-9]{0,})\");\r\n    if ( re.exec(ua) !== null ) {\r\n      rv = parseFloat(RegExp.$1);\r\n    }\r\n  } else if ( navigator.appName === \"Netscape\" ) {\r\n    ua = navigator.userAgent;\r\n    re = new RegExp(\"Trident/.*rv:([0-9]{1,}[\\\\.0-9]{0,})\");\r\n    if ( re.exec(ua) !== null ) {\r\n      rv = parseFloat(RegExp.$1);\r\n    }\r\n  }\r\n  return rv;\r\n}\r\n\r\nfunction showBrowserWarningIfRequired(){\r\n  var version = getInternetExplorerVersion();\r\n  console.log(\"Browser Version =\" + version);\r\n  if ( version > 0 && version <= 11 ) {\r\n    d3.select(\"#browserCheck\").classed(\"hidden\", false);\r\n    d3.select(\"#killWarning\").classed(\"hidden\", true);\r\n    d3.select(\"#optionsArea\").classed(\"hidden\", true);\r\n    d3.select(\"#logo\").classed(\"hidden\", true);\r\n  }\r\n  if ( version == 12 ) {\r\n    d3.select(\"#logo\").classed(\"hidden\", false);\r\n    d3.select(\"#browserCheck\").classed(\"hidden\", false);\r\n    // connect the button;\r\n    var pb_kill = d3.select(\"#killWarning\");\r\n    pb_kill.on(\"click\", function (){\r\n      console.log(\"hide the warning please\");\r\n      d3.select(\"#browserCheck\").classed(\"hidden\", true);\r\n      d3.select(\"#logo\").style(\"padding\", \"10px\");\r\n    });\r\n  }\r\n  else {\r\n    d3.select(\"#logo\").classed(\"hidden\", false);\r\n    d3.select(\"#browserCheck\").classed(\"hidden\", true);\r\n  }\r\n  \r\n}\r\n\r\nmodule.exports = showBrowserWarningIfRequired;\r\nshowBrowserWarningIfRequired();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/browserWarning.js\n// module id = 317\n// module chunks = 1","String.prototype.replaceAll = function ( search, replacement ){\r\n  var target = this;\r\n  return target.split(search).join(replacement);\r\n};\r\nmodule.exports = function (){\r\n  var newOntologyCounter = 1;\r\n  var app = {},\r\n    graph = webvowl.graph(),\r\n    options = graph.graphOptions(),\r\n    languageTools = webvowl.util.languageTools(),\r\n    GRAPH_SELECTOR = \"#graph\",\r\n    // Modules for the webvowl app\r\n    exportMenu = require(\"./menu/exportMenu\")(graph),\r\n    filterMenu = require(\"./menu/filterMenu\")(graph),\r\n    gravityMenu = require(\"./menu/gravityMenu\")(graph),\r\n    modeMenu = require(\"./menu/modeMenu\")(graph),\r\n    debugMenu = require(\"./menu/debugMenu\")(graph),\r\n    ontologyMenu = require(\"./menu/ontologyMenu\")(graph),\r\n    pauseMenu = require(\"./menu/pauseMenu\")(graph),\r\n    resetMenu = require(\"./menu/resetMenu\")(graph),\r\n    searchMenu = require(\"./menu/searchMenu\")(graph),\r\n    navigationMenu = require(\"./menu/navigationMenu\")(graph),\r\n    zoomSlider = require(\"./menu/zoomSlider\")(graph),\r\n    sidebar = require(\"./sidebar\")(graph),\r\n    leftSidebar = require(\"./leftSidebar\")(graph),\r\n    editSidebar = require(\"./editSidebar\")(graph),\r\n    configMenu = require(\"./menu/configMenu\")(graph),\r\n    loadingModule = require(\"./loadingModule\")(graph),\r\n    warningModule = require(\"./warningModule\")(graph),\r\n    directInputMod = require(\"./directInputModule\")(graph),\r\n    \r\n    \r\n    // Graph modules\r\n    colorExternalsSwitch = webvowl.modules.colorExternalsSwitch(graph),\r\n    compactNotationSwitch = webvowl.modules.compactNotationSwitch(graph),\r\n    datatypeFilter = webvowl.modules.datatypeFilter(),\r\n    disjointFilter = webvowl.modules.disjointFilter(),\r\n    focuser = webvowl.modules.focuser(graph),\r\n    emptyLiteralFilter = webvowl.modules.emptyLiteralFilter(),\r\n    nodeDegreeFilter = webvowl.modules.nodeDegreeFilter(filterMenu),\r\n    nodeScalingSwitch = webvowl.modules.nodeScalingSwitch(graph),\r\n    objectPropertyFilter = webvowl.modules.objectPropertyFilter(),\r\n    pickAndPin = webvowl.modules.pickAndPin(),\r\n    selectionDetailDisplayer = webvowl.modules.selectionDetailsDisplayer(sidebar.updateSelectionInformation),\r\n    statistics = webvowl.modules.statistics(),\r\n    subclassFilter = webvowl.modules.subclassFilter(),\r\n    setOperatorFilter = webvowl.modules.setOperatorFilter();\r\n  \r\n  \r\n  app.getOptions = function (){\r\n    return webvowl.opts;\r\n  };\r\n  app.getGraph = function (){\r\n    return webvowl.gr;\r\n  };\r\n  // app.afterInitializationCallback=undefined;\r\n  \r\n  \r\n  var executeFileDrop = false;\r\n  var wasMessageToShow = false;\r\n  var firstTime = false;\r\n  \r\n  function addFileDropEvents( selector ){\r\n    var node = d3.select(selector);\r\n    \r\n    node.node().ondragover = function ( e ){\r\n      e.preventDefault();\r\n\r\n      d3.select(\"#dragDropContainer\").classed(\"hidden\", false);\r\n      // get svg size\r\n      var w = graph.options().width();\r\n      var h = graph.options().height();\r\n      \r\n      // get event position; (using clientX and clientY);\r\n      var cx = e.clientX;\r\n      var cy = e.clientY;\r\n      \r\n      if ( firstTime === false ) {\r\n        var state = d3.select(\"#loading-info\").classed(\"hidden\");\r\n        wasMessageToShow = !state;\r\n        firstTime = true;\r\n        d3.select(\"#loading-info\").classed(\"hidden\", true); // hide it so it does not conflict with drop event\r\n        var bb=d3.select(\"#drag_msg\").node().getBoundingClientRect();\r\n        var hs = bb.height;\r\n        var ws = bb.width;\r\n        \r\n        var icon_scale=Math.min(hs,ws);\r\n        icon_scale/=100;\r\n        \r\n        d3.select(\"#drag_icon_group\").attr(\"transform\", \"translate ( \" + 0.25 * ws + \" \" + 0.25 * hs + \")\");\r\n        d3.select(\"#drag_icon\").attr(\"transform\",\"matrix (\"+icon_scale+\",0,0,\"+icon_scale+\",0,0)\");\r\n        d3.select(\"#drag_icon_drop\").attr(\"transform\",\"matrix (\"+icon_scale+\",0,0,\"+icon_scale+\",0,0)\");\r\n      }\r\n      \r\n      \r\n      if ( (cx > 0.25 * w && cx < 0.75 * w) && (cy > 0.25 * h && cy < 0.75 * h) ) {\r\n        \r\n        d3.select(\"#drag_msg_text\").node().innerHTML = \"Drop it here.\";\r\n        d3.select(\"#drag_msg\").style(\"background-color\", \"#67bc0f\");\r\n        d3.select(\"#drag_msg\").style(\"color\", \"#000000\");\r\n        executeFileDrop = true;\r\n        // d3.select(\"#drag_svg\").transition()\r\n        //   .duration(100)\r\n        //   // .attr(\"-webkit-transform\", \"rotate(90)\")\r\n        //   // .attr(\"-moz-transform\",    \"rotate(90)\")\r\n        //   // .attr(\"-o-transform\",      \"rotate(90)\")\r\n        //   .attr(\"transform\",         \"rotate(90)\");\r\n  \r\n        d3.select(\"#drag_icon\").classed(\"hidden\",true);\r\n        d3.select(\"#drag_icon_drop\").classed(\"hidden\",false);\r\n  \r\n  \r\n      } else {\r\n        d3.select(\"#drag_msg_text\").node().innerHTML = \"Drag ontology file here.\";\r\n        d3.select(\"#drag_msg\").style(\"background-color\", \"#fefefe\");\r\n        d3.select(\"#drag_msg\").style(\"color\", \"#000000\");\r\n        executeFileDrop = false;\r\n  \r\n        d3.select(\"#drag_icon\").classed(\"hidden\",false);\r\n        d3.select(\"#drag_icon_drop\").classed(\"hidden\",true);\r\n        \r\n        \r\n        // d3.select(\"#drag_svg\").transition()\r\n        //   .duration(100)\r\n        //   // .attr(\"-webkit-transform\", \"rotate(0)\")\r\n        //   // .attr(\"-moz-transform\",    \"rotate(0)\")\r\n        //   // .attr(\"-o-transform\",      \"rotate(0)\")\r\n        //   .attr(\"transform\",         \"rotate(0)\");\r\n        //\r\n      }\r\n      \r\n    };\r\n    node.node().ondrop = function ( ev ){\r\n      ev.preventDefault();\r\n      firstTime = false;\r\n      if ( executeFileDrop ) {\r\n        if ( ev.dataTransfer.items ) {\r\n          if ( ev.dataTransfer.items.length === 1 ) {\r\n            if ( ev.dataTransfer.items[0].kind === 'file' ) {\r\n              var file = ev.dataTransfer.items[0].getAsFile();\r\n              graph.options().loadingModule().fromFileDrop(file.name, file);\r\n            }\r\n          }\r\n          else {\r\n            //  >> WARNING not multiple file uploaded;\r\n            graph.options().warningModule().showMultiFileUploadWarning();\r\n          }\r\n        }\r\n      }\r\n      d3.select(\"#dragDropContainer\").classed(\"hidden\", true);\r\n    };\r\n    \r\n    node.node().ondragleave = function ( e ){\r\n      var w = graph.options().width();\r\n      var h = graph.options().height();\r\n      \r\n      // get event position; (using clientX and clientY);\r\n      var cx = e.clientX;\r\n      var cy = e.clientY;\r\n      \r\n      var hidden = false;\r\n      firstTime = false;\r\n      \r\n      if ( cx < 0.1 * w || cx > 0.9 * w ) hidden = true;\r\n      if ( cy < 0.1 * h || cy > 0.9 * h ) hidden = true;\r\n      d3.select(\"#dragDropContainer\").classed(\"hidden\", hidden);\r\n      \r\n      d3.select(\"#loading-info\").classed(\"hidden\", !wasMessageToShow); // show it again\r\n      // check if it should be visible\r\n      var should_show=graph.options().loadingModule().getMessageVisibilityStatus();\r\n      if (should_show===false){\r\n        d3.select(\"#loading-info\").classed(\"hidden\", true); // hide it\r\n      }\r\n    };\r\n    \r\n  }\r\n  \r\n  \r\n  app.initialize = function (){\r\n    addFileDropEvents(GRAPH_SELECTOR);\r\n    \r\n    window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function ( f ){\r\n        return setTimeout(f, 1000 / 60);\r\n      }; // simulate calling code 60\r\n    window.cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame || function ( requestID ){\r\n        clearTimeout(requestID);\r\n      }; //fall back\r\n    \r\n    options.graphContainerSelector(GRAPH_SELECTOR);\r\n    options.selectionModules().push(focuser);\r\n    options.selectionModules().push(selectionDetailDisplayer);\r\n    options.selectionModules().push(pickAndPin);\r\n    \r\n    options.filterModules().push(emptyLiteralFilter);\r\n    options.filterModules().push(statistics);\r\n    \r\n    options.filterModules().push(nodeDegreeFilter);\r\n    options.filterModules().push(datatypeFilter);\r\n    options.filterModules().push(objectPropertyFilter);\r\n    options.filterModules().push(subclassFilter);\r\n    options.filterModules().push(disjointFilter);\r\n    options.filterModules().push(setOperatorFilter);\r\n    options.filterModules().push(nodeScalingSwitch);\r\n    options.filterModules().push(compactNotationSwitch);\r\n    options.filterModules().push(colorExternalsSwitch);\r\n    \r\n    d3.select(window).on(\"resize\", adjustSize);\r\n    \r\n    exportMenu.setup();\r\n    gravityMenu.setup();\r\n    filterMenu.setup(datatypeFilter, objectPropertyFilter, subclassFilter, disjointFilter, setOperatorFilter, nodeDegreeFilter);\r\n    modeMenu.setup(pickAndPin, nodeScalingSwitch, compactNotationSwitch, colorExternalsSwitch);\r\n    pauseMenu.setup();\r\n    sidebar.setup();\r\n    loadingModule.setup();\r\n    leftSidebar.setup();\r\n    editSidebar.setup();\r\n    debugMenu.setup();\r\n    var agentVersion = getInternetExplorerVersion();\r\n    if ( agentVersion > 0 && agentVersion <= 11 ) {\r\n      console.log(\"Agent version \" + agentVersion);\r\n      console.log(\"This agent is not supported\");\r\n      d3.select(\"#browserCheck\").classed(\"hidden\", false);\r\n      d3.select(\"#killWarning\").classed(\"hidden\", true);\r\n      d3.select(\"#optionsArea\").classed(\"hidden\", true);\r\n      d3.select(\"#logo\").classed(\"hidden\", true);\r\n    } else {\r\n      d3.select(\"#logo\").classed(\"hidden\", false);\r\n      if ( agentVersion === 12 ) {\r\n        // allow Mircosoft Edge Browser but with warning\r\n        d3.select(\"#browserCheck\").classed(\"hidden\", false);\r\n        d3.select(\"#killWarning\").classed(\"hidden\", false);\r\n      } else {\r\n        d3.select(\"#browserCheck\").classed(\"hidden\", true);\r\n      }\r\n      \r\n      resetMenu.setup([gravityMenu, filterMenu, modeMenu, focuser, selectionDetailDisplayer, pauseMenu]);\r\n      searchMenu.setup();\r\n      navigationMenu.setup();\r\n      zoomSlider.setup();\r\n      \r\n      // give the options the pointer to the some menus for import and export\r\n      options.literalFilter(emptyLiteralFilter);\r\n      options.nodeDegreeFilter(nodeDegreeFilter);\r\n      options.loadingModule(loadingModule);\r\n      options.filterMenu(filterMenu);\r\n      options.modeMenu(modeMenu);\r\n      options.gravityMenu(gravityMenu);\r\n      options.pausedMenu(pauseMenu);\r\n      options.pickAndPinModule(pickAndPin);\r\n      options.resetMenu(resetMenu);\r\n      options.searchMenu(searchMenu);\r\n      options.ontologyMenu(ontologyMenu);\r\n      options.navigationMenu(navigationMenu);\r\n      options.sidebar(sidebar);\r\n      options.leftSidebar(leftSidebar);\r\n      options.editSidebar(editSidebar);\r\n      options.exportMenu(exportMenu);\r\n      options.graphObject(graph);\r\n      options.zoomSlider(zoomSlider);\r\n      options.warningModule(warningModule);\r\n      options.directInputModule(directInputMod);\r\n      options.datatypeFilter(datatypeFilter);\r\n      options.objectPropertyFilter(objectPropertyFilter);\r\n      options.subclassFilter(subclassFilter);\r\n      options.setOperatorFilter(setOperatorFilter);\r\n      options.disjointPropertyFilter(disjointFilter);\r\n      options.focuserModule(focuser);\r\n      options.colorExternalsModule(colorExternalsSwitch);\r\n      options.compactNotationModule(compactNotationSwitch);\r\n      \r\n      ontologyMenu.setup(loadOntologyFromText);\r\n      configMenu.setup();\r\n      \r\n      leftSidebar.showSidebar(0);\r\n      //leftSidebar.hideCollapseButton(false);\r\n      \r\n      \r\n      graph.start();\r\n      \r\n      var modeOp = d3.select(\"#modeOfOperationString\");\r\n      modeOp.style(\"font-size\", \"0.6em\");\r\n      modeOp.style(\"font-style\", \"italic\");\r\n      \r\n      adjustSize();\r\n      var defZoom;\r\n      var w = graph.options().width();\r\n      var h = graph.options().height();\r\n      defZoom = Math.min(w, h) / 1000;\r\n      \r\n      var hideDebugOptions = true;\r\n      if ( hideDebugOptions === false ) {\r\n        graph.setForceTickFunctionWithFPS();\r\n      }\r\n      \r\n      graph.setDefaultZoom(defZoom);\r\n      d3.selectAll(\".debugOption\").classed(\"hidden\", hideDebugOptions);\r\n      \r\n      // prevent backspace reloading event\r\n      var htmlBody = d3.select(\"body\");\r\n      d3.select(document).on(\"keydown\", function ( e ){\r\n        if ( d3.event.keyCode === 8 && d3.event.target === htmlBody.node() ) {\r\n          // we could add here an alert\r\n          d3.event.preventDefault();\r\n        }\r\n        // using ctrl+Shift+d as debug option\r\n        if ( d3.event.ctrlKey && d3.event.shiftKey && d3.event.keyCode === 68 ) {\r\n          graph.options().executeHiddenDebugFeatuers();\r\n          d3.event.preventDefault();\r\n        }\r\n      });\r\n      if ( d3.select(\"#maxLabelWidthSliderOption\") ) {\r\n        var setValue = !graph.options().dynamicLabelWidth();\r\n        d3.select(\"#maxLabelWidthSlider\").node().disabled = setValue;\r\n        d3.select(\"#maxLabelWidthvalueLabel\").classed(\"disabledLabelForSlider\", setValue);\r\n        d3.select(\"#maxLabelWidthDescriptionLabel\").classed(\"disabledLabelForSlider\", setValue);\r\n      }\r\n      \r\n      d3.select(\"#blockGraphInteractions\").style(\"position\", \"absolute\")\r\n        .style(\"top\", \"0\")\r\n        .style(\"background-color\", \"#bdbdbd\")\r\n        .style(\"opacity\", \"0.5\")\r\n        .style(\"pointer-events\", \"auto\")\r\n        .style(\"width\", graph.options().width() + \"px\")\r\n        .style(\"height\", graph.options().height() + \"px\")\r\n        .on(\"click\", function (){\r\n          d3.event.preventDefault();\r\n          d3.event.stopPropagation();\r\n        })\r\n        .on(\"dblclick\", function (){\r\n          d3.event.preventDefault();\r\n          d3.event.stopPropagation();\r\n        });\r\n      \r\n      d3.select(\"#direct-text-input\").on(\"click\", function (){\r\n        directInputMod.setDirectInputMode();\r\n      });\r\n      d3.select(\"#blockGraphInteractions\").node().draggable = false;\r\n      options.prefixModule(webvowl.util.prefixTools(graph));\r\n      adjustSize();\r\n      sidebar.updateOntologyInformation(undefined, statistics);\r\n      loadingModule.parseUrlAndLoadOntology(); // loads automatically the ontology provided by the parameters\r\n      options.debugMenu(debugMenu);\r\n      debugMenu.updateSettings();\r\n      \r\n      // connect the reloadCachedVersionButton\r\n      d3.select(\"#reloadSvgIcon\").on(\"click\", function (){\r\n        if ( d3.select(\"#reloadSvgIcon\").node().disabled === true ) {\r\n          graph.options().ontologyMenu().clearCachedVersion();\r\n          return;\r\n        }\r\n        d3.select(\"#reloadCachedOntology\").classed(\"hidden\", true);\r\n        graph.options().ontologyMenu().reloadCachedOntology();\r\n        \r\n      });\r\n      // add the initialized objects\r\n      webvowl.opts = options;\r\n      webvowl.gr = graph;\r\n      \r\n    }\r\n  };\r\n  \r\n  \r\n  function loadOntologyFromText( jsonText, filename, alternativeFilename ){\r\n    debugger;\r\n    d3.select(\"#reloadCachedOntology\").classed(\"hidden\", true);\r\n    pauseMenu.reset();\r\n    graph.options().navigationMenu().hideAllMenus();\r\n    \r\n    if ( (jsonText === undefined && filename === undefined) || (jsonText.length === 0) ) {\r\n      loadingModule.notValidJsonFile();\r\n      return;\r\n    }\r\n    graph.editorMode(); // updates the checkbox\r\n    var data;\r\n    if ( jsonText ) {\r\n      // validate JSON FILE\r\n      var validJSON;\r\n      try {\r\n        data = JSON.parse(jsonText);\r\n        validJSON = true;\r\n      } catch ( e ) {\r\n        validJSON = false;\r\n      }\r\n      if ( validJSON === false ) {\r\n        // the server output is not a valid json file\r\n        loadingModule.notValidJsonFile();\r\n        return;\r\n      }\r\n      \r\n      if ( !filename ) {\r\n        // First look if an ontology title exists, otherwise take the alternative filename\r\n        var ontologyNames = data.header ? data.header.title : undefined;\r\n        var ontologyName = languageTools.textInLanguage(ontologyNames);\r\n        \r\n        if ( ontologyName ) {\r\n          filename = ontologyName;\r\n        } else {\r\n          filename = alternativeFilename;\r\n        }\r\n      }\r\n    }\r\n    \r\n    \r\n    // check if we have graph data\r\n    var classCount = 0;\r\n    if ( data.class !== undefined ) {\r\n      classCount = data.class.length;\r\n    }\r\n    \r\n    var loadEmptyOntologyForEditing = false;\r\n    if ( location.hash.indexOf(\"#new_ontology\") !== -1 ) {\r\n      loadEmptyOntologyForEditing = true;\r\n      newOntologyCounter++;\r\n      d3.select(\"#empty\").node().href = \"#opts=editorMode=true;#new_ontology\" + newOntologyCounter;\r\n    }\r\n    if ( classCount === 0 && graph.editorMode() === false && loadEmptyOntologyForEditing === false ) {\r\n      // generate message for the user;\r\n      loadingModule.emptyGraphContentError();\r\n    } else {\r\n      loadingModule.validJsonFile();\r\n      ontologyMenu.setCachedOntology(filename, jsonText);\r\n      exportMenu.setJsonText(jsonText);\r\n      options.data(data);\r\n      graph.options().loadingModule().setPercentMode();\r\n      if ( loadEmptyOntologyForEditing === true ) {\r\n        graph.editorMode(true);\r\n        \r\n      }\r\n      graph.load();\r\n      sidebar.updateOntologyInformation(data, statistics);\r\n      exportMenu.setFilename(filename);\r\n      graph.updateZoomSliderValueFromOutside();\r\n      adjustSize();\r\n      \r\n      var flagOfCheckBox = d3.select(\"#editorModeModuleCheckbox\").node().checked;\r\n      graph.editorMode(flagOfCheckBox);// update gui\r\n      \r\n    }\r\n  }\r\n  \r\n  function adjustSize(){\r\n    var graphContainer = d3.select(GRAPH_SELECTOR),\r\n      svg = graphContainer.select(\"svg\"),\r\n      height = window.innerHeight - 40,\r\n      width = window.innerWidth - (window.innerWidth * 0.22);\r\n    \r\n    if ( sidebar.getSidebarVisibility() === \"0\" ) {\r\n      height = window.innerHeight - 40;\r\n      width = window.innerWidth;\r\n    }\r\n    \r\n    directInputMod.updateLayout();\r\n    d3.select(\"#blockGraphInteractions\").style(\"width\", window.innerWidth + \"px\");\r\n    d3.select(\"#blockGraphInteractions\").style(\"height\", window.innerHeight + \"px\");\r\n    \r\n    d3.select(\"#WarningErrorMessagesContainer\").style(\"width\", width + \"px\");\r\n    d3.select(\"#WarningErrorMessagesContainer\").style(\"height\", height + \"px\");\r\n    \r\n    d3.select(\"#WarningErrorMessages\").style(\"max-height\", (height - 12) + \"px\");\r\n    \r\n    graphContainer.style(\"height\", height + \"px\");\r\n    svg.attr(\"width\", width)\r\n      .attr(\"height\", height);\r\n    \r\n    options.width(width)\r\n      .height(height);\r\n    \r\n    graph.updateStyle();\r\n    \r\n    if ( isTouchDevice() === true ) {\r\n      if ( graph.isEditorMode() === true )\r\n        d3.select(\"#modeOfOperationString\").node().innerHTML = \"touch able device detected\";\r\n      graph.setTouchDevice(true);\r\n      \r\n    } else {\r\n      if ( graph.isEditorMode() === true )\r\n        d3.select(\"#modeOfOperationString\").node().innerHTML = \"point & click device detected\";\r\n      graph.setTouchDevice(false);\r\n    }\r\n    \r\n    d3.select(\"#loadingInfo-container\").style(\"height\", 0.5 * (height - 80) + \"px\");\r\n    loadingModule.checkForScreenSize();\r\n    \r\n    adjustSliderSize();\r\n    // update also the padding options of loading and the logo positions;\r\n    var warningDiv = d3.select(\"#browserCheck\");\r\n    if ( warningDiv.classed(\"hidden\") === false ) {\r\n      var offset = 10 + warningDiv.node().getBoundingClientRect().height;\r\n      d3.select(\"#logo\").style(\"padding\", offset + \"px 10px\");\r\n    } else {\r\n      // remove the dynamic padding from the logo element;\r\n      d3.select(\"#logo\").style(\"padding\", \"10px\");\r\n    }\r\n    \r\n    // scrollbar tests;\r\n    var element = d3.select(\"#menuElementContainer\").node();\r\n    var maxScrollLeft = element.scrollWidth - element.clientWidth;\r\n    var leftButton = d3.select(\"#scrollLeftButton\");\r\n    var rightButton = d3.select(\"#scrollRightButton\");\r\n    if ( maxScrollLeft > 0 ) {\r\n      // show both and then check how far is bar;\r\n      rightButton.classed(\"hidden\", false);\r\n      leftButton.classed(\"hidden\", false);\r\n      navigationMenu.updateScrollButtonVisibility();\r\n    } else {\r\n      // hide both;\r\n      rightButton.classed(\"hidden\", true);\r\n      leftButton.classed(\"hidden\", true);\r\n    }\r\n    \r\n    // adjust height of the leftSidebar element;\r\n    editSidebar.updateElementWidth();\r\n    \r\n    \r\n    var hs = d3.select(\"#drag_msg\").node().getBoundingClientRect().height;\r\n    var ws = d3.select(\"#drag_msg\").node().getBoundingClientRect().width;\r\n    d3.select(\"#drag_icon_group\").attr(\"transform\", \"translate ( \" + 0.25 * ws + \" \" + 0.25 * hs + \")\");\r\n    \r\n  }\r\n  \r\n  function adjustSliderSize(){\r\n    // TODO: refactor and put this into the slider it self\r\n    var height = window.innerHeight - 40;\r\n    var fullHeight = height;\r\n    var zoomOutPos = height - 30;\r\n    var sliderHeight = 150;\r\n    \r\n    // assuming DOM elements are generated in the index.html\r\n    // todo: refactor for independent usage of graph and app\r\n    if ( fullHeight < 150 ) {\r\n      // hide the slider button;\r\n      d3.select(\"#zoomSliderParagraph\").classed(\"hidden\", true);\r\n      d3.select(\"#zoomOutButton\").classed(\"hidden\", true);\r\n      d3.select(\"#zoomInButton\").classed(\"hidden\", true);\r\n      d3.select(\"#centerGraphButton\").classed(\"hidden\", true);\r\n      return;\r\n    }\r\n    d3.select(\"#zoomSliderParagraph\").classed(\"hidden\", false);\r\n    d3.select(\"#zoomOutButton\").classed(\"hidden\", false);\r\n    d3.select(\"#zoomInButton\").classed(\"hidden\", false);\r\n    d3.select(\"#centerGraphButton\").classed(\"hidden\", false);\r\n    \r\n    var zoomInPos = zoomOutPos - 20;\r\n    var centerPos = zoomInPos - 20;\r\n    if ( fullHeight < 280 ) {\r\n      // hide the slider button;\r\n      d3.select(\"#zoomSliderParagraph\").classed(\"hidden\", true);//var sliderPos=zoomOutPos-sliderHeight;\r\n      d3.select(\"#zoomOutButton\").style(\"top\", zoomOutPos + \"px\");\r\n      d3.select(\"#zoomInButton\").style(\"top\", zoomInPos + \"px\");\r\n      d3.select(\"#centerGraphButton\").style(\"top\", centerPos + \"px\");\r\n      return;\r\n    }\r\n    \r\n    var sliderPos = zoomOutPos - sliderHeight;\r\n    zoomInPos = sliderPos - 20;\r\n    centerPos = zoomInPos - 20;\r\n    d3.select(\"#zoomSliderParagraph\").classed(\"hidden\", false);\r\n    d3.select(\"#zoomOutButton\").style(\"top\", zoomOutPos + \"px\");\r\n    d3.select(\"#zoomInButton\").style(\"top\", zoomInPos + \"px\");\r\n    d3.select(\"#centerGraphButton\").style(\"top\", centerPos + \"px\");\r\n    d3.select(\"#zoomSliderParagraph\").style(\"top\", sliderPos + \"px\");\r\n  }\r\n  \r\n  function isTouchDevice(){\r\n    try {\r\n      document.createEvent(\"TouchEvent\");\r\n      return true;\r\n    } catch ( e ) {\r\n      return false;\r\n    }\r\n  }\r\n  \r\n  \r\n  function getInternetExplorerVersion(){\r\n    var ua,\r\n      re,\r\n      rv = -1;\r\n    \r\n    // check for edge\r\n    var isEdge = /(?:\\b(MS)?IE\\s+|\\bTrident\\/7\\.0;.*\\s+rv:|\\bEdge\\/)(\\d+)/.test(navigator.userAgent);\r\n    if ( isEdge ) {\r\n      rv = parseInt(\"12\");\r\n      return rv;\r\n    }\r\n    \r\n    var isIE11 = /Trident.*rv[ :]*11\\./.test(navigator.userAgent);\r\n    if ( isIE11 ) {\r\n      rv = parseInt(\"11\");\r\n      return rv;\r\n    }\r\n    if ( navigator.appName === \"Microsoft Internet Explorer\" ) {\r\n      ua = navigator.userAgent;\r\n      re = new RegExp(\"MSIE ([0-9]{1,}[\\\\.0-9]{0,})\");\r\n      if ( re.exec(ua) !== null ) {\r\n        rv = parseFloat(RegExp.$1);\r\n      }\r\n    } else if ( navigator.appName === \"Netscape\" ) {\r\n      ua = navigator.userAgent;\r\n      re = new RegExp(\"Trident/.*rv:([0-9]{1,}[\\\\.0-9]{0,})\");\r\n      if ( re.exec(ua) !== null ) {\r\n        rv = parseFloat(RegExp.$1);\r\n      }\r\n    }\r\n    return rv;\r\n  }\r\n  \r\n  return app;\r\n}\r\n;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/app.js\n// module id = 318\n// module chunks = 1","/**\r\n * Contains the logic for the export button.\r\n * @returns {{}}\r\n */\r\nmodule.exports = function ( graph ){\r\n  \r\n  var exportMenu = {},\r\n    exportSvgButton,\r\n    exportFilename,\r\n    exportJsonButton,\r\n    exportTurtleButton,\r\n    exportTexButton,\r\n    copyButton,\r\n    exportableJsonText;\r\n  \r\n  var exportTTLModule = require(\"./exportTTLModule\")(graph);\r\n  \r\n  \r\n  String.prototype.replaceAll = function ( search, replacement ){\r\n    var target = this;\r\n    return target.split(search).join(replacement);\r\n  };\r\n  \r\n  \r\n  /**\r\n   * Adds the export button to the website.\r\n   */\r\n  exportMenu.setup = function (){\r\n    exportSvgButton = d3.select(\"#exportSvg\")\r\n      .on(\"click\", exportSvg);\r\n    exportJsonButton = d3.select(\"#exportJson\")\r\n      .on(\"click\", exportJson);\r\n    \r\n    copyButton = d3.select(\"#copyBt\")\r\n      .on(\"click\", copyUrl);\r\n    \r\n    exportTexButton = d3.select(\"#exportTex\")\r\n      .on(\"click\", exportTex);\r\n    \r\n    exportTurtleButton = d3.select(\"#exportTurtle\")\r\n      .on(\"click\", exportTurtle);\r\n    \r\n    var menuEntry = d3.select(\"#m_export\");\r\n    menuEntry.on(\"mouseover\", function (){\r\n      var searchMenu = graph.options().searchMenu();\r\n      searchMenu.hideSearchEntries();\r\n      exportMenu.exportAsUrl();\r\n    });\r\n  };\r\n  function exportTurtle(){\r\n    var success = exportTTLModule.requestExport();\r\n    var result = exportTTLModule.resultingTTL_Content();\r\n    var ontoTitle = \"NewOntology\";\r\n    console.log(\"Exporter was successful: \" + success);\r\n    if ( success ) {\r\n      // console.log(\"The result is : \" + result);\r\n      // var ontoTitle=graph.options().getGeneralMetaObjectProperty('title');\r\n      // if (ontoTitle===undefined || ontoTitle.length===0)\r\n      // \tontoTitle=\"NewOntology\";\r\n      // else{\r\n      // \t// language object -.-\r\n      //    ontoTitle.replace(\" \",\"_\")\r\n      // }\r\n      \r\n      // TODO: show TEXT in warning module?\r\n      \r\n      \r\n      // // write the data\r\n      var dataURI = \"data:text/json;charset=utf-8,\" + encodeURIComponent(result);\r\n      \r\n      exportTurtleButton.attr(\"href\", dataURI)\r\n        .attr(\"download\", ontoTitle + \".ttl\");\r\n      \r\n      // okay restore old href?\r\n      //  exportTurtleButton.attr(\"href\", oldHref);\r\n    } else {\r\n      console.log(\"ShowWarning!\");\r\n      graph.options().warningModule().showExporterWarning();\r\n      console.log(\"Stay on the page! \" + window.location.href);\r\n      exportTurtleButton.attr(\"href\", window.location.href);\r\n      d3.event.preventDefault(); // prevent the href to be called ( reloads the page otherwise )\r\n    }\r\n  }\r\n  \r\n  exportMenu.setFilename = function ( filename ){\r\n    exportFilename = filename || \"export\";\r\n  };\r\n  \r\n  exportMenu.setJsonText = function ( jsonText ){\r\n    exportableJsonText = jsonText;\r\n  };\r\n  \r\n  function copyUrl(){\r\n    d3.select(\"#exportedUrl\").node().focus();\r\n    d3.select(\"#exportedUrl\").node().select();\r\n    document.execCommand(\"copy\");\r\n    graph.options().navigationMenu().hideAllMenus();\r\n    d3.event.preventDefault(); // prevent the href to be called ( reloads the page otherwise )\r\n  }\r\n  \r\n  function prepareOptionString( defOpts, currOpts ){\r\n    var setOptions = 0;\r\n    var optsString = \"opts=\";\r\n    \r\n    for ( var name in defOpts ) {\r\n      // define key and value ;\r\n      if ( defOpts.hasOwnProperty(name) ) {// for travis warning\r\n        var def_value = defOpts[name];\r\n        var cur_value = currOpts[name];\r\n        if ( def_value !== cur_value ) {\r\n          optsString += name + \"=\" + cur_value + \";\";\r\n          setOptions++;\r\n        }\r\n      }\r\n    }\r\n    optsString += \"\";\r\n    if ( setOptions === 0 ) {\r\n      return \"\";\r\n    }\r\n    return optsString;\r\n  }\r\n  \r\n  exportMenu.exportAsUrl = function (){\r\n    var currObj = {};\r\n    currObj.sidebar = graph.options().sidebar().getSidebarVisibility();\r\n    \r\n    // identify default value given by ontology;\r\n    var defOntValue = graph.options().filterMenu().getDefaultDegreeValue();\r\n    var currentValue = graph.options().filterMenu().getDegreeSliderValue();\r\n    if ( parseInt(defOntValue) === parseInt(currentValue) ) {\r\n      currObj.doc = -1;\r\n    } else {\r\n      currObj.doc = currentValue;\r\n    }\r\n    \r\n    currObj.cd = graph.options().classDistance();\r\n    currObj.dd = graph.options().datatypeDistance();\r\n    if ( graph.editorMode() === true ) {\r\n      currObj.editorMode = \"true\";\r\n    } else {\r\n      currObj.editorMode = \"false\";\r\n    }\r\n    currObj.filter_datatypes = String(graph.options().filterMenu().getCheckBoxValue(\"datatypeFilterCheckbox\"));\r\n    currObj.filter_sco = String(graph.options().filterMenu().getCheckBoxValue(\"subclassFilterCheckbox\"));\r\n    currObj.filter_disjoint = String(graph.options().filterMenu().getCheckBoxValue(\"disjointFilterCheckbox\"));\r\n    currObj.filter_setOperator = String(graph.options().filterMenu().getCheckBoxValue(\"setoperatorFilterCheckbox\"));\r\n    currObj.filter_objectProperties = String(graph.options().filterMenu().getCheckBoxValue(\"objectPropertyFilterCheckbox\"));\r\n    currObj.mode_dynamic = String(graph.options().dynamicLabelWidth());\r\n    currObj.mode_scaling = String(graph.options().modeMenu().getCheckBoxValue(\"nodescalingModuleCheckbox\"));\r\n    currObj.mode_compact = String(graph.options().modeMenu().getCheckBoxValue(\"compactnotationModuleCheckbox\"));\r\n    currObj.mode_colorExt = String(graph.options().modeMenu().getCheckBoxValue(\"colorexternalsModuleCheckbox\"));\r\n    currObj.mode_multiColor = String(graph.options().modeMenu().colorModeState());\r\n    currObj.mode_pnp = String(graph.options().modeMenu().getCheckBoxValue(\"pickandpinModuleCheckbox\"));\r\n    currObj.debugFeatures = String(!graph.options().getHideDebugFeatures());\r\n    currObj.rect = 0;\r\n    \r\n    var defObj = graph.options().initialConfig();\r\n    var optsString = prepareOptionString(defObj, currObj);\r\n    var urlString = String(location);\r\n    var htmlElement;\r\n    // when everything is default then there is nothing to write\r\n    if ( optsString.length === 0 ) {\r\n      // building up parameter list;\r\n      \r\n      // remove the all options form location\r\n      var hashCode = location.hash;\r\n      urlString = urlString.split(hashCode)[0];\r\n      \r\n      var lPos = hashCode.lastIndexOf(\"#\");\r\n      if ( lPos === -1 ) {\r\n        htmlElement = d3.select(\"#exportedUrl\").node();\r\n        htmlElement.value = String(location);\r\n        htmlElement.title = String(location);\r\n        return;  // nothing to change in the location String\r\n      }\r\n      var newURL = hashCode.slice(lPos, hashCode.length);\r\n      htmlElement = d3.select(\"#exportedUrl\").node();\r\n      htmlElement.value = urlString + newURL;\r\n      htmlElement.title = urlString + newURL;\r\n      return;\r\n    }\r\n    \r\n    // generate the options string;\r\n    var numParameters = (urlString.match(/#/g) || []).length;\r\n    var newUrlString;\r\n    if ( numParameters === undefined || numParameters === 0 ) {\r\n      newUrlString = urlString + \"#\" + optsString;\r\n    }\r\n    if ( numParameters > 0 ) {\r\n      var tokens = urlString.split(\"#\");\r\n      var i;\r\n      if ( tokens[1].indexOf(\"opts=\") >= 0 ) {\r\n        tokens[1] = optsString;\r\n        newUrlString = tokens[0];\r\n      } else {\r\n        newUrlString = tokens[0] + \"#\";\r\n        newUrlString += optsString;\r\n      }\r\n      // append parameters\r\n      for ( i = 1; i < tokens.length; i++ ) {\r\n        if ( tokens[i].length > 0 ) {\r\n          newUrlString += \"#\" + tokens[i];\r\n        }\r\n      }\r\n    }\r\n    // building up parameter list;\r\n    htmlElement = d3.select(\"#exportedUrl\").node();\r\n    htmlElement.value = newUrlString;\r\n    htmlElement.title = newUrlString;\r\n    \r\n  };\r\n  \r\n  function exportSvg(){\r\n    graph.options().navigationMenu().hideAllMenus();\r\n    // Get the d3js SVG element\r\n    var graphSvg = d3.select(graph.options().graphContainerSelector()).select(\"svg\"),\r\n      graphSvgCode,\r\n      escapedGraphSvgCode,\r\n      dataURI;\r\n    \r\n    // inline the styles, so that the exported svg code contains the css rules\r\n    inlineVowlStyles();\r\n    hideNonExportableElements();\r\n    \r\n    graphSvgCode = graphSvg.attr(\"version\", 1.1)\r\n      .attr(\"xmlns\", \"http://www.w3.org/2000/svg\")\r\n      .node().parentNode.innerHTML;\r\n    \r\n    // Insert the reference to VOWL\r\n    graphSvgCode = \"<!-- Created with WebVOWL (version \" + webvowl.version + \")\" +\r\n      \", http://vowl.visualdataweb.org -->\\n\" + graphSvgCode;\r\n    \r\n    escapedGraphSvgCode = escapeUnicodeCharacters(graphSvgCode);\r\n    //btoa(); Creates a base-64 encoded ASCII string from a \"string\" of binary data.\r\n    dataURI = \"data:image/svg+xml;base64,\" + btoa(escapedGraphSvgCode);\r\n    \r\n    \r\n    exportSvgButton.attr(\"href\", dataURI)\r\n      .attr(\"download\", exportFilename + \".svg\");\r\n    \r\n    // remove graphic styles for interaction to go back to normal\r\n    removeVowlInlineStyles();\r\n    showNonExportableElements();\r\n    graph.lazyRefresh();\r\n  }\r\n  \r\n  function escapeUnicodeCharacters( text ){\r\n    var textSnippets = [],\r\n      i, textLength = text.length,\r\n      character,\r\n      charCode;\r\n    \r\n    for ( i = 0; i < textLength; i++ ) {\r\n      character = text.charAt(i);\r\n      charCode = character.charCodeAt(0);\r\n      \r\n      if ( charCode < 128 ) {\r\n        textSnippets.push(character);\r\n      } else {\r\n        textSnippets.push(\"&#\" + charCode + \";\");\r\n      }\r\n    }\r\n    \r\n    return textSnippets.join(\"\");\r\n  }\r\n  \r\n  function inlineVowlStyles(){\r\n    setStyleSensitively(\".text\", [{ name: \"font-family\", value: \"Helvetica, Arial, sans-serif\" }, {\r\n      name: \"font-size\",\r\n      value: \"12px\"\r\n    }]);\r\n    setStyleSensitively(\".subtext\", [{ name: \"font-size\", value: \"9px\" }]);\r\n    setStyleSensitively(\".text.instance-count\", [{ name: \"fill\", value: \"#666\" }]);\r\n    setStyleSensitively(\".external + text .instance-count\", [{ name: \"fill\", value: \"#aaa\" }]);\r\n    setStyleSensitively(\".cardinality\", [{ name: \"font-size\", value: \"10px\" }]);\r\n    setStyleSensitively(\".text, .embedded\", [{ name: \"pointer-events\", value: \"none\" }]);\r\n    setStyleSensitively(\".class, .object, .disjoint, .objectproperty, .disjointwith, .equivalentproperty, .transitiveproperty, .functionalproperty, .inversefunctionalproperty, .symmetricproperty, .allvaluesfromproperty, .somevaluesfromproperty\", [{\r\n      name: \"fill\",\r\n      value: \"#acf\"\r\n    }]);\r\n    setStyleSensitively(\".label .datatype, .datatypeproperty\", [{ name: \"fill\", value: \"#9c6\" }]);\r\n    setStyleSensitively(\".rdf, .rdfproperty\", [{ name: \"fill\", value: \"#c9c\" }]);\r\n    setStyleSensitively(\".literal, .node .datatype\", [{ name: \"fill\", value: \"#fc3\" }]);\r\n    setStyleSensitively(\".deprecated, .deprecatedproperty\", [{ name: \"fill\", value: \"#ccc\" }]);\r\n    setStyleSensitively(\".external, .externalproperty\", [{ name: \"fill\", value: \"#36c\" }]);\r\n    setStyleSensitively(\"path, .nofill\", [{ name: \"fill\", value: \"none\" }]);\r\n    setStyleSensitively(\"marker path\", [{ name: \"fill\", value: \"#000\" }]);\r\n    setStyleSensitively(\".class, path, line, .fineline\", [{ name: \"stroke\", value: \"#000\" }]);\r\n    setStyleSensitively(\".white, .subclass, .subclassproperty, .external + text\", [{ name: \"fill\", value: \"#fff\" }]);\r\n    setStyleSensitively(\".class.hovered, .property.hovered, .cardinality.hovered, .cardinality.focused, circle.pin, .filled.hovered, .filled.focused\", [{\r\n      name: \"fill\",\r\n      value: \"#f00\"\r\n    }, { name: \"cursor\", value: \"pointer\" }]);\r\n    setStyleSensitively(\".focused, path.hovered\", [{ name: \"stroke\", value: \"#f00\" }]);\r\n    setStyleSensitively(\".indirect-highlighting, .feature:hover\", [{ name: \"fill\", value: \"#f90\" }]);\r\n    setStyleSensitively(\".values-from\", [{ name: \"stroke\", value: \"#69c\" }]);\r\n    setStyleSensitively(\".symbol, .values-from.filled\", [{ name: \"fill\", value: \"#69c\" }]);\r\n    setStyleSensitively(\".class, path, line\", [{ name: \"stroke-width\", value: \"2\" }]);\r\n    setStyleSensitively(\".fineline\", [{ name: \"stroke-width\", value: \"1\" }]);\r\n    setStyleSensitively(\".dashed, .anonymous\", [{ name: \"stroke-dasharray\", value: \"8\" }]);\r\n    setStyleSensitively(\".dotted\", [{ name: \"stroke-dasharray\", value: \"3\" }]);\r\n    setStyleSensitively(\"rect.focused, circle.focused\", [{ name: \"stroke-width\", value: \"4px\" }]);\r\n    setStyleSensitively(\".nostroke\", [{ name: \"stroke\", value: \"none\" }]);\r\n    setStyleSensitively(\"marker path\", [{ name: \"stroke-dasharray\", value: \"100\" }]);\r\n  }\r\n  \r\n  function setStyleSensitively( selector, styles ){\r\n    var elements = d3.selectAll(selector);\r\n    if ( elements.empty() ) {\r\n      return;\r\n    }\r\n    \r\n    styles.forEach(function ( style ){\r\n      elements.each(function (){\r\n        var element = d3.select(this);\r\n        if ( !shouldntChangeInlineCss(element, style.name) ) {\r\n          element.style(style.name, style.value);\r\n        }\r\n      });\r\n    });\r\n  }\r\n  \r\n  function shouldntChangeInlineCss( element, style ){\r\n    return style === \"fill\" && hasBackgroundColorSet(element);\r\n  }\r\n  \r\n  function hasBackgroundColorSet( element ){\r\n    var data = element.datum();\r\n    if ( data === undefined ) {\r\n      return false;\r\n    }\r\n    return data.backgroundColor && !!data.backgroundColor();\r\n  }\r\n  \r\n  /**\r\n   * For example the pin of the pick&pin module should be invisible in the exported graphic.\r\n   */\r\n  function hideNonExportableElements(){\r\n    d3.selectAll(\".hidden-in-export\").style(\"display\", \"none\");\r\n  }\r\n  \r\n  function removeVowlInlineStyles(){\r\n    d3.selectAll(\".text, .subtext, .text.instance-count, .external + text .instance-count, .cardinality, .text, .embedded, .class, .object, .disjoint, .objectproperty, .disjointwith, .equivalentproperty, .transitiveproperty, .functionalproperty, .inversefunctionalproperty, .symmetricproperty, .allvaluesfromproperty, .somevaluesfromproperty, .label .datatype, .datatypeproperty, .rdf, .rdfproperty, .literal, .node .datatype, .deprecated, .deprecatedproperty, .external, .externalproperty, path, .nofill, .symbol, .values-from.filled, marker path, .class, path, line, .fineline, .white, .subclass, .subclassproperty, .external + text, .class.hovered, .property.hovered, .cardinality.hovered, .cardinality.focused, circle.pin, .filled.hovered, .filled.focused, .focused, path.hovered, .indirect-highlighting, .feature:hover, .values-from, .class, path, line, .fineline, .dashed, .anonymous, .dotted, rect.focused, circle.focused, .nostroke, marker path\")\r\n      .each(function (){\r\n        var element = d3.select(this);\r\n        \r\n        var inlineStyles = element.node().style;\r\n        for ( var styleName in inlineStyles ) {\r\n          if ( inlineStyles.hasOwnProperty(styleName) ) {\r\n            if ( shouldntChangeInlineCss(element, styleName) ) {\r\n              continue;\r\n            }\r\n            element.style(styleName, null);\r\n          }\r\n        }\r\n        \r\n        if ( element.datum && element.datum() !== undefined && element.datum().type ) {\r\n          if ( element.datum().type() === \"rdfs:subClassOf\" ) {\r\n            element.style(\"fill\", null);\r\n          }\r\n        }\r\n      });\r\n    \r\n    // repair svg icons in the menu;\r\n    var scrollContainer = d3.select(\"#menuElementContainer\").node();\r\n    var controlElements = scrollContainer.children;\r\n    var numEntries = controlElements.length;\r\n    \r\n    for ( var i = 0; i < numEntries; i++ ) {\r\n      var currentMenu = controlElements[i].id;\r\n      d3.select(\"#\" + currentMenu).select(\"path\").style(\"stroke-width\", \"0\");\r\n      d3.select(\"#\" + currentMenu).select(\"path\").style(\"fill\", \"#fff\");\r\n    }\r\n    \r\n    d3.select(\"#magnifyingGlass\").style(\"stroke-width\", \"0\");\r\n    d3.select(\"#magnifyingGlass\").style(\"fill\", \"#666\");\r\n    \r\n  }\r\n  \r\n  function showNonExportableElements(){\r\n    d3.selectAll(\".hidden-in-export\").style(\"display\", null);\r\n  }\r\n  \r\n  exportMenu.createJSON_exportObject = function (){\r\n    var i, j, k; // an index variable for the for-loops\r\n    \r\n    /** get data for exporter **/\r\n      if (!graph.options().data()) {return {};} // return an empty json object\r\n      // extract onotology information;\r\n    var unfilteredData = graph.getUnfilteredData();\r\n    var ontologyComment = graph.options().data()._comment;\r\n    var metaObj = graph.options().getGeneralMetaObject();\r\n    var header = graph.options().data().header;\r\n    \r\n    if ( metaObj.iri && metaObj.iri !== header.iri ) {\r\n      header.iri = metaObj.iri;\r\n    }\r\n    if ( metaObj.title && metaObj.title !== header.title ) {\r\n      header.title = metaObj.title;\r\n    }\r\n    if ( metaObj.version && metaObj.version !== header.version ) {\r\n      header.version = metaObj.version;\r\n    }\r\n    if ( metaObj.author && metaObj.author !== header.author ) {\r\n      header.author = metaObj.author;\r\n    }\r\n    if ( metaObj.description && metaObj.description !== header.description ) {\r\n      header.description = metaObj.description;\r\n    }\r\n    \r\n    \r\n    var exportText = {};\r\n    exportText._comment = ontologyComment;\r\n    exportText.header = header;\r\n    exportText.namespace = graph.options().data().namespace;\r\n    if ( exportText.namespace === undefined ) {\r\n      exportText.namespace = []; // just an empty namespace array\r\n    }\r\n    // we do have now the unfiltered data which needs to be transfered to class/classAttribute and property/propertyAttribute\r\n    \r\n    \r\n    // var classAttributeString='classAttribute:[ \\n';\r\n    var nodes = unfilteredData.nodes;\r\n    var nLen = nodes.length; // hope for compiler unroll\r\n    var classObjects = [];\r\n    var classAttributeObjects = [];\r\n    for ( i = 0; i < nLen; i++ ) {\r\n      var classObj = {};\r\n      var classAttr = {};\r\n      classObj.id = nodes[i].id();\r\n      classObj.type = nodes[i].type();\r\n      classObjects.push(classObj);\r\n      \r\n      // define the attributes object\r\n      classAttr.id = nodes[i].id();\r\n      classAttr.iri = nodes[i].iri();\r\n      classAttr.baseIri = nodes[i].baseIri();\r\n      classAttr.label = nodes[i].label();\r\n      \r\n      if ( nodes[i].attributes().length > 0 ) {\r\n        classAttr.attributes = nodes[i].attributes();\r\n      }\r\n      if ( nodes[i].comment() ) {\r\n        classAttr.comment = nodes[i].comment();\r\n      }\r\n      if ( nodes[i].annotations() ) {\r\n        classAttr.annotations = nodes[i].annotations();\r\n      }\r\n      if ( nodes[i].description() ) {\r\n        classAttr.description = nodes[i].description();\r\n      }\r\n      \r\n      \r\n      if ( nodes[i].individuals().length > 0 ) {\r\n        var classIndividualElements = [];\r\n        var nIndividuals = nodes[i].individuals();\r\n        for ( j = 0; j < nIndividuals.length; j++ ) {\r\n          var indObj = {};\r\n          indObj.iri = nIndividuals[j].iri();\r\n          indObj.baseIri = nIndividuals[j].baseIri();\r\n          indObj.labels = nIndividuals[j].label();\r\n          if ( nIndividuals[j].annotations() ) {\r\n            indObj.annotations = nIndividuals[j].annotations();\r\n          }\r\n          if ( nIndividuals[j].description() ) {\r\n            indObj.description = nIndividuals[j].description();\r\n          }\r\n          if ( nIndividuals[j].comment() ) {\r\n            indObj.comment = nIndividuals[j].comment();\r\n          }\r\n          classIndividualElements.push(indObj);\r\n        }\r\n        classAttr.individuals = classIndividualElements;\r\n      }\r\n      \r\n      var equalsForAttributes = undefined;\r\n      if ( nodes[i].equivalents().length > 0 ) {\r\n        equalsForAttributes = [];\r\n        var equals = nodes[i].equivalents();\r\n        for ( j = 0; j < equals.length; j++ ) {\r\n          var eqObj = {};\r\n          var eqAttr = {};\r\n          eqObj.id = equals[j].id();\r\n          equalsForAttributes.push(equals[j].id());\r\n          eqObj.type = equals[j].type();\r\n          classObjects.push(eqObj);\r\n          \r\n          eqAttr.id = equals[j].id();\r\n          eqAttr.iri = equals[j].iri();\r\n          eqAttr.baseIri = equals[j].baseIri();\r\n          eqAttr.label = equals[j].label();\r\n          \r\n          if ( equals[j].attributes().length > 0 ) {\r\n            eqAttr.attributes = equals[j].attributes();\r\n          }\r\n          if ( equals[j].comment() ) {\r\n            eqAttr.comment = equals[j].comment();\r\n          }\r\n          if ( equals[j].individuals().length > 0 ) {\r\n            eqAttr.individuals = equals[j].individuals();\r\n          }\r\n          if ( equals[j].annotations() ) {\r\n            eqAttr.annotations = equals[j].annotations();\r\n          }\r\n          if ( equals[j].description() ) {\r\n            eqAttr.description = equals[j].description();\r\n          }\r\n          \r\n          if ( equals[j].individuals().length > 0 ) {\r\n            var e_classIndividualElements = [];\r\n            var e_nIndividuals = equals[i].individuals();\r\n            for ( k = 0; k < e_nIndividuals.length; k++ ) {\r\n              var e_indObj = {};\r\n              e_indObj.iri = e_nIndividuals[k].iri();\r\n              e_indObj.baseIri = e_nIndividuals[k].baseIri();\r\n              e_indObj.labels = e_nIndividuals[k].label();\r\n              \r\n              if ( e_nIndividuals[k].annotations() ) {\r\n                e_indObj.annotations = e_nIndividuals[k].annotations();\r\n              }\r\n              if ( e_nIndividuals[k].description() ) {\r\n                e_indObj.description = e_nIndividuals[k].description();\r\n              }\r\n              if ( e_nIndividuals[k].comment() ) {\r\n                e_indObj.comment = e_nIndividuals[k].comment();\r\n              }\r\n              e_classIndividualElements.push(e_indObj);\r\n            }\r\n            eqAttr.individuals = e_classIndividualElements;\r\n          }\r\n          \r\n          classAttributeObjects.push(eqAttr);\r\n        }\r\n      }\r\n      if ( equalsForAttributes && equalsForAttributes.length > 0 ) {\r\n        classAttr.equivalent = equalsForAttributes;\r\n      }\r\n      \r\n      // classAttr.subClasses=nodes[i].subClasses(); // not needed\r\n      // classAttr.instances=nodes[i].instances();\r\n      \r\n      //\r\n      // .complement(element.complement)\r\n      // .disjointUnion(element.disjointUnion)\r\n      // .description(element.description)\r\n      // .equivalents(element.equivalent)\r\n      // .intersection(element.intersection)\r\n      // .type(element.type) Ignore, because we predefined it\r\n      // .union(element.union)\r\n      classAttributeObjects.push(classAttr);\r\n    }\r\n    \r\n    /** -- properties -- **/\r\n    var properties = unfilteredData.properties;\r\n    var pLen = properties.length; // hope for compiler unroll\r\n    var propertyObjects = [];\r\n    var propertyAttributeObjects = [];\r\n    \r\n    for ( i = 0; i < pLen; i++ ) {\r\n      var pObj = {};\r\n      var pAttr = {};\r\n      pObj.id = properties[i].id();\r\n      pObj.type = properties[i].type();\r\n      propertyObjects.push(pObj);\r\n      \r\n      // // define the attributes object\r\n      pAttr.id = properties[i].id();\r\n      pAttr.iri = properties[i].iri();\r\n      pAttr.baseIri = properties[i].baseIri();\r\n      pAttr.label = properties[i].label();\r\n      \r\n      if ( properties[i].attributes().length > 0 ) {\r\n        pAttr.attributes = properties[i].attributes();\r\n      }\r\n      if ( properties[i].comment() ) {\r\n        pAttr.comment = properties[i].comment();\r\n      }\r\n      \r\n      if ( properties[i].annotations() ) {\r\n        pAttr.annotations = properties[i].annotations();\r\n      }\r\n      if ( properties[i].maxCardinality() ) {\r\n        pAttr.maxCardinality = properties[i].maxCardinality();\r\n      }\r\n      if ( properties[i].minCardinality() ) {\r\n        pAttr.minCardinality = properties[i].minCardinality();\r\n      }\r\n      if ( properties[i].cardinality() ) {\r\n        pAttr.cardinality = properties[i].cardinality();\r\n      }\r\n      if ( properties[i].description() ) {\r\n        pAttr.description = properties[i].description();\r\n      }\r\n      \r\n      pAttr.domain = properties[i].domain().id();\r\n      pAttr.range = properties[i].range().id();\r\n      // sub properties;\r\n      if ( properties[i].subproperties() ) {\r\n        var subProps = properties[i].subproperties();\r\n        var subPropsIdArray = [];\r\n        for ( j = 0; j < subProps.length; j++ ) {\r\n          if ( subProps[j].id )\r\n            subPropsIdArray.push(subProps[j].id());\r\n        }\r\n        pAttr.subproperty = subPropsIdArray;\r\n      }\r\n      \r\n      // super properties\r\n      if ( properties[i].superproperties() ) {\r\n        var superProps = properties[i].superproperties();\r\n        var superPropsIdArray = [];\r\n        for ( j = 0; j < superProps.length; j++ ) {\r\n          if ( superProps[j].id )\r\n            superPropsIdArray.push(superProps[j].id());\r\n        }\r\n        pAttr.superproperty = superPropsIdArray;\r\n      }\r\n      \r\n      // check for inverse element\r\n      if ( properties[i].inverse() ) {\r\n        if ( properties[i].inverse().id )\r\n          pAttr.inverse = properties[i].inverse().id();\r\n      }\r\n      propertyAttributeObjects.push(pAttr);\r\n    }\r\n    \r\n    exportText.class = classObjects;\r\n    exportText.classAttribute = classAttributeObjects;\r\n    exportText.property = propertyObjects;\r\n    exportText.propertyAttribute = propertyAttributeObjects;\r\n    \r\n    \r\n    var nodeElements = graph.graphNodeElements();  // get visible nodes\r\n    var propElements = graph.graphLabelElements(); // get visible labels\r\n    // var jsonObj = JSON.parse(exportableJsonText);\t   // reparse the original input json\r\n    \r\n    /** modify comment **/\r\n    var comment = exportText._comment;\r\n    var additionalString = \" [Additional Information added by WebVOWL Exporter Version: \" + \"@@WEBVOWL_VERSION\" + \"]\";\r\n    // adding new string to comment only if it does not exist\r\n    if ( comment.indexOf(additionalString) === -1 ) {\r\n      exportText._comment = comment + \" [Additional Information added by WebVOWL Exporter Version: \" + \"@@WEBVOWL_VERSION\" + \"]\";\r\n    }\r\n    \r\n    var classAttribute = exportText.classAttribute;\r\n    var propAttribute = exportText.propertyAttribute;\r\n    /**  remove previously stored variables **/\r\n    for ( i = 0; i < classAttribute.length; i++ ) {\r\n      var classObj_del = classAttribute[i];\r\n      delete classObj_del.pos;\r\n      delete classObj_del.pinned;\r\n    }\r\n    var propertyObj;\r\n    for ( i = 0; i < propAttribute.length; i++ ) {\r\n      propertyObj = propAttribute[i];\r\n      delete propertyObj.pos;\r\n      delete propertyObj.pinned;\r\n    }\r\n    /**  add new variables to jsonObj  **/\r\n    // class attribute variables\r\n    nodeElements.each(function ( node ){\r\n      var nodeId = node.id();\r\n      for ( i = 0; i < classAttribute.length; i++ ) {\r\n        var classObj = classAttribute[i];\r\n        if ( classObj.id === nodeId ) {\r\n          // store relative positions\r\n          classObj.pos = [parseFloat(node.x.toFixed(2)), parseFloat(node.y.toFixed(2))];\r\n          if ( node.pinned() )\r\n            classObj.pinned = true;\r\n          break;\r\n        }\r\n      }\r\n    });\r\n    // property attribute variables\r\n    for ( j = 0; j < propElements.length; j++ ) {\r\n      var correspondingProp = propElements[j].property();\r\n      for ( i = 0; i < propAttribute.length; i++ ) {\r\n        propertyObj = propAttribute[i];\r\n        if ( propertyObj.id === correspondingProp.id() ) {\r\n          propertyObj.pos = [parseFloat(propElements[j].x.toFixed(2)), parseFloat(propElements[j].y.toFixed(2))];\r\n          if ( propElements[j].pinned() )\r\n            propertyObj.pinned = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    /** create the variable for settings and set their values **/\r\n    exportText.settings = {};\r\n    \r\n    // Global Settings\r\n    var zoom = graph.scaleFactor();\r\n    var paused = graph.paused();\r\n    var translation = [parseFloat(graph.translation()[0].toFixed(2)), parseFloat(graph.translation()[1].toFixed(2))];\r\n    exportText.settings.global = {};\r\n    exportText.settings.global.zoom = zoom.toFixed(2);\r\n    exportText.settings.global.translation = translation;\r\n    exportText.settings.global.paused = paused;\r\n    \r\n    // shared variable declaration\r\n    var cb_text;\r\n    var isEnabled;\r\n    var cb_obj;\r\n    \r\n    // Gravity Settings\r\n    var classDistance = graph.options().classDistance();\r\n    var datatypeDistance = graph.options().datatypeDistance();\r\n    exportText.settings.gravity = {};\r\n    exportText.settings.gravity.classDistance = classDistance;\r\n    exportText.settings.gravity.datatypeDistance = datatypeDistance;\r\n    \r\n    // Filter Settings\r\n    var fMenu = graph.options().filterMenu();\r\n    var fContainer = fMenu.getCheckBoxContainer();\r\n    var cbCont = [];\r\n    for ( i = 0; i < fContainer.length; i++ ) {\r\n      cb_text = fContainer[i].checkbox.attr(\"id\");\r\n      isEnabled = fContainer[i].checkbox.property(\"checked\");\r\n      cb_obj = {};\r\n      cb_obj.id = cb_text;\r\n      cb_obj.checked = isEnabled;\r\n      cbCont.push(cb_obj);\r\n    }\r\n    var degreeSliderVal = fMenu.getDegreeSliderValue();\r\n    exportText.settings.filter = {};\r\n    exportText.settings.filter.checkBox = cbCont;\r\n    exportText.settings.filter.degreeSliderValue = degreeSliderVal;\r\n    \r\n    // Modes Settings\r\n    var mMenu = graph.options().modeMenu();\r\n    var mContainer = mMenu.getCheckBoxContainer();\r\n    var cb_modes = [];\r\n    for ( i = 0; i < mContainer.length; i++ ) {\r\n      cb_text = mContainer[i].attr(\"id\");\r\n      isEnabled = mContainer[i].property(\"checked\");\r\n      cb_obj = {};\r\n      cb_obj.id = cb_text;\r\n      cb_obj.checked = isEnabled;\r\n      cb_modes.push(cb_obj);\r\n    }\r\n    var colorSwitchState = mMenu.colorModeState();\r\n    exportText.settings.modes = {};\r\n    exportText.settings.modes.checkBox = cb_modes;\r\n    exportText.settings.modes.colorSwitchState = colorSwitchState;\r\n    \r\n    var exportObj = {};\r\n    // todo: [ ] find better way for ordering the objects\r\n    // hack for ordering of objects, so settings is after metrics\r\n    exportObj._comment = exportText._comment;\r\n    exportObj.header = exportText.header;\r\n    exportObj.namespace = exportText.namespace;\r\n    exportObj.metrics = exportText.metrics;\r\n    exportObj.settings = exportText.settings;\r\n    exportObj.class = exportText.class;\r\n    exportObj.classAttribute = exportText.classAttribute;\r\n    exportObj.property = exportText.property;\r\n    exportObj.propertyAttribute = exportText.propertyAttribute;\r\n    \r\n    return exportObj;\r\n  };\r\n  \r\n  function exportJson(){\r\n    graph.options().navigationMenu().hideAllMenus();\r\n    /**  check if there is data **/\r\n    if ( !exportableJsonText ) {\r\n      alert(\"No graph data available.\");\r\n      // Stop the redirection to the path of the href attribute\r\n      d3.event.preventDefault();\r\n      return;\r\n    }\r\n    \r\n    var exportObj = exportMenu.createJSON_exportObject();\r\n    \r\n    // make a string again;\r\n    var exportText = JSON.stringify(exportObj, null, '  ');\r\n    // write the data\r\n    var dataURI = \"data:text/json;charset=utf-8,\" + encodeURIComponent(exportText);\r\n    var jsonExportFileName = exportFilename;\r\n    \r\n    if ( !jsonExportFileName.endsWith(\".json\") )\r\n      jsonExportFileName += \".json\";\r\n    exportJsonButton.attr(\"href\", dataURI)\r\n      .attr(\"download\", jsonExportFileName);\r\n  }\r\n  \r\n  var curveFunction = d3.svg.line()\r\n    .x(function ( d ){\r\n      return d.x;\r\n    })\r\n    .y(function ( d ){\r\n      return d.y;\r\n    })\r\n    .interpolate(\"cardinal\");\r\n  var loopFunction = d3.svg.line()\r\n    .x(function ( d ){\r\n      return d.x;\r\n    })\r\n    .y(function ( d ){\r\n      return d.y;\r\n    })\r\n    .interpolate(\"cardinal\")\r\n    .tension(-1);\r\n  \r\n  function exportTex(){\r\n    var zoom = graph.scaleFactor();\r\n    var grTranslate = graph.translation();\r\n    var bbox = graph.getBoundingBoxForTex();\r\n    var comment = \" %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\\n\";\r\n    comment += \" %        Generated with the experimental alpha version of the TeX exporter of WebVOWL (version 1.1.3) %%% \\n\";\r\n    comment += \" %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\\n\\n\";\r\n    comment += \" %   The content can be used as import in other TeX documents. \\n\";\r\n    comment += \" %   Parent document has to use the following packages   \\n\";\r\n    comment += \" %   \\\\usepackage{tikz}  \\n\";\r\n    comment += \" %   \\\\usepackage{helvet}  \\n\";\r\n    comment += \" %   \\\\usetikzlibrary{decorations.markings,decorations.shapes,decorations,arrows,automata,backgrounds,petri,shapes.geometric}  \\n\";\r\n    comment += \" %   \\\\usepackage{xcolor}  \\n\\n\";\r\n    comment += \" %%%%%%%%%%%%%%% Example Parent Document %%%%%%%%%%%%%%%%%%%%%%%\\n\";\r\n    comment += \" %\\\\documentclass{article} \\n\";\r\n    comment += \" %\\\\usepackage{tikz} \\n\";\r\n    comment += \" %\\\\usepackage{helvet} \\n\";\r\n    comment += \" %\\\\usetikzlibrary{decorations.markings,decorations.shapes,decorations,arrows,automata,backgrounds,petri,shapes.geometric} \\n\";\r\n    comment += \" %\\\\usepackage{xcolor} \\n\\n\";\r\n    comment += \" %\\\\begin{document} \\n\";\r\n    comment += \" %\\\\section{Example} \\n\";\r\n    comment += \" %  This is an example. \\n\";\r\n    comment += \" %  \\\\begin{figure} \\n\";\r\n    comment += \" %    \\\\input{<THIS_FILE_NAME>} % << tex file name for the graph \\n\";\r\n    comment += \" %    \\\\caption{A generated graph with TKIZ using alpha version of the TeX exporter of WebVOWL (version 1.1.3) } \\n\";\r\n    comment += \" %  \\\\end{figure} \\n\";\r\n    comment += \" %\\\\end{document} \\n\";\r\n    comment += \" %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\\n\\n\";\r\n    \r\n    \r\n    var texString = comment + \"\\\\definecolor{imageBGCOLOR}{HTML}{FFFFFF} \\n\" +\r\n      \"\\\\definecolor{owlClassColor}{HTML}{AACCFF}\\n\" +\r\n      \"\\\\definecolor{owlObjectPropertyColor}{HTML}{AACCFF}\\n\" +\r\n      \"\\\\definecolor{owlExternalClassColor}{HTML}{AACCFF}\\n\" +\r\n      \"\\\\definecolor{owlDatatypePropertyColor}{HTML}{99CC66}\\n\" +\r\n      \"\\\\definecolor{owlDatatypeColor}{HTML}{FFCC33}\\n\" +\r\n      \"\\\\definecolor{owlThingColor}{HTML}{FFFFFF}\\n\" +\r\n      \"\\\\definecolor{valuesFrom}{HTML}{6699CC}\\n\" +\r\n      \"\\\\definecolor{rdfPropertyColor}{HTML}{CC99CC}\\n\" +\r\n      \"\\\\definecolor{unionColor}{HTML}{6699cc}\\n\" +\r\n      \"\\\\begin{center} \\n\" +\r\n      \"\\\\resizebox{\\\\linewidth}{!}{\\n\" +\r\n      \r\n      \"\\\\begin{tikzpicture}[framed]\\n\" +\r\n      \"\\\\clip (\" + bbox[0] + \"pt , \" + bbox[1] + \"pt ) rectangle (\" + bbox[2] + \"pt , \" + bbox[3] + \"pt);\\n\" +\r\n      \"\\\\tikzstyle{dashed}=[dash pattern=on 4pt off 4pt] \\n\" +\r\n      \"\\\\tikzstyle{dotted}=[dash pattern=on 2pt off 2pt] \\n\" +\r\n      \"\\\\fontfamily{sans-serif}{\\\\fontsize{12}{12}\\\\selectfont}\\n \\n\";\r\n    \r\n    \r\n    texString += \"\\\\tikzset{triangleBlack/.style = {fill=black, draw=black, line width=1pt,scale=0.7,regular polygon, regular polygon sides=3} }\\n\";\r\n    texString += \"\\\\tikzset{triangleWhite/.style = {fill=white, draw=black, line width=1pt,scale=0.7,regular polygon, regular polygon sides=3} }\\n\";\r\n    texString += \"\\\\tikzset{triangleBlue/.style  = {fill=valuesFrom, draw=valuesFrom, line width=1pt,scale=0.7,regular polygon, regular polygon sides=3} }\\n\";\r\n    \r\n    texString += \"\\\\tikzset{Diamond/.style = {fill=white, draw=black, line width=2pt,scale=1.2,regular polygon, regular polygon sides=4} }\\n\";\r\n    \r\n    \r\n    texString += \"\\\\tikzset{Literal/.style={rectangle,align=center,\\n\" +\r\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\r\n      \"black, draw=black, dashed, line width=1pt, fill=owlDatatypeColor, minimum width=80pt,\\n\" +\r\n      \"minimum height = 20pt}}\\n\\n\";\r\n    \r\n    texString += \"\\\\tikzset{Datatype/.style={rectangle,align=center,\\n\" +\r\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\r\n      \"black, draw=black, line width=1pt, fill=owlDatatypeColor, minimum width=80pt,\\n\" +\r\n      \"minimum height = 20pt}}\\n\\n\";\r\n    \r\n    \r\n    texString += \"\\\\tikzset{owlClass/.style={circle, inner sep=0mm,align=center, \\n\" +\r\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\r\n      \"black, draw=black, line width=1pt, fill=owlClassColor, minimum size=101pt}}\\n\\n\";\r\n    \r\n    texString += \"\\\\tikzset{anonymousClass/.style={circle, inner sep=0mm,align=center, \\n\" +\r\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\r\n      \"black, dashed, draw=black, line width=1pt, fill=owlClassColor, minimum size=101pt}}\\n\\n\";\r\n    \r\n    \r\n    texString += \"\\\\tikzset{owlThing/.style={circle, inner sep=0mm,align=center,\\n\" +\r\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\r\n      \"black, dashed, draw=black, line width=1pt, fill=owlThingColor, minimum size=62pt}}\\n\\n\";\r\n    \r\n    \r\n    texString += \"\\\\tikzset{owlObjectProperty/.style={rectangle,align=center,\\n\" +\r\n      \"inner sep=0mm,\\n\" +\r\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\r\n      \"fill=owlObjectPropertyColor, minimum width=80pt,\\n\" +\r\n      \"minimum height = 25pt}}\\n\\n\";\r\n    \r\n    texString += \"\\\\tikzset{rdfProperty/.style={rectangle,align=center,\\n\" +\r\n      \"inner sep=0mm,\\n\" +\r\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\r\n      \"fill=rdfPropertyColor, minimum width=80pt,\\n\" +\r\n      \"minimum height = 25pt}}\\n\\n\";\r\n    \r\n    \r\n    texString += \"\\\\tikzset{owlDatatypeProperty/.style={rectangle,align=center,\\n\" +\r\n      \"fill=owlDatatypePropertyColor, minimum width=80pt,\\n\" +\r\n      \"inner sep=0mm,\\n\" +\r\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\r\n      \"minimum height = 25pt}}\\n\\n\";\r\n    \r\n    texString += \"\\\\tikzset{rdfsSubClassOf/.style={rectangle,align=center,\\n\" +\r\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\r\n      \"inner sep=0mm,\\n\" +\r\n      \"fill=imageBGCOLOR, minimum width=80pt,\\n\" +\r\n      \"minimum height = 25pt}}\\n\\n\";\r\n    \r\n    texString += \"\\\\tikzset{unionOf/.style={circle, inner sep=0mm,align=center,\\n\" +\r\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\r\n      \"black, draw=black, line width=1pt, fill=unionColor, minimum size=25pt}}\\n\\n\";\r\n    \r\n    texString += \"\\\\tikzset{disjointWith/.style={circle, inner sep=0mm,align=center,\\n\" +\r\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\r\n      \"black, draw=black, line width=1pt, fill=unionColor, minimum size=20pt}}\\n\\n\";\r\n    \r\n    \r\n    texString += \"\\\\tikzset{owlEquivalentClass/.style={circle,align=center,\\n\" +\r\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\r\n      \"inner sep=0mm,\\n\" +\r\n      \"black, solid, draw=black, line width=3pt, fill=owlExternalClassColor, minimum size=101pt,\\n\" +\r\n      \"postaction = {draw,line width=1pt, white}}}\\n\\n\";\r\n    \r\n    // draw a bounding box;\r\n    \r\n    // get bbox coordinates;\r\n    \r\n    \r\n    graph.options().navigationMenu().hideAllMenus();\r\n    /**  check if there is data **/\r\n    if ( !exportableJsonText ) {\r\n      alert(\"No graph data available.\");\r\n      // Stop the redirection to the path of the href attribute\r\n      d3.event.preventDefault();\r\n      return;\r\n    }\r\n    \r\n    var i = 0, identifier;\r\n    \r\n    /** get data for exporter **/\r\n    var nodeElements = graph.graphNodeElements();  // get visible nodes\r\n    var propElements = graph.graphLabelElements(); // get visible labels\r\n    var links = graph.graphLinkElements();\r\n    \r\n    // export only nodes;\r\n    // draw Links;\r\n    for ( i = 0; i < links.length; i++ ) {\r\n      var link = links[i];\r\n      // console.log(\"\\n****************\\nInverstigating Link for property \"+link.property().labelForCurrentLanguage());\r\n      \r\n      var prop = link.property();\r\n      var dx, dy, px, py, rx, ry;\r\n      var colorStr = \"black\";\r\n      var linkDomainIntersection;\r\n      var linkRangeIntersection;\r\n      var center;\r\n      var linkStyle = \"\";\r\n      var isLoop = \"\";\r\n      var curvePoint;\r\n      var pathStart;\r\n      var pathEnd;\r\n      var controlPoints;\r\n      var len;\r\n      var ahAngle;\r\n      var pathLen;\r\n      var markerOffset = 7;\r\n      \r\n      var arrowType = \"triangleBlack\";\r\n      var linkWidth = \",line width=2pt\";\r\n      if ( prop.linkType ) {\r\n        if ( prop.linkType() === \"dotted\" ) {\r\n          //stroke-dasharray: 3;\r\n          linkStyle = \", dotted \";\r\n          arrowType = \"triangleWhite\";\r\n        }\r\n        if ( prop.linkType() === \"dashed\" ) {\r\n          //stroke-dasharray: 3;\r\n          linkStyle = \", dashed \";\r\n        }\r\n        \r\n        if ( prop.linkType() === \"values-from\" ) {\r\n          colorStr = \"valuesFrom\";\r\n        }\r\n        \r\n      }\r\n      \r\n      var startX, startY, endX, endY, normX, normY, lg;\r\n      \r\n      if ( link.layers().length === 1 && !link.loops() ) {\r\n        \r\n        linkDomainIntersection = graph.math().calculateIntersection(link.range(), link.domain(), 1);\r\n        linkRangeIntersection = graph.math().calculateIntersection(link.domain(), link.range(), 1);\r\n        center = graph.math().calculateCenter(linkDomainIntersection, linkRangeIntersection);\r\n        dx = linkDomainIntersection.x;\r\n        dy = -linkDomainIntersection.y;\r\n        px = center.x;\r\n        py = -center.y;\r\n        rx = linkRangeIntersection.x;\r\n        ry = -linkRangeIntersection.y;\r\n        \r\n        \r\n        pathStart = linkDomainIntersection;\r\n        curvePoint = center;\r\n        pathEnd = linkRangeIntersection;\r\n        \r\n        var nx = rx - px;\r\n        var ny = ry - py;\r\n        \r\n        // normalize ;\r\n        len = Math.sqrt(nx * nx + ny * ny);\r\n        \r\n        nx = nx / len;\r\n        ny = ny / len;\r\n        \r\n        ahAngle = Math.atan2(ny, nx) * (180 / Math.PI);\r\n        normX = nx;\r\n        normY = ny;\r\n      }\r\n      else {\r\n        if ( link.isLoop() ) {\r\n          isLoop = \", tension=3\";\r\n          controlPoints = graph.math().calculateLoopPoints(link);\r\n          pathStart = controlPoints[0];\r\n          curvePoint = controlPoints[1];\r\n          pathEnd = controlPoints[2];\r\n        } else {\r\n          curvePoint = link.label();\r\n          pathStart = graph.math().calculateIntersection(curvePoint, link.domain(), 1);\r\n          pathEnd = graph.math().calculateIntersection(curvePoint, link.range(), 1);\r\n        }\r\n        dx = pathStart.x;\r\n        dy = -pathStart.y;\r\n        px = curvePoint.x;\r\n        py = -curvePoint.y;\r\n        rx = pathEnd.x;\r\n        ry = -pathEnd.y;\r\n      }\r\n      \r\n      texString += \"\\\\draw [\" + colorStr + linkStyle + linkWidth + isLoop + \"] plot [smooth] coordinates {(\" +\r\n        dx + \"pt, \" + dy + \"pt) (\" + px + \"pt, \" + py + \"pt)  (\" + rx + \"pt, \" + ry + \"pt)};\\n\";\r\n      \r\n      \r\n      if ( link.property().markerElement() === undefined ) continue;\r\n      \r\n      // add arrow head;\r\n      \r\n      \r\n      if ( link.property().type() === \"owl:someValuesFrom\" || link.property().type() === \"owl:allValuesFrom\" ) {\r\n        arrowType = \"triangleBlue\";\r\n      }\r\n      \r\n      lg = link.pathObj();\r\n      pathLen = Math.floor(lg.node().getTotalLength());\r\n      var p1 = lg.node().getPointAtLength(pathLen - 4);\r\n      var p2 = lg.node().getPointAtLength(pathLen);\r\n      var markerCenter = lg.node().getPointAtLength(pathLen - 6);\r\n      \r\n      if ( link.property().type() === \"setOperatorProperty\" ) {\r\n        p1 = lg.node().getPointAtLength(4);\r\n        p2 = lg.node().getPointAtLength(0);\r\n        markerCenter = lg.node().getPointAtLength(8);\r\n        arrowType = \"Diamond\";\r\n      }\r\n      \r\n      startX = p1.x;\r\n      startY = p1.y;\r\n      endX = p2.x;\r\n      endY = p2.y;\r\n      normX = endX - startX;\r\n      normY = endY - startY;\r\n      len = Math.sqrt(normX * normX + normY * normY);\r\n      normX = normX / len;\r\n      normY = normY / len;\r\n      \r\n      ahAngle = -1.0 * Math.atan2(normY, normX) * (180 / Math.PI);\r\n      ahAngle -= 90;\r\n      if ( link.property().type() === \"setOperatorProperty\" ) {\r\n        ahAngle -= 45;\r\n      }\r\n      // console.log(link.property().labelForCurrentLanguage()+ \": \"+normX+ \" \"+normY +\"  \"+ahAngle);\r\n      rx = markerCenter.x;\r\n      ry = markerCenter.y;\r\n      if ( link.layers().length === 1 && !link.loops() ) {\r\n        // markerOffset=-1*m\r\n        ry = -1 * ry;\r\n        texString += \"\\\\node[\" + arrowType + \", rotate=\" + ahAngle + \"] at (\" + rx + \"pt, \" + ry + \"pt)   (single_marker\" + i + \") {};\\n \";\r\n      } else {\r\n        ry = -1 * ry;\r\n        texString += \"\\\\node[\" + arrowType + \", rotate=\" + ahAngle + \"] at (\" + rx + \"pt, \" + ry + \"pt)   (marker\" + i + \") {};\\n \";\r\n      }\r\n      \r\n      // if   (link.isLoop()){\r\n      //    rotAngle=-10+angle * (180 / Math.PI);\r\n      // }\r\n      \r\n      // add cardinality;\r\n      var cardinalityText = link.property().generateCardinalityText();\r\n      if ( cardinalityText && cardinalityText.length > 0 ) {\r\n        var cardinalityCenter = lg.node().getPointAtLength(pathLen - 18);\r\n        var cx = cardinalityCenter.x - (10 * normY);\r\n        var cy = cardinalityCenter.y + (10 * normX); // using orthonormal y Coordinate\r\n        cy *= -1.0;\r\n        var textColor = \"black\";\r\n        if ( cardinalityText.indexOf(\"A\") > -1 ) {\r\n          cardinalityText = \"$\\\\forall$\";\r\n        }\r\n        if ( cardinalityText.indexOf(\"E\") > -1 ) {\r\n          cardinalityText = \"$\\\\exists$\";\r\n        }\r\n        \r\n        \r\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },text=\" + textColor + \"] at (\" + cx + \"pt, \" + cy + \"pt)   (cardinalityText\" + i + \") {\" + cardinalityText + \"};\\n \";\r\n      }\r\n      \r\n      \r\n      if ( link.property().inverse() ) {\r\n        lg = link.pathObj();\r\n        pathLen = Math.floor(lg.node().getTotalLength());\r\n        var p1_inv = lg.node().getPointAtLength(4);\r\n        var p2_inv = lg.node().getPointAtLength(0);\r\n        var markerCenter_inv = lg.node().getPointAtLength(6);\r\n        startX = p1_inv.x;\r\n        startY = p1_inv.y;\r\n        endX = p2_inv.x;\r\n        endY = p2_inv.y;\r\n        normX = endX - startX;\r\n        normY = endY - startY;\r\n        len = Math.sqrt(normX * normX + normY * normY);\r\n        normX = normX / len;\r\n        normY = normY / len;\r\n        \r\n        ahAngle = -1.0 * Math.atan2(normY, normX) * (180 / Math.PI);\r\n        ahAngle -= 90;\r\n        //   console.log(\"INV>>\\n \"+link.property().inverse().labelForCurrentLanguage()+ \": \"+normX+ \" \"+normY +\"  \"+ahAngle);\r\n        rx = markerCenter_inv.x;\r\n        ry = markerCenter_inv.y;\r\n        if ( link.layers().length === 1 && !link.loops() ) {\r\n          // markerOffset=-1*m\r\n          ry = -1 * ry;\r\n          texString += \"\\\\node[\" + arrowType + \", rotate=\" + ahAngle + \"] at (\" + rx + \"pt, \" + ry + \"pt)   (INV_single_marker\" + i + \") {};\\n \";\r\n        } else {\r\n          ry = -1 * ry;\r\n          texString += \"\\\\node[\" + arrowType + \", rotate=\" + ahAngle + \"] at (\" + rx + \"pt, \" + ry + \"pt)   (INV_marker\" + i + \") {};\\n \";\r\n        }\r\n      }\r\n      \r\n      \r\n    }\r\n    \r\n    \r\n    nodeElements.each(function ( node ){\r\n      \r\n      px = node.x;\r\n      py = -node.y;\r\n      identifier = node.labelForCurrentLanguage();\r\n      // console.log(\"Writing : \"+ identifier);\r\n      if ( identifier === undefined ) identifier = \"\";\r\n      var qType = \"owlClass\";\r\n      if ( node.type() === \"owl:Thing\" || node.type() === \"owl:Nothing\" )\r\n        qType = \"owlThing\";\r\n      \r\n      if ( node.type() === \"owl:equivalentClass\" ) {\r\n        qType = \"owlEquivalentClass\";\r\n      }\r\n      var textColorStr = \"\";\r\n      if ( node.textBlock ) {\r\n        var txtColor = node.textBlock()._textBlock().style(\"fill\");\r\n        if ( txtColor === \"rgb(0, 0, 0)\" ) {\r\n          textColorStr = \", text=black\";\r\n        }\r\n        if ( txtColor === \"rgb(255, 255, 255)\" ) {\r\n          textColorStr = \", text=white\";\r\n        }\r\n        \r\n        \r\n        var tspans = node.textBlock()._textBlock().node().children;\r\n        if ( tspans[0] ) {\r\n          identifier = tspans[0].innerHTML;\r\n          if ( node.individuals() && node.individuals().length === parseInt(tspans[0].innerHTML) ) {\r\n            identifier = \"{\\\\color{gray} \" + tspans[0].innerHTML + \" }\";\r\n          }\r\n          for ( var t = 1; t < tspans.length; t++ ) {\r\n            if ( node.individuals() && node.individuals().length === parseInt(tspans[t].innerHTML) ) {\r\n              identifier += \"\\\\\\\\ {\\\\color{gray} \" + tspans[t].innerHTML + \" }\";\r\n            } else {\r\n              identifier += \"\\\\\\\\ {\\\\small \" + tspans[t].innerHTML + \" }\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if ( node.type() === \"rdfs:Literal\" ) {\r\n        qType = \"Literal\";\r\n      }\r\n      if ( node.type() === \"rdfs:Datatype\" ) {\r\n        qType = \"Datatype\";\r\n      }\r\n      if ( node.attributes().indexOf(\"anonymous\") !== -1 ) {\r\n        qType = \"anonymousClass\";\r\n      }\r\n      \r\n      \r\n      if ( node.type() === \"owl:unionOf\" || node.type() === \"owl:complementOf\" || node.type() === \"owl:disjointUnionOf\" || node.type() === \"owl:intersectionOf\" )\r\n        qType = \"owlClass\";\r\n      \r\n      var bgColorStr = \"\";\r\n      var widthString = \"\";\r\n      \r\n      if ( node.type() === \"rdfs:Literal\" || node.type() === \"rdfs:Datatype\" ) {\r\n        var width = node.width();\r\n        widthString = \",minimum width=\" + width + \"pt\";\r\n      }\r\n      else {\r\n        widthString = \",minimum size=\" + 2 * node.actualRadius() + \"pt\";\r\n        \r\n      }\r\n      if ( node.backgroundColor() ) {\r\n        var bgColor = node.backgroundColor();\r\n        bgColor.toUpperCase();\r\n        bgColor = bgColor.slice(1, bgColor.length);\r\n        texString += \"\\\\definecolor{Node\" + i + \"_COLOR}{HTML}{\" + bgColor + \"} \\n \";\r\n        bgColorStr = \", fill=Node\" + i + \"_COLOR \";\r\n      }\r\n      if ( node.attributes().indexOf(\"deprecated\") > -1 ) {\r\n        texString += \"\\\\definecolor{Node\" + i + \"_COLOR}{HTML}{CCCCCC} \\n \";\r\n        bgColorStr = \", fill=Node\" + i + \"_COLOR \";\r\n      }\r\n      \r\n      var leftPos = px - 7;\r\n      var rightPos = px + 7;\r\n      var txtOffset = py + 20;\r\n      if ( node.type() !== \"owl:unionOf\" || node.type() !== \"owl:disjointUnionOf\" ) {\r\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\r\n      }\r\n      if ( node.type() === \"owl:unionOf\" ) {\r\n        // add symbol to it;\r\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[unionOf   , text=black] at (\" + leftPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[unionOf   , text=black] at (\" + rightPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[unionOf ,fill=none   , text=black] at (\" + leftPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[text=black] at (\" + px + \"pt, \" + py + \"pt)  (unionText13) {$\\\\mathbf{\\\\cup}$};\\n\";\r\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\r\n      }\r\n      // OWL DISJOINT UNION OF\r\n      if ( node.type() === \"owl:disjointUnionOf\" ) {\r\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[unionOf   , text=black] at (\" + leftPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[unionOf   , text=black] at (\" + rightPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[unionOf ,fill=none   , text=black] at (\" + leftPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)  (disjointUnoinText\" + i + \") {1};\\n\";\r\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\r\n      }\r\n      // OWL COMPLEMENT OF\r\n      if ( node.type() === \"owl:complementOf\" ) {\r\n        // add symbol to it;\r\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[unionOf   , text=black] at (\" + px + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[font={\\\\fontsize{18pt}{18}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)  (unionText13) {$\\\\neg$};\\n\";\r\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\r\n      }\r\n      // OWL INTERSECTION OF\r\n      if ( node.type() === \"owl:intersectionOf\" ) {\r\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[unionOf   , text=black] at (\" + leftPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[unionOf   , text=black] at (\" + rightPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[unionOf ,fill=none   , text=black] at (\" + leftPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\r\n        \r\n        // add now the outer colors;\r\n        texString += \"\\\\filldraw[even odd rule,fill=owlClassColor,line width=1pt] (\" + leftPos + \"pt, \" + py + \"pt) circle (12.5pt)  (\" + rightPos + \"pt, \" + py + \"pt) circle (12.5pt);\\n \";\r\n        \r\n        // add texts\r\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)  (intersectionText\" + i + \") {$\\\\cap$};\\n\";\r\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\r\n        \r\n      }\r\n      \r\n      \r\n      i++;\r\n      \r\n    });\r\n    for ( i = 0; i < propElements.length; i++ ) {\r\n      var correspondingProp = propElements[i].property();\r\n      var p_px = propElements[i].x;\r\n      var p_py = -propElements[i].y;\r\n      identifier = correspondingProp.labelForCurrentLanguage();\r\n      if ( identifier === undefined ) identifier = \"\";\r\n      var textColorStr = \"\";\r\n      if ( correspondingProp.textBlock && correspondingProp.textBlock() ) {\r\n        var txtColor = correspondingProp.textBlock()._textBlock().style(\"fill\");\r\n        //  console.log(\"PropertyTextColor=\"+txtColor);\r\n        if ( txtColor === \"rgb(0, 0, 0)\" ) {\r\n          textColorStr = \", text=black\";\r\n        }\r\n        if ( txtColor === \"rgb(255, 255, 255)\" ) {\r\n          textColorStr = \", text=white\";\r\n        }\r\n        var tspans = correspondingProp.textBlock()._textBlock().node().children;\r\n        \r\n        // identifier=node.textBlock()._textBlock().text();\r\n        // console.log(tspans);\r\n        if ( tspans[0] ) {\r\n          identifier = tspans[0].innerHTML;\r\n          \r\n          for ( var t = 1; t < tspans.length; t++ ) {\r\n            var spanText = tspans[t].innerHTML;\r\n            if ( spanText.indexOf(\"(\") > -1 ) {\r\n              identifier += \"\\\\\\\\ {\\\\small \" + tspans[t].innerHTML + \" }\";\r\n            }\r\n            else {\r\n              identifier += \"\\\\\\\\ \" + tspans[t].innerHTML;\r\n            }\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      }\r\n      if ( correspondingProp.type() === \"setOperatorProperty\" ) {\r\n        continue; // this property does not have a label\r\n      }\r\n      var qType = \"owlObjectProperty\";\r\n      if ( correspondingProp.type() === \"owl:DatatypeProperty\" ) {\r\n        qType = \"owlDatatypeProperty\";\r\n      }\r\n      if ( correspondingProp.type() === \"rdfs:subClassOf\" ) {\r\n        qType = \"rdfsSubClassOf\";\r\n      }\r\n      if ( correspondingProp.type() === \"rdf:Property\" ) {\r\n        qType = \"rdfProperty\";\r\n      }\r\n      \r\n      \r\n      var bgColorStr = \"\";\r\n      if ( correspondingProp.backgroundColor() ) {\r\n        // console.log(\"Found backGround color\");\r\n        var bgColor = correspondingProp.backgroundColor();\r\n        //console.log(bgColor);\r\n        bgColor.toUpperCase();\r\n        bgColor = bgColor.slice(1, bgColor.length);\r\n        texString += \"\\\\definecolor{property\" + i + \"_COLOR}{HTML}{\" + bgColor + \"} \\n \";\r\n        bgColorStr = \", fill=property\" + i + \"_COLOR \";\r\n      }\r\n      if ( correspondingProp.attributes().indexOf(\"deprecated\") > -1 ) {\r\n        texString += \"\\\\definecolor{property\" + i + \"_COLOR}{HTML}{CCCCCC} \\n \";\r\n        bgColorStr = \", fill=property\" + i + \"_COLOR \";\r\n      }\r\n      \r\n      var widthString = \"\";\r\n      var width = correspondingProp.textWidth();\r\n      widthString = \",minimum width=\" + width + \"pt\";\r\n      \r\n      \r\n      // OWL INTERSECTION OF\r\n      if ( correspondingProp.type() === \"owl:disjointWith\" ) {\r\n        var leftPos = p_px - 12;\r\n        var rightPos = p_px + 12;\r\n        var txtOffset = p_py - 20;\r\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + p_px + \"pt, \" + p_py + \"pt)   (Node\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[disjointWith , text=black] at (\" + leftPos + \"pt, \" + p_py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[disjointWith , text=black] at (\" + rightPos + \"pt, \" + p_py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\r\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + p_px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\";\r\n        if ( graph.options().compactNotation() === false ) {\r\n          texString += \"(disjoint)\";\r\n        }\r\n        texString += \"};\\n\";\r\n        continue;\r\n      }\r\n      \r\n      \r\n      if ( correspondingProp.inverse() ) {\r\n        var inv_correspondingProp = correspondingProp.inverse();\r\n        // create the rendering element for the inverse property;\r\n        var inv_identifier = inv_correspondingProp.labelForCurrentLanguage();\r\n        if ( inv_identifier === undefined ) inv_identifier = \"\";\r\n        var inv_textColorStr = \"\";\r\n        //console.log(inv_correspondingProp);\r\n        //console.log(inv_correspondingProp.textBlock());\r\n        \r\n        if ( inv_correspondingProp.textBlock && inv_correspondingProp.textBlock() ) {\r\n          \r\n          var inv_txtColor = inv_correspondingProp.textBlock()._textBlock().style(\"fill\");\r\n          //  console.log(\"PropertyTextColor=\"+inv_txtColor);\r\n          if ( inv_txtColor === \"rgb(0, 0, 0)\" ) {\r\n            inv_textColorStr = \", text=black\";\r\n          }\r\n          if ( inv_txtColor === \"rgb(255, 255, 255)\" ) {\r\n            inv_textColorStr = \", text=white\";\r\n          }\r\n          var inv_tspans = inv_correspondingProp.textBlock()._textBlock().node().children;\r\n          \r\n          // identifier=node.textBlock()._textBlock().text();\r\n          //  console.log(inv_tspans);\r\n          if ( inv_tspans[0] ) {\r\n            inv_identifier = inv_tspans[0].innerHTML;\r\n            \r\n            for ( var inv_t = 1; inv_t < inv_tspans.length; inv_t++ ) {\r\n              var ispanText = inv_tspans[inv_t].innerHTML;\r\n              if ( ispanText.indexOf(\"(\") > -1 ) {\r\n                inv_identifier += \"\\\\\\\\ {\\\\small \" + inv_tspans[inv_t].innerHTML + \" }\";\r\n              } else {\r\n                inv_identifier += \"\\\\\\\\ \" + inv_tspans[inv_t].innerHTML;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        var inv_qType = \"owlObjectProperty\";\r\n        var inv_bgColorStr = \"\";\r\n        \r\n        if ( inv_correspondingProp.backgroundColor() ) {\r\n          //  console.log(\"Found backGround color\");\r\n          var inv_bgColor = inv_correspondingProp.backgroundColor();\r\n          //   console.log(inv_bgColor);\r\n          inv_bgColor.toUpperCase();\r\n          inv_bgColor = inv_bgColor.slice(1, inv_bgColor.length);\r\n          texString += \"\\\\definecolor{inv_property\" + i + \"_COLOR}{HTML}{\" + inv_bgColor + \"} \\n \";\r\n          inv_bgColorStr = \", fill=inv_property\" + i + \"_COLOR \";\r\n        }\r\n        if ( inv_correspondingProp.attributes().indexOf(\"deprecated\") > -1 ) {\r\n          texString += \"\\\\definecolor{inv_property\" + i + \"_COLOR}{HTML}{CCCCCC} \\n \";\r\n          inv_bgColorStr = \", fill=inv_property\" + i + \"_COLOR \";\r\n        }\r\n        \r\n        var inv_widthString = \"\";\r\n        var inv_width = inv_correspondingProp.textWidth();\r\n        \r\n        var pOY1 = p_py - 14;\r\n        var pOY2 = p_py + 14;\r\n        inv_widthString = \",minimum width=\" + inv_width + \"pt\";\r\n        texString += \"% Createing Inverse Property \\n\";\r\n        texString += \"\\\\node[\" + inv_qType + \" \" + inv_widthString + \" \" + inv_bgColorStr + \" \" + inv_textColorStr + \"] at (\" + p_px + \"pt, \" + pOY1 + \"pt)   (property\" + i + \") {\" + inv_identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\r\n        texString += \"% \" + inv_qType + \" vs \" + qType + \"\\n\";\r\n        texString += \"% \" + inv_widthString + \" vs \" + widthString + \"\\n\";\r\n        texString += \"% \" + inv_bgColorStr + \" vs \" + bgColorStr + \"\\n\";\r\n        texString += \"% \" + inv_textColorStr + \" vs \" + textColorStr + \"\\n\";\r\n        \r\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + p_px + \"pt, \" + pOY2 + \"pt)   (property\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\r\n        \r\n      } else {\r\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + p_px + \"pt, \" + p_py + \"pt)   (property\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\r\n      }\r\n    }\r\n    \r\n    texString += \"\\\\end{tikzpicture}\\n}\\n \\\\end{center}\\n\";\r\n    \r\n    //   console.log(\"Tex Output\\n\"+ texString);\r\n    var dataURI = \"data:text/json;charset=utf-8,\" + encodeURIComponent(texString);\r\n    exportTexButton.attr(\"href\", dataURI)\r\n      .attr(\"download\", exportFilename + \".tex\");\r\n    \r\n    \r\n  }\r\n  \r\n  function calculateRadian( angle ){\r\n    angle = angle % 360;\r\n    if ( angle < 0 ) {\r\n      angle = angle + 360;\r\n    }\r\n    return (Math.PI * angle) / 180;\r\n  }\r\n  \r\n  function calculateAngle( radian ){\r\n    return radian * (180 / Math.PI);\r\n  }\r\n  \r\n  return exportMenu;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/exportMenu.js\n// module id = 319\n// module chunks = 1","/**\r\n * Contains the logic for the export button.\r\n * @returns {{}}\r\n */\r\nmodule.exports = function ( graph ){\r\n  var exportTTLModule = {};\r\n  var resultingTTLContent = \"\";\r\n  var currentNodes;\r\n  var currentProperties;\r\n  var currentAxioms;\r\n  var Map_ID2Node = {};\r\n  var Map_ID2Prop = {};\r\n  var prefixModule = webvowl.util.prefixTools(graph);\r\n  \r\n  exportTTLModule.requestExport = function (){\r\n    prefixModule.updatePrefixModel();\r\n    resultingTTLContent = \"\";\r\n    currentNodes = graph.getClassDataForTtlExport();\r\n    var i;\r\n    for ( i = 0; i < currentNodes.length; i++ ) {\r\n      Map_ID2Node[currentNodes[i].id()] = currentNodes[i];\r\n    }\r\n    currentProperties = graph.getPropertyDataForTtlExport();\r\n    \r\n    for ( i = 0; i < currentProperties.length; i++ ) {\r\n      Map_ID2Prop[currentProperties[i].id()] = currentProperties[i];\r\n    }\r\n    \r\n    \r\n    prepareHeader();\r\n    preparePrefixList();\r\n    prepareOntologyDef();\r\n    resultingTTLContent += \"#################################################################\\r\\n\\r\\n\";\r\n    preparePrefixRepresentation();\r\n    var property_success = exportProperties();\r\n    var class_success = exportClasses();\r\n    currentNodes = null;\r\n    currentProperties = null;\r\n    Map_ID2Node = {};\r\n    Map_ID2Prop = {};\r\n    if ( property_success === false || class_success === false )\r\n      return false;\r\n    return true;\r\n    \r\n  };\r\n  \r\n  function preparePrefixRepresentation(){\r\n    var i;\r\n    var allNodes = graph.getUnfilteredData().nodes;\r\n    var allProps = graph.getUnfilteredData().properties;\r\n    for ( i = 0; i < allNodes.length; i++ ) {\r\n      var nodeIRI = prefixModule.getPrefixRepresentationForFullURI(allNodes[i].iri());\r\n      if ( prefixModule.validURL(nodeIRI) === true )\r\n        allNodes[i].prefixRepresentation = \"<\" + nodeIRI + \">\";\r\n      else\r\n        allNodes[i].prefixRepresentation = nodeIRI;\r\n    }\r\n    for ( i = 0; i < allProps.length; i++ ) {\r\n      var propIRI = prefixModule.getPrefixRepresentationForFullURI(allProps[i].iri());\r\n      if ( prefixModule.validURL(propIRI) === true )\r\n        allProps[i].prefixRepresentation = \"<\" + propIRI + \">\";\r\n      else\r\n        allProps[i].prefixRepresentation = propIRI;\r\n    }\r\n  }\r\n  \r\n  function exportProperties(){\r\n    if ( currentProperties.length === 0 ) return; // we dont need to write that\r\n    resultingTTLContent += \"###  Property Definitions (Number of Property) \" + currentProperties.length + \" ###\\r\\n\";\r\n    for ( var i = 0; i < currentProperties.length; i++ ) {\r\n      \r\n      resultingTTLContent += \"#  --------------------------- Property \" + i + \"------------------------- \\r\\n\";\r\n      var addedElement = extractPropertyDescription(currentProperties[i]);\r\n      resultingTTLContent += addedElement;\r\n      //@ workaround for not supported elements\r\n      if ( addedElement.indexOf(\"WHYEMPTYNAME\") !== -1 ) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  \r\n  \r\n  function exportClasses(){\r\n    if ( currentNodes.length === 0 ) return; // we dont need to write that\r\n    resultingTTLContent += \"###  Class Definitions (Number of Classes) \" + currentNodes.length + \" ###\\r\\n\";\r\n    for ( var i = 0; i < currentNodes.length; i++ ) {\r\n      // check for node type here and return false\r\n      resultingTTLContent += \"#  --------------------------- Class  \" + i + \"------------------------- \\r\\n\";\r\n      var addedElement = extractClassDescription(currentNodes[i]);\r\n      resultingTTLContent += addedElement;\r\n      \r\n      if ( addedElement.indexOf(\"WHYEMPTYNAME\") !== -1 ) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  \r\n  function getPresentAttribute( selectedElement, element ){\r\n    var attr = selectedElement.attributes();\r\n    return (attr.indexOf(element) >= 0);\r\n  }\r\n  \r\n  function extractClassDescription( node ){\r\n    var subject = node.prefixRepresentation;\r\n    var predicate = \"rdf:type\";\r\n    var object = node.type();\r\n    if ( node.type() === \"owl:equivalentClass\" )\r\n      object = \"owl:Class\";\r\n    if ( node.type() === \"owl:disjointUnionOf\" )\r\n      object = \"owl:Class\";\r\n    if ( node.type() === \"owl:unionOf\" )\r\n      object = \"owl:Class\";\r\n    var arrayOfNodes = [];\r\n    var arrayOfUnionNodes = [];\r\n    \r\n    if ( node.union() ) {\r\n      var union = node.union();\r\n      for ( var u = 0; u < union.length; u++ ) {\r\n        var u_node = Map_ID2Node[union[u]];\r\n        arrayOfUnionNodes.push(u_node);\r\n      }\r\n    }\r\n    \r\n    if ( node.disjointUnion() ) {\r\n      var distUnion = node.disjointUnion();\r\n      for ( var du = 0; du < distUnion.length; du++ ) {\r\n        var du_node = Map_ID2Node[distUnion[du]];\r\n        arrayOfNodes.push(du_node);\r\n      }\r\n    }\r\n    \r\n    var objectDef = subject + \" \" + predicate + \" \" + object;\r\n    if ( getPresentAttribute(node, \"deprecated\") === true ) {\r\n      objectDef += \", owl:DeprecatedProperty\";\r\n    }\r\n    // equivalent class handeled using type itself!\r\n    \r\n    // check for equivalent classes;\r\n    var indent = getIndent(subject);\r\n    objectDef += \"; \\r\\n\";\r\n    for ( var e = 0; e < node.equivalents().length; e++ ) {\r\n      var eqIRI = prefixModule.getPrefixRepresentationForFullURI(node.equivalents()[e].iri());\r\n      var eqNode_prefRepresentation = \"\";\r\n      if ( prefixModule.validURL(eqIRI) === true )\r\n        eqNode_prefRepresentation = \"<\" + eqIRI + \">\";\r\n      else\r\n        eqNode_prefRepresentation = eqIRI;\r\n      objectDef += indent + \" owl:equivalentClass \" + eqNode_prefRepresentation + \" ;\\r\\n\";\r\n    }\r\n    \r\n    // if (getPresentAttribute(node,\"equivalent\")===true){\r\n    //     objectDef+=\", owl:EquivalentClass\";\r\n    // }\r\n    \r\n    // add Comments\r\n    \r\n    if ( node.commentForCurrentLanguage() ) {\r\n      \r\n      objectDef += indent + \" rdfs:comment \\\"\" + node.commentForCurrentLanguage() + \"\\\" ;\\r\\n\";\r\n    }\r\n    \r\n    if ( node.annotations() ) {\r\n      var annotations = node.annotations();\r\n      for ( var an in annotations ) {\r\n        if ( annotations.hasOwnProperty(an) ) {\r\n          var anArrayObj = annotations[an];\r\n          var anObj = anArrayObj[0];\r\n          var an_ident = anObj.identifier;\r\n          var an_val = anObj.value;\r\n          \r\n          if ( an_ident === \"isDefinedBy\" ) {\r\n            objectDef += indent + \" rdfs:isDefinedBy <\" + an_val + \"> ;\\r\\n\";\r\n          }\r\n          if ( an_ident === \"term_status\" ) {\r\n            objectDef += indent + \" vs:term_status \\\"\" + an_val + \"\\\" ;\\r\\n\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    \r\n    if ( arrayOfNodes.length > 0 ) {\r\n      // add disjoint unionOf\r\n      objectDef += indent + \" owl:disjointUnionOf (\";\r\n      for ( var duE = 0; duE < arrayOfNodes.length; duE++ ) {\r\n        var duIri = prefixModule.getPrefixRepresentationForFullURI(arrayOfNodes[duE].iri());\r\n        var duNode_prefRepresentation = \"\";\r\n        if ( prefixModule.validURL(duIri) === true )\r\n          duNode_prefRepresentation = \"<\" + duIri + \">\";\r\n        else\r\n          duNode_prefRepresentation = duIri;\r\n        objectDef += indent + indent + duNode_prefRepresentation + \" \\n\";\r\n      }\r\n      objectDef += \") ;\\r\\n\";\r\n    }\r\n    \r\n    if ( arrayOfUnionNodes.length > 0 ) {\r\n      // add disjoint unionOf\r\n      objectDef += indent + \" rdfs:subClassOf [ rdf:type owl:Class ; \\r\\n\";\r\n      objectDef += indent + indent + \" owl:unionOf ( \";\r\n      \r\n      for ( var uE = 0; uE < arrayOfUnionNodes.length; uE++ ) {\r\n        \r\n        if ( arrayOfUnionNodes[uE] && arrayOfUnionNodes[uE].iri() ) {\r\n          var uIri = prefixModule.getPrefixRepresentationForFullURI(arrayOfUnionNodes[uE].iri());\r\n          var uNode_prefRepresentation = \"\";\r\n          if ( prefixModule.validURL(uIri) === true )\r\n            uNode_prefRepresentation = \"<\" + uIri + \">\";\r\n          else\r\n            uNode_prefRepresentation = uIri;\r\n          objectDef += indent + indent + indent + uNode_prefRepresentation + \" \\n\";\r\n        }\r\n      }\r\n      objectDef += \") ;\\r\\n\";\r\n      \r\n      \r\n    }\r\n    \r\n    \r\n    var allProps = graph.getUnfilteredData().properties;\r\n    var myProperties = [];\r\n    var i;\r\n    for ( i = 0; i < allProps.length; i++ ) {\r\n      if ( allProps[i].domain() === node &&\r\n        (   allProps[i].type() === \"rdfs:subClassOf\" ||\r\n        allProps[i].type() === \"owl:allValuesFrom\" ||\r\n        allProps[i].type() === \"owl:someValuesFrom\")\r\n      ) {\r\n        myProperties.push(allProps[i]);\r\n      }\r\n      // special case disjoint with>> both domain and range get that property\r\n      if ( (allProps[i].domain() === node) &&\r\n        allProps[i].type() === \"owl:disjointWith\" ) {\r\n        myProperties.push(allProps[i]);\r\n      }\r\n      \r\n    }\r\n    for ( i = 0; i < myProperties.length; i++ ) {\r\n      // depending on the property we have to do some things;\r\n      \r\n      // special case\r\n      if ( myProperties[i].type() === \"owl:someValuesFrom\" ) {\r\n        objectDef += indent + \" rdfs:subClassOf [ rdf:type owl:Restriction ; \\r\\n\";\r\n        objectDef += indent + \"                   owl:onProperty \" + myProperties[i].prefixRepresentation + \";\\r\\n\";\r\n        if ( myProperties[i].range().type() !== \"owl:Thing\" ) {\r\n          objectDef += indent + \"                   owl:someValuesFrom \" + myProperties[i].range().prefixRepresentation + \"\\r\\n\";\r\n        }\r\n        objectDef += indent + \"                 ];\\r\\n\";\r\n        continue;\r\n      }\r\n      \r\n      if ( myProperties[i].type() === \"owl:allValuesFrom\" ) {\r\n        objectDef += indent + \" rdfs:subClassOf [ rdf:type owl:Restriction ; \\r\\n\";\r\n        objectDef += indent + \"                   owl:onProperty \" + myProperties[i].prefixRepresentation + \";\\r\\n\";\r\n        if ( myProperties[i].range().type() !== \"owl:Thing\" ) {\r\n          objectDef += indent + \"                   owl:allValuesFrom \" + myProperties[i].range().prefixRepresentation + \"\\r\\n\";\r\n        }\r\n        objectDef += indent + \"                 ];\\r\\n\";\r\n        continue;\r\n      }\r\n      \r\n      if ( myProperties[i].range().type() !== \"owl:Thing\" ) {\r\n        objectDef += indent + \" \" + myProperties[i].prefixRepresentation +\r\n          \" \" + myProperties[i].range().prefixRepresentation + \" ;\\r\\n\";\r\n        \r\n        \r\n      }\r\n    }\r\n    \r\n    \r\n    objectDef += general_Label_languageExtractor(indent, node.label(), \"rdfs:label\", true);\r\n    return objectDef;\r\n    \r\n  }\r\n  \r\n  function extractPropertyDescription( property ){\r\n    var subject = property.prefixRepresentation;\r\n    if ( subject.length === 0 ) {\r\n      console.log(\"THIS SHOULD NOT HAPPEN\");\r\n      var propIRI = prefixModule.getPrefixRepresentationForFullURI(property.iri());\r\n      console.log(\"FOUND \" + propIRI);\r\n      \r\n      \r\n    }\r\n    var predicate = \"rdf:type\";\r\n    var object = property.type();\r\n    \r\n    var objectDef = subject + \" \" + predicate + \" \" + object;\r\n    if ( getPresentAttribute(property, \"deprecated\") === true ) {\r\n      objectDef += \", owl:DeprecatedProperty\";\r\n    }\r\n    if ( getPresentAttribute(property, \"functional\") === true ) {\r\n      objectDef += \", owl:FunctionalProperty\";\r\n    }\r\n    if ( getPresentAttribute(property, \"inverse functional\") === true ) {\r\n      objectDef += \", owl:InverseFunctionalProperty\";\r\n    }\r\n    if ( getPresentAttribute(property, \"symmetric\") === true ) {\r\n      objectDef += \", owl:SymmetricProperty\";\r\n    }\r\n    if ( getPresentAttribute(property, \"transitive\") === true ) {\r\n      objectDef += \", owl:TransitiveProperty\";\r\n    }\r\n    var indent = getIndent(subject);\r\n    \r\n    if ( property.inverse() ) {\r\n      objectDef += \"; \\r\\n\";\r\n      objectDef += indent + \" owl:inverseOf \" + property.inverse().prefixRepresentation;\r\n    }\r\n    \r\n    // check for domain and range;\r\n    \r\n    \r\n    var closeStatement = false;\r\n    var domain = property.domain();\r\n    var range = property.range();\r\n    \r\n    \r\n    objectDef += \" ;\\r\\n\";\r\n    \r\n    \r\n    if ( property.commentForCurrentLanguage() ) {\r\n      \r\n      objectDef += indent + \" rdfs:comment \\\"\" + property.commentForCurrentLanguage() + \"\\\" ;\\r\\n\";\r\n    }\r\n    \r\n    if ( property.superproperties() ) {\r\n      var superProps = property.superproperties();\r\n      for ( var sP = 0; sP < superProps.length; sP++ ) {\r\n        var sPelement = superProps[sP];\r\n        objectDef += indent + \"rdfs:subPropertyOf \" + sPelement.prefixRepresentation + \";\\r\\n\";\r\n      }\r\n      // for (var an in annotations){\r\n      //     if (annotations.hasOwnProperty(an)){\r\n      //         var anArrayObj=annotations[an];\r\n      //         var anObj=anArrayObj[0];\r\n      //         var an_ident=anObj.identifier;\r\n      //         var an_val=anObj.value;\r\n      //         console.log(an_ident + \" \"+ an_val);\r\n      //\r\n      //         if (an_ident===\"isDefinedBy\"){\r\n      //             objectDef+=indent+\" rdfs:isDefinedBy <\"+an_val+\"> ;\\r\\n\";\r\n      //         }\r\n      //         if (an_ident===\"term_status\"){\r\n      //             objectDef+=indent+\" vs:term_status \\\"\"+an_val+\"\\\" ;\\r\\n\";\r\n      //         }\r\n      //     }\r\n      // }\r\n      \r\n    }\r\n    \r\n    if ( property.annotations() ) {\r\n      var annotations = property.annotations();\r\n      for ( var an in annotations ) {\r\n        if ( annotations.hasOwnProperty(an) ) {\r\n          var anArrayObj = annotations[an];\r\n          var anObj = anArrayObj[0];\r\n          var an_ident = anObj.identifier;\r\n          var an_val = anObj.value;\r\n          \r\n          if ( an_ident === \"isDefinedBy\" ) {\r\n            objectDef += indent + \" rdfs:isDefinedBy <\" + an_val + \"> ;\\r\\n\";\r\n          }\r\n          if ( an_ident === \"term_status\" ) {\r\n            objectDef += indent + \" vs:term_status \\\"\" + an_val + \"\\\" ;\\r\\n\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    \r\n    if ( domain.type() === \"owl:Thing\" && range.type() === \"owl:Thing\" ) {\r\n      // we do not write domain and range\r\n      if ( typeof property.label() !== \"object\" && property.label().length === 0 ) {\r\n        closeStatement = true;\r\n      }\r\n    }\r\n    \r\n    \r\n    if ( closeStatement === true ) {\r\n      var uobjectDef = objectDef.substring(0, objectDef.length - 2);\r\n      objectDef = uobjectDef + \" . \\r\\n\";\r\n      return objectDef;\r\n    }\r\n    // objectDef+=\"; \\r\\n\";\r\n    var labelDescription;\r\n    \r\n    \r\n    if ( domain.type() === \"owl:Thing\" && range.type() === \"owl:Thing\" ) {\r\n      labelDescription = general_Label_languageExtractor(indent, property.label(), \"rdfs:label\", true);\r\n      objectDef += labelDescription;\r\n    }\r\n    else {\r\n      // do not close the statement;\r\n      labelDescription = general_Label_languageExtractor(indent, property.label(), \"rdfs:label\");\r\n      objectDef += labelDescription;\r\n      if ( domain.type() !== \"owl:Thing\" ) {\r\n        objectDef += indent + \" rdfs:domain \" + domain.prefixRepresentation + \";\\r\\n\";\r\n      }\r\n      if ( range.type() !== \"owl:Thing\" ) {\r\n        objectDef += indent + \" rdfs:range \" + range.prefixRepresentation + \";\\r\\n\";\r\n      }\r\n      \r\n      // close statement now;\r\n      \r\n      var s_needUpdate = objectDef;\r\n      var s_lastPtr = s_needUpdate.lastIndexOf(\";\");\r\n      objectDef = s_needUpdate.substring(0, s_lastPtr) + \" . \\r\\n\";\r\n    }\r\n    \r\n    return objectDef;\r\n    \r\n  }\r\n  \r\n  \r\n  exportTTLModule.resultingTTL_Content = function (){\r\n    return resultingTTLContent;\r\n  };\r\n  \r\n  function getIndent( name ){\r\n    if ( name === undefined ) {\r\n      return \"WHYEMPTYNAME?\";\r\n    }\r\n    return new Array(name.length + 1).join(\" \");\r\n  }\r\n  \r\n  function prepareHeader(){\r\n    resultingTTLContent += \"#################################################################\\r\\n\";\r\n    resultingTTLContent += \"###  Generated with the experimental alpha version of the TTL exporter of WebVOWL (version 1.1.7) \" +\r\n      \" http://visualdataweb.de/webvowl/   ###\\r\\n\";\r\n    resultingTTLContent += \"#################################################################\\r\\n\\r\\n\";\r\n    \r\n  }\r\n  \r\n  function preparePrefixList(){\r\n    var ontoIri = graph.options().getGeneralMetaObjectProperty('iri');\r\n    var prefixList = graph.options().prefixList();\r\n    var prefixDef = [];\r\n    prefixDef.push('@prefix : \\t\\t<' + ontoIri + '> .');\r\n    for ( var name in prefixList ) {\r\n      if ( prefixList.hasOwnProperty(name) ) {\r\n        prefixDef.push('@prefix ' + name + ': \\t\\t<' + prefixList[name] + '> .');\r\n      }\r\n    }\r\n    prefixDef.push('@base \\t\\t\\t<' + ontoIri + '> .\\r\\n');\r\n    \r\n    for ( var i = 0; i < prefixDef.length; i++ ) {\r\n      resultingTTLContent += prefixDef[i] + '\\r\\n';\r\n    }\r\n  }\r\n  \r\n  function prepareOntologyDef(){\r\n    var ontoIri = graph.options().getGeneralMetaObjectProperty('iri');\r\n    var indent = getIndent('<' + ontoIri + '>');\r\n    resultingTTLContent += '<' + ontoIri + '> rdf:type owl:Ontology ;\\r\\n' +\r\n      getOntologyTitle(indent) +\r\n      getOntologyDescription(indent) +\r\n      getOntologyVersion(indent) +\r\n      getOntologyAuthor(indent);\r\n    \r\n    // close the statement;\r\n    var s_needUpdate = resultingTTLContent;\r\n    var s_lastPtr = s_needUpdate.lastIndexOf(\";\");\r\n    resultingTTLContent = s_needUpdate.substring(0, s_lastPtr) + \" . \\r\\n\";\r\n  }\r\n  \r\n  function getOntologyTitle( indent ){\r\n    return general_languageExtractor(indent, \"title\", \"dc:title\");\r\n  }\r\n  \r\n  function getOntologyDescription( indent ){\r\n    return general_languageExtractor(indent, \"description\", \"dc:description\");\r\n  }\r\n  \r\n  function getOntologyAuthor( indent ){\r\n    var languageElement = graph.options().getGeneralMetaObjectProperty('author');\r\n    if ( languageElement ) {\r\n      if ( typeof languageElement !== \"object\" ) {\r\n        if ( languageElement.length === 0 )\r\n          return \"\"; // an empty string\r\n        var aString = indent + \" dc:creator \" + '\"' + languageElement + '\";\\r\\n';\r\n        return aString;\r\n      }\r\n      // we assume this thing is an array;\r\n      var authorString = indent + \" dc:creator \" + '\"';\r\n      for ( var i = 0; i < languageElement.length - 1; i++ ) {\r\n        authorString += languageElement[i] + \", \";\r\n      }\r\n      authorString += languageElement[languageElement.length - 1] + '\";\\r\\n';\r\n      return authorString;\r\n    } else {\r\n      return \"\"; // an empty string\r\n    }\r\n  }\r\n  \r\n  function getOntologyVersion( indent ){\r\n    var languageElement = graph.options().getGeneralMetaObjectProperty('version');\r\n    if ( languageElement ) {\r\n      if ( typeof languageElement !== \"object\" ) {\r\n        if ( languageElement.length === 0 )\r\n          return \"\"; // an empty string\r\n      }\r\n      return general_languageExtractor(indent, \"version\", \"owl:versionInfo\");\r\n    } else return \"\"; // an empty string\r\n  }\r\n  \r\n  function general_languageExtractor( indent, metaObjectDescription, annotationDescription, endStatement ){\r\n    var languageElement = graph.options().getGeneralMetaObjectProperty(metaObjectDescription);\r\n    \r\n    if ( typeof languageElement === 'object' ) {\r\n      \r\n      var resultingLanguages = [];\r\n      for ( var name in languageElement ) {\r\n        if ( languageElement.hasOwnProperty(name) ) {\r\n          var content = languageElement[name];\r\n          if ( name === \"undefined\" ) {\r\n            resultingLanguages.push(indent + \" \" + annotationDescription + ' \"' + content + '\"@en; \\r\\n');\r\n          }\r\n          else {\r\n            resultingLanguages.push(indent + \" \" + annotationDescription + ' \"' + content + '\"@' + name + '; \\r\\n');\r\n          }\r\n        }\r\n      }\r\n      // create resulting titles;\r\n      \r\n      var resultingString = \"\";\r\n      for ( var i = 0; i < resultingLanguages.length; i++ ) {\r\n        resultingString += resultingLanguages[i];\r\n      }\r\n      if ( endStatement && endStatement === true ) {\r\n        var needUpdate = resultingString;\r\n        var lastPtr = needUpdate.lastIndexOf(\";\");\r\n        return needUpdate.substring(0, lastPtr) + \". \\r\\n\";\r\n      } else {\r\n        return resultingString;\r\n      }\r\n      \r\n    } else {\r\n      if ( endStatement && endStatement === true ) {\r\n        var s_needUpdate = indent + \" \" + annotationDescription + ' \"' + languageElement + '\"@en; \\r\\n';\r\n        var s_lastPtr = s_needUpdate.lastIndexOf(\";\");\r\n        return s_needUpdate.substring(0, s_lastPtr) + \" . \\r\\n\";\r\n      }\r\n      return indent + \" \" + annotationDescription + ' \"' + languageElement + '\"@en;\\r\\n';\r\n    }\r\n  }\r\n  \r\n  function general_Label_languageExtractor( indent, label, annotationDescription, endStatement ){\r\n    var languageElement = label;\r\n    \r\n    if ( typeof languageElement === 'object' ) {\r\n      var resultingLanguages = [];\r\n      for ( var name in languageElement ) {\r\n        if ( languageElement.hasOwnProperty(name) ) {\r\n          var content = languageElement[name];\r\n          if ( name === \"undefined\" ) {\r\n            resultingLanguages.push(indent + \" \" + annotationDescription + ' \"' + content + '\"@en; \\r\\n');\r\n          }\r\n          else {\r\n            resultingLanguages.push(indent + \" \" + annotationDescription + ' \"' + content + '\"@' + name + '; \\r\\n');\r\n          }\r\n        }\r\n      }\r\n      // create resulting titles;\r\n      var resultingString = \"\";\r\n      for ( var i = 0; i < resultingLanguages.length; i++ ) {\r\n        resultingString += resultingLanguages[i];\r\n      }\r\n      if ( endStatement && endStatement === true ) {\r\n        var needUpdate = resultingString;\r\n        var lastPtr = needUpdate.lastIndexOf(\";\");\r\n        return needUpdate.substring(0, lastPtr) + \" . \\r\\n\";\r\n      } else {\r\n        return resultingString;\r\n      }\r\n      \r\n    } else {\r\n      if ( endStatement && endStatement === true ) {\r\n        var s_needUpdate = indent + \" \" + annotationDescription + ' \"' + languageElement + '\"@en; \\r\\n';\r\n        var s_lastPtr = s_needUpdate.lastIndexOf(\";\");\r\n        return s_needUpdate.substring(0, s_lastPtr) + \" . \\r\\n\";\r\n      }\r\n      return indent + \" \" + annotationDescription + ' \"' + languageElement + '\"@en; \\r\\n';\r\n    }\r\n  }\r\n  \r\n  return exportTTLModule;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/exportTTLModule.js\n// module id = 320\n// module chunks = 1","/**\r\n * Contains the logic for connecting the filters with the website.\r\n *\r\n * @param graph required for calling a refresh after a filter change\r\n * @returns {{}}\r\n */\r\nmodule.exports = function ( graph ){\r\n  \r\n  var filterMenu = {},\r\n    checkboxData = [],\r\n    menuElement = d3.select(\"#m_filter\"),\r\n    menuControl = d3.select(\"#c_filter a\"),\r\n    nodeDegreeContainer = d3.select(\"#nodeDegreeFilteringOption\"),\r\n    graphDegreeLevel,\r\n    defaultDegreeValue = 0,\r\n    degreeSlider;\r\n  \r\n  filterMenu.setDefaultDegreeValue = function ( val ){\r\n    defaultDegreeValue = val;\r\n  };\r\n  filterMenu.getDefaultDegreeValue = function (){\r\n    return defaultDegreeValue;\r\n  };\r\n  \r\n  filterMenu.getGraphObject = function (){\r\n    return graph;\r\n  };\r\n  /** some getter function  **/\r\n  filterMenu.getCheckBoxContainer = function (){\r\n    return checkboxData;\r\n  };\r\n  \r\n  filterMenu.getDegreeSliderValue = function (){\r\n    return degreeSlider.property(\"value\");\r\n  };\r\n  /**\r\n   * Connects the website with graph filters.\r\n   * @param datatypeFilter filter for all datatypes\r\n   * @param objectPropertyFilter filter for all object properties\r\n   * @param subclassFilter filter for all subclasses\r\n   * @param disjointFilter filter for all disjoint with properties\r\n   * @param setOperatorFilter filter for all set operators with properties\r\n   * @param nodeDegreeFilter filters nodes by their degree\r\n   */\r\n  filterMenu.setup = function ( datatypeFilter, objectPropertyFilter, subclassFilter, disjointFilter, setOperatorFilter, nodeDegreeFilter ){\r\n    // TODO: is this here really necessarry? << new menu visualization style?\r\n    menuControl.on(\"mouseover\", function (){\r\n      var searchMenu = graph.options().searchMenu();\r\n      searchMenu.hideSearchEntries();\r\n    });\r\n    menuControl.on(\"mouseleave\", function (){\r\n      filterMenu.highlightForDegreeSlider(false);\r\n    });\r\n    \r\n    addFilterItem(datatypeFilter, \"datatype\", \"Datatype properties\", \"#datatypeFilteringOption\");\r\n    addFilterItem(objectPropertyFilter, \"objectProperty\", \"Object properties\", \"#objectPropertyFilteringOption\");\r\n    addFilterItem(subclassFilter, \"subclass\", \"Solitary subclasses\", \"#subclassFilteringOption\");\r\n    addFilterItem(disjointFilter, \"disjoint\", \"Class disjointness\", \"#disjointFilteringOption\");\r\n    addFilterItem(setOperatorFilter, \"setoperator\", \"Set operators\", \"#setOperatorFilteringOption\");\r\n    \r\n    addNodeDegreeFilter(nodeDegreeFilter, nodeDegreeContainer);\r\n    addAnimationFinishedListener();\r\n  };\r\n  \r\n  \r\n  function addFilterItem( filter, identifier, pluralNameOfFilteredItems, selector ){\r\n    var filterContainer,\r\n      filterCheckbox;\r\n    \r\n    filterContainer = d3.select(selector)\r\n      .append(\"div\")\r\n      .classed(\"checkboxContainer\", true);\r\n    \r\n    filterCheckbox = filterContainer.append(\"input\")\r\n      .classed(\"filterCheckbox\", true)\r\n      .attr(\"id\", identifier + \"FilterCheckbox\")\r\n      .attr(\"type\", \"checkbox\")\r\n      .property(\"checked\", filter.enabled());\r\n    \r\n    // Store for easier resetting\r\n    checkboxData.push({ checkbox: filterCheckbox, defaultState: filter.enabled() });\r\n    \r\n    filterCheckbox.on(\"click\", function ( silent ){\r\n      // There might be no parameters passed because of a manual\r\n      // invocation when resetting the filters\r\n      var isEnabled = filterCheckbox.property(\"checked\");\r\n      filter.enabled(isEnabled);\r\n      if ( silent !== true ) {\r\n        // updating graph when silent is false or the parameter is not given.\r\n        graph.update();\r\n      }\r\n    });\r\n    \r\n    filterContainer.append(\"label\")\r\n      .attr(\"for\", identifier + \"FilterCheckbox\")\r\n      .text(pluralNameOfFilteredItems);\r\n  }\r\n  \r\n  function addNodeDegreeFilter( nodeDegreeFilter, container ){\r\n    nodeDegreeFilter.setMaxDegreeSetter(function ( maxDegree ){\r\n      degreeSlider.attr(\"max\", maxDegree);\r\n      setSliderValue(degreeSlider, Math.min(maxDegree, degreeSlider.property(\"value\")));\r\n    });\r\n    \r\n    nodeDegreeFilter.setDegreeGetter(function (){\r\n      return degreeSlider.property(\"value\");\r\n    });\r\n    \r\n    nodeDegreeFilter.setDegreeSetter(function ( value ){\r\n      setSliderValue(degreeSlider, value);\r\n    });\r\n    \r\n    var sliderContainer,\r\n      sliderValueLabel;\r\n    \r\n    sliderContainer = container.append(\"div\")\r\n      .classed(\"distanceSliderContainer\", true);\r\n    \r\n    degreeSlider = sliderContainer.append(\"input\")\r\n      .attr(\"id\", \"nodeDegreeDistanceSlider\")\r\n      .attr(\"type\", \"range\")\r\n      .attr(\"min\", 0)\r\n      .attr(\"step\", 1);\r\n    \r\n    sliderContainer.append(\"label\")\r\n      .classed(\"description\", true)\r\n      .attr(\"for\", \"nodeDegreeDistanceSlider\")\r\n      .text(\"Degree of collapsing\");\r\n    \r\n    sliderValueLabel = sliderContainer.append(\"label\")\r\n      .classed(\"value\", true)\r\n      .attr(\"for\", \"nodeDegreeDistanceSlider\")\r\n      .text(0);\r\n    \r\n    \r\n    degreeSlider.on(\"change\", function ( silent ){\r\n      if ( silent !== true ) {\r\n        graph.update();\r\n        graphDegreeLevel = degreeSlider.property(\"value\");\r\n      }\r\n    });\r\n    \r\n    \r\n    degreeSlider.on(\"input\", function (){\r\n      var degree = degreeSlider.property(\"value\");\r\n      sliderValueLabel.text(degree);\r\n    });\r\n    \r\n    \r\n    // adding wheel events\r\n    degreeSlider.on(\"wheel\", handleWheelEvent);\r\n    degreeSlider.on(\"focusout\", function (){\r\n      if ( degreeSlider.property(\"value\") !== graphDegreeLevel ) {\r\n        graph.update();\r\n      }\r\n    });\r\n  }\r\n  \r\n  function handleWheelEvent(){\r\n    var wheelEvent = d3.event;\r\n    \r\n    var offset;\r\n    if ( wheelEvent.deltaY < 0 ) offset = 1;\r\n    if ( wheelEvent.deltaY > 0 ) offset = -1;\r\n    var maxDeg = parseInt(degreeSlider.attr(\"max\"));\r\n    var oldVal = parseInt(degreeSlider.property(\"value\"));\r\n    var newSliderValue = oldVal + offset;\r\n    if ( oldVal !== newSliderValue && (newSliderValue >= 0 && newSliderValue <= maxDeg) ) {\r\n      // only update when they are different [reducing redundant updates]\r\n      // set the new value and emit an update signal\r\n      degreeSlider.property(\"value\", newSliderValue);\r\n      degreeSlider.on(\"input\")();// <<-- sets the text value\r\n      graph.update();\r\n    }\r\n    d3.event.preventDefault();\r\n  }\r\n  \r\n  function setSliderValue( slider, value ){\r\n    slider.property(\"value\", value).on(\"input\")();\r\n  }\r\n  \r\n  /**\r\n   * Resets the filters (and also filtered elements) to their default.\r\n   */\r\n  filterMenu.reset = function (){\r\n    checkboxData.forEach(function ( checkboxData ){\r\n      var checkbox = checkboxData.checkbox,\r\n        enabledByDefault = checkboxData.defaultState,\r\n        isChecked = checkbox.property(\"checked\");\r\n      \r\n      if ( isChecked !== enabledByDefault ) {\r\n        checkbox.property(\"checked\", enabledByDefault);\r\n        // Call onclick event handlers programmatically\r\n        checkbox.on(\"click\")();\r\n      }\r\n    });\r\n    \r\n    setSliderValue(degreeSlider, 0);\r\n    degreeSlider.on(\"change\")();\r\n  };\r\n  \r\n  function addAnimationFinishedListener(){\r\n    menuControl.node().addEventListener(\"animationend\", function (){\r\n      menuControl.classed(\"buttonPulse\", false);\r\n      menuControl.classed(\"filterMenuButtonHighlight\", true);\r\n      \r\n    });\r\n  }\r\n  \r\n  filterMenu.killButtonAnimation = function (){\r\n    menuControl.classed(\"buttonPulse\", false);\r\n    menuControl.classed(\"filterMenuButtonHighlight\", false);\r\n  };\r\n  \r\n  \r\n  filterMenu.highlightForDegreeSlider = function ( enable ){\r\n    if ( !arguments.length ) {\r\n      enable = true;\r\n    }\r\n    menuControl.classed(\"highlighted\", enable);\r\n    nodeDegreeContainer.classed(\"highlighted\", enable);\r\n    // pulse button handling\r\n    if ( menuControl.classed(\"buttonPulse\") === true && enable === true ) {\r\n      menuControl.classed(\"buttonPulse\", false);\r\n      var timer = setTimeout(function (){\r\n        menuControl.classed(\"buttonPulse\", enable);\r\n        clearTimeout(timer);\r\n        // after the time is done, remove the pulse but stay highlighted\r\n      }, 100);\r\n    } else {\r\n      menuControl.classed(\"buttonPulse\", enable);\r\n      menuControl.classed(\"filterMenuButtonHighlight\", enable);\r\n    }\r\n  };\r\n  \r\n  \r\n  /** importer functions **/\r\n  // setting manually the values of the filter\r\n  // no update of the gui settings, these are updated in updateSettings\r\n  filterMenu.setCheckBoxValue = function ( id, checked ){\r\n    for ( var i = 0; i < checkboxData.length; i++ ) {\r\n      var cbdId = checkboxData[i].checkbox.attr(\"id\");\r\n      if ( cbdId === id ) {\r\n        checkboxData[i].checkbox.property(\"checked\", checked);\r\n        break;\r\n      }\r\n    }\r\n  };\r\n  \r\n  filterMenu.getCheckBoxValue = function ( id ){\r\n    for ( var i = 0; i < checkboxData.length; i++ ) {\r\n      var cbdId = checkboxData[i].checkbox.attr(\"id\");\r\n      if ( cbdId === id ) {\r\n        return checkboxData[i].checkbox.property(\"checked\");\r\n        \r\n      }\r\n    }\r\n  };\r\n  // set the value of the slider\r\n  filterMenu.setDegreeSliderValue = function ( val ){\r\n    degreeSlider.property(\"value\", val);\r\n  };\r\n  \r\n  filterMenu.getDegreeSliderValue = function (){\r\n    return degreeSlider.property(\"value\");\r\n  };\r\n  \r\n  // update the gui without invoking graph update (calling silent onclick function)\r\n  filterMenu.updateSettings = function (){\r\n    var silent = true;\r\n    var sliderValue = degreeSlider.property(\"value\");\r\n    if ( sliderValue > 0 ) {\r\n      filterMenu.highlightForDegreeSlider(true);\r\n    } else {\r\n      filterMenu.highlightForDegreeSlider(false);\r\n    }\r\n    checkboxData.forEach(function ( checkboxData ){\r\n      var checkbox = checkboxData.checkbox;\r\n      checkbox.on(\"click\")(silent);\r\n    });\r\n    \r\n    degreeSlider.on(\"input\")();\r\n    degreeSlider.on(\"change\")();\r\n    \r\n  };\r\n  \r\n  return filterMenu;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/filterMenu.js\n// module id = 321\n// module chunks = 1","/**\r\n * Contains the logic for setting up the gravity sliders.\r\n *\r\n * @param graph the associated webvowl graph\r\n * @returns {{}}\r\n */\r\nmodule.exports = function ( graph ){\r\n  \r\n  var gravityMenu = {},\r\n    sliders = [],\r\n    options = graph.graphOptions(),\r\n    defaultCharge = options.charge();\r\n  \r\n  \r\n  /**\r\n   * Adds the gravity sliders to the website.\r\n   */\r\n  gravityMenu.setup = function (){\r\n    var menuEntry = d3.select(\"#m_gravity\");\r\n    menuEntry.on(\"mouseover\", function (){\r\n      var searchMenu = graph.options().searchMenu();\r\n      searchMenu.hideSearchEntries();\r\n    });\r\n    addDistanceSlider(\"#classSliderOption\", \"class\", \"Class distance\", options.classDistance);\r\n    addDistanceSlider(\"#datatypeSliderOption\", \"datatype\", \"Datatype distance\", options.datatypeDistance);\r\n  };\r\n  \r\n  function addDistanceSlider( selector, identifier, label, distanceFunction ){\r\n    var defaultLinkDistance = distanceFunction();\r\n    \r\n    var sliderContainer,\r\n      sliderValueLabel;\r\n    \r\n    sliderContainer = d3.select(selector)\r\n      .append(\"div\")\r\n      .datum({ distanceFunction: distanceFunction }) // connect the options-function with the slider\r\n      .classed(\"distanceSliderContainer\", true);\r\n    \r\n    var slider = sliderContainer.append(\"input\")\r\n      .attr(\"id\", identifier + \"DistanceSlider\")\r\n      .attr(\"type\", \"range\")\r\n      .attr(\"min\", 10)\r\n      .attr(\"max\", 600)\r\n      .attr(\"value\", distanceFunction())\r\n      .attr(\"step\", 10);\r\n    \r\n    sliderContainer.append(\"label\")\r\n      .classed(\"description\", true)\r\n      .attr(\"for\", identifier + \"DistanceSlider\")\r\n      .text(label);\r\n    \r\n    sliderValueLabel = sliderContainer.append(\"label\")\r\n      .classed(\"value\", true)\r\n      .attr(\"for\", identifier + \"DistanceSlider\")\r\n      .text(distanceFunction());\r\n    \r\n    // Store slider for easier resetting\r\n    sliders.push(slider);\r\n    \r\n    slider.on(\"focusout\", function (){\r\n      graph.updateStyle();\r\n    });\r\n    \r\n    slider.on(\"input\", function (){\r\n      var distance = slider.property(\"value\");\r\n      distanceFunction(distance);\r\n      adjustCharge(defaultLinkDistance);\r\n      sliderValueLabel.text(distance);\r\n      graph.updateStyle();\r\n    });\r\n    \r\n    // add wheel event to the slider\r\n    slider.on(\"wheel\", function (){\r\n      var wheelEvent = d3.event;\r\n      var offset;\r\n      if ( wheelEvent.deltaY < 0 ) offset = 10;\r\n      if ( wheelEvent.deltaY > 0 ) offset = -10;\r\n      var oldVal = parseInt(slider.property(\"value\"));\r\n      var newSliderValue = oldVal + offset;\r\n      if ( newSliderValue !== oldVal ) {\r\n        slider.property(\"value\", newSliderValue);\r\n        distanceFunction(newSliderValue);\r\n        slider.on(\"input\")(); // << set text and update the graphStyles\r\n      }\r\n      d3.event.preventDefault();\r\n    });\r\n  }\r\n  \r\n  function adjustCharge( defaultLinkDistance ){\r\n    var greaterDistance = Math.max(options.classDistance(), options.datatypeDistance()),\r\n      ratio = greaterDistance / defaultLinkDistance,\r\n      newCharge = defaultCharge * ratio;\r\n    \r\n    options.charge(newCharge);\r\n  }\r\n  \r\n  /**\r\n   * Resets the gravity sliders to their default.\r\n   */\r\n  gravityMenu.reset = function (){\r\n    sliders.forEach(function ( slider ){\r\n      slider.property(\"value\", function ( d ){\r\n        // Simply reload the distance from the options\r\n        return d.distanceFunction();\r\n      });\r\n      slider.on(\"input\")();\r\n    });\r\n  };\r\n  \r\n  \r\n  return gravityMenu;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/gravityMenu.js\n// module id = 322\n// module chunks = 1","/**\r\n * Contains the logic for connecting the modes with the website.\r\n *\r\n * @param graph the graph that belongs to these controls\r\n * @returns {{}}\r\n */\r\nmodule.exports = function ( graph ){\r\n  \r\n  var SAME_COLOR_MODE = { text: \"Multicolor\", type: \"same\" };\r\n  var GRADIENT_COLOR_MODE = { text: \"Multicolor\", type: \"gradient\" };\r\n  \r\n  var modeMenu = {},\r\n    checkboxes = [],\r\n    colorModeSwitch;\r\n  \r\n  var dynamicLabelWidthCheckBox;\r\n  // getter and setter for the state of color modes\r\n  modeMenu.colorModeState = function ( s ){\r\n    if ( !arguments.length ) return colorModeSwitch.datum().active;\r\n    colorModeSwitch.datum().active = s;\r\n    return modeMenu;\r\n  };\r\n  \r\n  \r\n  modeMenu.setDynamicLabelWidth = function ( val ){\r\n    dynamicLabelWidthCheckBox.property(\"checked\", val);\r\n  };\r\n  // getter for checkboxes\r\n  modeMenu.getCheckBoxContainer = function (){\r\n    return checkboxes;\r\n  };\r\n  // getter for the color switch [needed? ]\r\n  modeMenu.colorModeSwitch = function (){\r\n    return colorModeSwitch;\r\n  };\r\n  \r\n  /**\r\n   * Connects the website with the available graph modes.\r\n   */\r\n  modeMenu.setup = function ( pickAndPin, nodeScaling, compactNotation, colorExternals ){\r\n    var menuEntry = d3.select(\"#m_modes\");\r\n    menuEntry.on(\"mouseover\", function (){\r\n      var searchMenu = graph.options().searchMenu();\r\n      searchMenu.hideSearchEntries();\r\n    });\r\n    addCheckBoxD(\"labelWidth\", \"Dynamic label width\", \"#dynamicLabelWidth\", graph.options().dynamicLabelWidth, 1);\r\n    addCheckBox(\"editorMode\", \"Editing \", \"#editMode\", graph.editorMode);\r\n    addModeItem(pickAndPin, \"pickandpin\", \"Pick & pin\", \"#pickAndPinOption\", false);\r\n    addModeItem(nodeScaling, \"nodescaling\", \"Node scaling\", \"#nodeScalingOption\", true);\r\n    addModeItem(compactNotation, \"compactnotation\", \"Compact notation\", \"#compactNotationOption\", true);\r\n    var container = addModeItem(colorExternals, \"colorexternals\", \"Color externals\", \"#colorExternalsOption\", true);\r\n    colorModeSwitch = addExternalModeSelection(container, colorExternals);\r\n  };\r\n  function addCheckBoxD( identifier, modeName, selector, onChangeFunc, updateLvl ){\r\n    var moduleOptionContainer = d3.select(selector)\r\n      .append(\"div\")\r\n      .classed(\"checkboxContainer\", true);\r\n    \r\n    var moduleCheckbox = moduleOptionContainer.append(\"input\")\r\n      .classed(\"moduleCheckbox\", true)\r\n      .attr(\"id\", identifier + \"ModuleCheckbox\")\r\n      .attr(\"type\", \"checkbox\")\r\n      .property(\"checked\", onChangeFunc());\r\n    \r\n    moduleCheckbox.on(\"click\", function ( d ){\r\n      var isEnabled = moduleCheckbox.property(\"checked\");\r\n      onChangeFunc(isEnabled);\r\n      d3.select(\"#maxLabelWidthSlider\").node().disabled = !isEnabled;\r\n      d3.select(\"#maxLabelWidthvalueLabel\").classed(\"disabledLabelForSlider\", !isEnabled);\r\n      d3.select(\"#maxLabelWidthDescriptionLabel\").classed(\"disabledLabelForSlider\", !isEnabled);\r\n      \r\n      if ( updateLvl > 0 ) {\r\n        graph.animateDynamicLabelWidth();\r\n        // graph.lazyRefresh();\r\n      }\r\n    });\r\n    moduleOptionContainer.append(\"label\")\r\n      .attr(\"for\", identifier + \"ModuleCheckbox\")\r\n      .text(modeName);\r\n    if ( identifier === \"editorMode\" ) {\r\n      moduleOptionContainer.append(\"label\")\r\n        .attr(\"style\", \"font-size:10px;padding-top:3px\")\r\n        .text(\"(experimental)\");\r\n    }\r\n    \r\n    dynamicLabelWidthCheckBox = moduleCheckbox;\r\n  }\r\n  \r\n  function addCheckBox( identifier, modeName, selector, onChangeFunc ){\r\n    var moduleOptionContainer = d3.select(selector)\r\n      .append(\"div\")\r\n      .classed(\"checkboxContainer\", true);\r\n    \r\n    var moduleCheckbox = moduleOptionContainer.append(\"input\")\r\n      .classed(\"moduleCheckbox\", true)\r\n      .attr(\"id\", identifier + \"ModuleCheckbox\")\r\n      .attr(\"type\", \"checkbox\")\r\n      .property(\"checked\", onChangeFunc());\r\n    \r\n    moduleCheckbox.on(\"click\", function ( d ){\r\n      var isEnabled = moduleCheckbox.property(\"checked\");\r\n      onChangeFunc(isEnabled);\r\n      if ( isEnabled === true )\r\n        graph.showEditorHintIfNeeded();\r\n    });\r\n    moduleOptionContainer.append(\"label\")\r\n      .attr(\"for\", identifier + \"ModuleCheckbox\")\r\n      .text(modeName);\r\n    if ( identifier === \"editorMode\" ) {\r\n      moduleOptionContainer.append(\"label\")\r\n        .attr(\"style\", \"font-size:10px;padding-top:3px\")\r\n        .text(\" (experimental)\");\r\n    }\r\n  }\r\n  \r\n  function addModeItem( module, identifier, modeName, selector, updateGraphOnClick ){\r\n    var moduleOptionContainer,\r\n      moduleCheckbox;\r\n    \r\n    moduleOptionContainer = d3.select(selector)\r\n      .append(\"div\")\r\n      .classed(\"checkboxContainer\", true)\r\n      .datum({ module: module, defaultState: module.enabled() });\r\n    \r\n    moduleCheckbox = moduleOptionContainer.append(\"input\")\r\n      .classed(\"moduleCheckbox\", true)\r\n      .attr(\"id\", identifier + \"ModuleCheckbox\")\r\n      .attr(\"type\", \"checkbox\")\r\n      .property(\"checked\", module.enabled());\r\n    \r\n    // Store for easier resetting all modes\r\n    checkboxes.push(moduleCheckbox);\r\n    \r\n    moduleCheckbox.on(\"click\", function ( d, silent ){\r\n      var isEnabled = moduleCheckbox.property(\"checked\");\r\n      d.module.enabled(isEnabled);\r\n      if ( updateGraphOnClick && silent !== true ) {\r\n        graph.executeColorExternalsModule();\r\n        graph.executeCompactNotationModule();\r\n        graph.lazyRefresh();\r\n      }\r\n    });\r\n    \r\n    moduleOptionContainer.append(\"label\")\r\n      .attr(\"for\", identifier + \"ModuleCheckbox\")\r\n      .text(modeName);\r\n    \r\n    return moduleOptionContainer;\r\n  }\r\n  \r\n  function addExternalModeSelection( container, colorExternalsMode ){\r\n    var button = container.append(\"button\").datum({ active: false }).classed(\"color-mode-switch\", true);\r\n    applyColorModeSwitchState(button, colorExternalsMode);\r\n    \r\n    button.on(\"click\", function ( silent ){\r\n      var data = button.datum();\r\n      data.active = !data.active;\r\n      applyColorModeSwitchState(button, colorExternalsMode);\r\n      if ( colorExternalsMode.enabled() && silent !== true ) {\r\n        graph.executeColorExternalsModule();\r\n        graph.lazyRefresh();\r\n      }\r\n    });\r\n    \r\n    return button;\r\n  }\r\n  \r\n  function applyColorModeSwitchState( element, colorExternalsMode ){\r\n    var isActive = element.datum().active;\r\n    var activeColorMode = getColorModeByState(isActive);\r\n    \r\n    element.classed(\"active\", isActive)\r\n      .text(activeColorMode.text);\r\n    \r\n    if ( colorExternalsMode ) {\r\n      colorExternalsMode.colorModeType(activeColorMode.type);\r\n    }\r\n  }\r\n  \r\n  function getColorModeByState( isActive ){\r\n    return isActive ? GRADIENT_COLOR_MODE : SAME_COLOR_MODE;\r\n  }\r\n  \r\n  /**\r\n   * Resets the modes to their default.\r\n   */\r\n  modeMenu.reset = function (){\r\n    checkboxes.forEach(function ( checkbox ){\r\n      var defaultState = checkbox.datum().defaultState,\r\n        isChecked = checkbox.property(\"checked\");\r\n      \r\n      if ( isChecked !== defaultState ) {\r\n        checkbox.property(\"checked\", defaultState);\r\n        // Call onclick event handlers programmatically\r\n        checkbox.on(\"click\")(checkbox.datum());\r\n      }\r\n      \r\n      // Reset the module that is connected with the checkbox\r\n      checkbox.datum().module.reset();\r\n    });\r\n    \r\n    // set the switch to active and simulate disabling\r\n    colorModeSwitch.datum().active = true;\r\n    colorModeSwitch.on(\"click\")();\r\n  };\r\n  \r\n  /** importer functions **/\r\n  // setting manually the values of the filter\r\n  // no update of the gui settings, these are updated in updateSettings\r\n  modeMenu.setCheckBoxValue = function ( id, checked ){\r\n    for ( var i = 0; i < checkboxes.length; i++ ) {\r\n      var cbdId = checkboxes[i].attr(\"id\");\r\n      \r\n      if ( cbdId === id ) {\r\n        checkboxes[i].property(\"checked\", checked);\r\n        break;\r\n      }\r\n    }\r\n  };\r\n  modeMenu.getCheckBoxValue = function ( id ){\r\n    for ( var i = 0; i < checkboxes.length; i++ ) {\r\n      var cbdId = checkboxes[i].attr(\"id\");\r\n      if ( cbdId === id ) {\r\n        return checkboxes[i].property(\"checked\");\r\n      }\r\n    }\r\n  };\r\n  \r\n  modeMenu.setColorSwitchState = function ( state ){\r\n    // need the !state because we simulate later a click\r\n    modeMenu.colorModeState(!state);\r\n  };\r\n  modeMenu.setColorSwitchStateUsingURL = function ( state ){\r\n    // need the !state because we simulate later a click\r\n    modeMenu.colorModeState(!state);\r\n    colorModeSwitch.on(\"click\")(true);\r\n  };\r\n  \r\n  \r\n  modeMenu.updateSettingsUsingURL = function (){\r\n    var silent = true;\r\n    checkboxes.forEach(function ( checkbox ){\r\n      checkbox.on(\"click\")(checkbox.datum(), silent);\r\n    });\r\n  };\r\n  \r\n  modeMenu.updateSettings = function (){\r\n    var silent = true;\r\n    checkboxes.forEach(function ( checkbox ){\r\n      checkbox.on(\"click\")(checkbox.datum(), silent);\r\n    });\r\n    // this simulates onclick and inverts its state\r\n    colorModeSwitch.on(\"click\")(silent);\r\n  };\r\n  return modeMenu;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/modeMenu.js\n// module id = 323\n// module chunks = 1","module.exports = function ( graph ){\r\n  var debugMenu = {},\r\n    checkboxes = [];\r\n  \r\n  \r\n  var hoverFlag = false;\r\n  var specialCbx;\r\n  debugMenu.setup = function (){\r\n    var menuEntry = d3.select(\"#debugMenuHref\");\r\n    \r\n    menuEntry.on(\"mouseover\", function (){\r\n      if ( hoverFlag === false ) {\r\n        var searchMenu = graph.options().searchMenu();\r\n        searchMenu.hideSearchEntries();\r\n        specialCbx.on(\"click\")(true);\r\n        if ( graph.editorMode() === false ) {\r\n          d3.select(\"#useAccuracyHelper\").style(\"color\", \"#979797\");\r\n          d3.select(\"#useAccuracyHelper\").style(\"pointer-events\", \"none\");\r\n          \r\n          // regardless the state on which useAccuracyHelper is , we are not in editing mode -> disable it\r\n          d3.select(\"#showDraggerObject\").style(\"color\", \"#979797\");\r\n          d3.select(\"#showDraggerObject\").style(\"pointer-events\", \"none\");\r\n        } else {\r\n          d3.select(\"#useAccuracyHelper\").style(\"color\", \"#2980b9\");\r\n          d3.select(\"#useAccuracyHelper\").style(\"pointer-events\", \"auto\");\r\n        }\r\n        hoverFlag = true;\r\n      }\r\n    });\r\n    menuEntry.on(\"mouseout\", function (){\r\n      hoverFlag = false;\r\n    });\r\n    \r\n    \r\n    specialCbx = addCheckBox(\"useAccuracyHelper\", \"Use accuracy helper\", \"#useAccuracyHelper\", graph.options().useAccuracyHelper,\r\n      function ( enabled, silent ){\r\n        if ( !enabled ) {\r\n          d3.select(\"#showDraggerObject\").style(\"color\", \"#979797\");\r\n          d3.select(\"#showDraggerObject\").style(\"pointer-events\", \"none\");\r\n          d3.select(\"#showDraggerObjectConfigCheckbox\").node().checked = false;\r\n        } else {\r\n          d3.select(\"#showDraggerObject\").style(\"color\", \"#2980b9\");\r\n          d3.select(\"#showDraggerObject\").style(\"pointer-events\", \"auto\");\r\n        }\r\n        \r\n        if ( silent === true ) return;\r\n        graph.lazyRefresh();\r\n        graph.updateDraggerElements();\r\n      }\r\n    );\r\n    addCheckBox(\"showDraggerObject\", \"Show accuracy helper\", \"#showDraggerObject\", graph.options().showDraggerObject,\r\n      function ( enabled, silent ){\r\n        if ( silent === true ) return;\r\n        graph.lazyRefresh();\r\n        graph.updateDraggerElements();\r\n      });\r\n    addCheckBox(\"showFPS_Statistics\", \"Show rendering statistics\", \"#showFPS_Statistics\", graph.options().showRenderingStatistic,\r\n      function ( enabled, silent ){\r\n        \r\n        if ( graph.options().getHideDebugFeatures() === false ) {\r\n          d3.select(\"#FPS_Statistics\").classed(\"hidden\", !enabled);\r\n        } else {\r\n          d3.select(\"#FPS_Statistics\").classed(\"hidden\", true);\r\n        }\r\n        \r\n        \r\n      });\r\n    addCheckBox(\"showModeOfOperation\", \"Show input modality\", \"#showModeOfOperation\", graph.options().showInputModality,\r\n      function ( enabled ){\r\n        if ( graph.options().getHideDebugFeatures() === false ) {\r\n          d3.select(\"#modeOfOperationString\").classed(\"hidden\", !enabled);\r\n        } else {\r\n          d3.select(\"#modeOfOperationString\").classed(\"hidden\", true);\r\n        }\r\n      });\r\n    \r\n    \r\n  };\r\n  \r\n  \r\n  function addCheckBox( identifier, modeName, selector, onChangeFunc, _callbackFunction ){\r\n    var configOptionContainer = d3.select(selector)\r\n      .append(\"div\")\r\n      .classed(\"checkboxContainer\", true);\r\n    var configCheckbox = configOptionContainer.append(\"input\")\r\n      .classed(\"moduleCheckbox\", true)\r\n      .attr(\"id\", identifier + \"ConfigCheckbox\")\r\n      .attr(\"type\", \"checkbox\")\r\n      .property(\"checked\", onChangeFunc());\r\n    \r\n    \r\n    configCheckbox.on(\"click\", function ( silent ){\r\n      var isEnabled = configCheckbox.property(\"checked\");\r\n      onChangeFunc(isEnabled);\r\n      _callbackFunction(isEnabled, silent);\r\n      \r\n    });\r\n    checkboxes.push(configCheckbox);\r\n    configOptionContainer.append(\"label\")\r\n      .attr(\"for\", identifier + \"ConfigCheckbox\")\r\n      .text(modeName);\r\n    \r\n    return configCheckbox;\r\n  }\r\n  \r\n  debugMenu.setCheckBoxValue = function ( identifier, value ){\r\n    for ( var i = 0; i < checkboxes.length; i++ ) {\r\n      var cbdId = checkboxes[i].attr(\"id\");\r\n      if ( cbdId === identifier ) {\r\n        checkboxes[i].property(\"checked\", value);\r\n        break;\r\n      }\r\n    }\r\n  };\r\n  \r\n  debugMenu.getCheckBoxValue = function ( id ){\r\n    for ( var i = 0; i < checkboxes.length; i++ ) {\r\n      var cbdId = checkboxes[i].attr(\"id\");\r\n      if ( cbdId === id ) {\r\n        return checkboxes[i].property(\"checked\");\r\n      }\r\n    }\r\n  };\r\n  \r\n  debugMenu.updateSettings = function (){\r\n    d3.selectAll(\".debugOption\").classed(\"hidden\", graph.options().getHideDebugFeatures());\r\n    \r\n    var silent = true;\r\n    checkboxes.forEach(function ( checkbox ){\r\n      checkbox.on(\"click\")(silent);\r\n    });\r\n    if ( graph.editorMode() === false ) {\r\n      \r\n      d3.select(\"#useAccuracyHelper\").style(\"color\", \"#979797\");\r\n      d3.select(\"#useAccuracyHelper\").style(\"pointer-events\", \"none\");\r\n      \r\n      // regardless the state on which useAccuracyHelper is , we are not in editing mode -> disable it\r\n      d3.select(\"#showDraggerObject\").style(\"color\", \"#979797\");\r\n      d3.select(\"#showDraggerObject\").style(\"pointer-events\", \"none\");\r\n    } else {\r\n      \r\n      d3.select(\"#useAccuracyHelper\").style(\"color\", \"#2980b9\");\r\n      d3.select(\"#useAccuracyHelper\").style(\"pointer-events\", \"auto\");\r\n    }\r\n    \r\n  };\r\n  \r\n  return debugMenu;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/debugMenu.js\n// module id = 324\n// module chunks = 1","var unescape = require(\"lodash/unescape\");\r\n\r\nmodule.exports = function ( graph ){\r\n  \r\n  var ontologyMenu = {},\r\n    loadingInfo = d3.select(\"#loading-info\"),\r\n    loadingProgress = d3.select(\"#loading-progress\"),\r\n    \r\n    ontologyMenuTimeout,\r\n    fileToLoad,\r\n    stopTimer = false,\r\n    loadingError = false,\r\n    loadingStatusTimer,\r\n    conversion_sessionId,\r\n    cachedConversions = {},\r\n    loadingModule,\r\n    loadOntologyFromText;\r\n  var currentLoadedOntologyName = \"\";\r\n  \r\n  String.prototype.beginsWith = function ( string ){\r\n    return (this.indexOf(string) === 0);\r\n  };\r\n  \r\n  ontologyMenu.getLoadingFunction = function (){\r\n    return loadOntologyFromText;\r\n  };\r\n  \r\n  ontologyMenu.clearCachedVersion = function (){\r\n    if ( cachedConversions[currentLoadedOntologyName] ) {\r\n      cachedConversions[currentLoadedOntologyName] = undefined;\r\n    }\r\n  };\r\n  \r\n  \r\n  ontologyMenu.reloadCachedOntology = function (){\r\n    ontologyMenu.clearCachedVersion();\r\n    graph.clearGraphData();\r\n    loadingModule.parseUrlAndLoadOntology(false);\r\n  };\r\n  \r\n  ontologyMenu.cachedOntology = function ( ontoName ){\r\n    currentLoadedOntologyName = ontoName;\r\n    if ( cachedConversions[ontoName] ) {\r\n      var locStr = String(location.hash);\r\n      d3.select(\"#reloadSvgIcon\").node().disabled = false;\r\n      graph.showReloadButtonAfterLayoutOptimization(true);\r\n      if ( locStr.indexOf(\"#file\") > -1 ) {\r\n        d3.select(\"#reloadSvgIcon\").node().disabled = true;\r\n        d3.select(\"#reloadCachedOntology\").node().title = \"reloading original version not possible, please reload the file\";\r\n        d3.select(\"#reloadSvgIcon\").classed(\"disabledReloadElement\", true);\r\n        d3.select(\"#svgStringText\").style(\"fill\", \"gray\");\r\n        d3.select(\"#svgStringText\").classed(\"noselect\", true);\r\n      }\r\n      else {\r\n        d3.select(\"#reloadCachedOntology\").node().title = \"generate new visualization and overwrite cached ontology\";\r\n        d3.select(\"#reloadSvgIcon\").classed(\"disabledReloadElement\", false);\r\n        d3.select(\"#svgStringText\").style(\"fill\", \"black\");\r\n        d3.select(\"#svgStringText\").classed(\"noselect\", true);\r\n      }\r\n    } else {\r\n      graph.showReloadButtonAfterLayoutOptimization(false);\r\n      \r\n    }\r\n    return cachedConversions[ontoName];\r\n  };\r\n  ontologyMenu.setCachedOntology = function ( ontoName, ontoContent ){\r\n    cachedConversions[ontoName] = ontoContent;\r\n    currentLoadedOntologyName = ontoName;\r\n  };\r\n  \r\n  ontologyMenu.getErrorStatus = function (){\r\n    return loadingError;\r\n  };\r\n  \r\n  ontologyMenu.setup = function ( _loadOntologyFromText ){\r\n    loadOntologyFromText = _loadOntologyFromText;\r\n    loadingModule = graph.options().loadingModule();\r\n    var menuEntry = d3.select(\"#m_select\");\r\n    menuEntry.on(\"mouseover\", function (){\r\n      var searchMenu = graph.options().searchMenu();\r\n      searchMenu.hideSearchEntries();\r\n    });\r\n    \r\n    setupConverterButtons();\r\n    setupUploadButton();\r\n    \r\n    var descriptionButton = d3.select(\"#error-description-button\").datum({ open: false });\r\n    descriptionButton.on(\"click\", function ( data ){\r\n      var errorContainer = d3.select(\"#error-description-container\");\r\n      var errorDetailsButton = d3.select(this);\r\n      \r\n      // toggle the state\r\n      data.open = !data.open;\r\n      var descriptionVisible = data.open;\r\n      if ( descriptionVisible ) {\r\n        errorDetailsButton.text(\"Hide error details\");\r\n      } else {\r\n        errorDetailsButton.text(\"Show error details\");\r\n      }\r\n      errorContainer.classed(\"hidden\", !descriptionVisible);\r\n    });\r\n    \r\n    setupUriListener();\r\n    loadingModule.setOntologyMenu(ontologyMenu);\r\n  };\r\n  \r\n  \r\n  function setupUriListener(){\r\n    // reload ontology when hash parameter gets changed manually\r\n    d3.select(window).on(\"hashchange\", function (){\r\n      var oldURL = d3.event.oldURL, newURL = d3.event.newURL;\r\n      if ( oldURL !== newURL ) {\r\n        // don't reload when just the hash parameter gets appended\r\n        if ( newURL === oldURL + \"#\" ) {\r\n          return;\r\n        }\r\n        updateNavigationHrefs();\r\n        loadingModule.parseUrlAndLoadOntology();\r\n      }\r\n    });\r\n    updateNavigationHrefs();\r\n  }\r\n  \r\n  ontologyMenu.stopLoadingTimer = function (){\r\n    stopTimer = true;\r\n    clearTimeout(loadingStatusTimer);\r\n  };\r\n  \r\n  /**\r\n   * Quick fix: update all anchor tags that are used as buttons because a click on them\r\n   * changes the url and this will load an other ontology.\r\n   */\r\n  function updateNavigationHrefs(){\r\n    d3.selectAll(\"#menuElementContainer > li > a\").attr(\"href\", location.hash || \"#\");\r\n  }\r\n  \r\n  ontologyMenu.setIriText = function ( text ){\r\n    d3.select(\"#iri-converter-input\").node().value = text;\r\n    d3.select(\"#iri-converter-button\").attr(\"disabled\", false);\r\n    d3.select(\"#iri-converter-form\").on(\"submit\")();\r\n  };\r\n  \r\n  ontologyMenu.clearDetailInformation = function (){\r\n    var bpContainer = d3.select(\"#bulletPoint_container\");\r\n    var htmlCollection = bpContainer.node().children;\r\n    var numEntries = htmlCollection.length;\r\n    \r\n    for ( var i = 0; i < numEntries; i++ ) {\r\n      htmlCollection[0].remove();\r\n    }\r\n  };\r\n  ontologyMenu.append_message = function ( msg ){\r\n    // forward call\r\n    append_message(msg);\r\n  };\r\n  function append_message( msg ){\r\n    var bpContainer = d3.select(\"#bulletPoint_container\");\r\n    var div = bpContainer.append(\"div\");\r\n    div.node().innerHTML = msg;\r\n    loadingModule.scrollDownDetails();\r\n  }\r\n  \r\n  ontologyMenu.append_message_toLastBulletPoint = function ( msg ){\r\n    // forward call\r\n    append_message_toLastBulletPoint(msg);\r\n  };\r\n  \r\n  ontologyMenu.append_bulletPoint = function ( msg ){\r\n    // forward call\r\n    append_bulletPoint(msg);\r\n  };\r\n  function append_message_toLastBulletPoint( msg ){\r\n    var bpContainer = d3.select(\"#bulletPoint_container\");\r\n    var htmlCollection = bpContainer.node().getElementsByTagName(\"LI\");\r\n    var lastItem = htmlCollection.length - 1;\r\n    if ( lastItem >= 0 ) {\r\n      var oldText = htmlCollection[lastItem].innerHTML;\r\n      htmlCollection[lastItem].innerHTML = oldText + msg;\r\n    }\r\n    loadingModule.scrollDownDetails();\r\n  }\r\n  \r\n  function append_bulletPoint( msg ){\r\n    var bp_container = d3.select(\"#bulletPoint_container\");\r\n    var bp = bp_container.append(\"li\");\r\n    bp.node().innerHTML = msg;\r\n    d3.select(\"#currentLoadingStep\").node().innerHTML = msg;\r\n    loadingModule.scrollDownDetails();\r\n  }\r\n  \r\n  \r\n  function setupConverterButtons(){\r\n    var iriConverterButton = d3.select(\"#iri-converter-button\");\r\n    var iriConverterInput = d3.select(\"#iri-converter-input\");\r\n    \r\n    iriConverterInput.on(\"input\", function (){\r\n      keepOntologySelectionOpenShortly();\r\n      \r\n      var inputIsEmpty = iriConverterInput.property(\"value\") === \"\";\r\n      iriConverterButton.attr(\"disabled\", inputIsEmpty || undefined);\r\n    }).on(\"click\", function (){\r\n      keepOntologySelectionOpenShortly();\r\n    });\r\n    \r\n    d3.select(\"#iri-converter-form\").on(\"submit\", function (){\r\n      var inputName = iriConverterInput.property(\"value\");\r\n      \r\n      // remove first spaces\r\n      var clearedName = inputName.replace(/%20/g, \" \");\r\n      while ( clearedName.beginsWith(\" \") ) {\r\n        clearedName = clearedName.substr(1, clearedName.length);\r\n      }\r\n      // remove ending spaces\r\n      while ( clearedName.endsWith(\" \") ) {\r\n        clearedName = clearedName.substr(0, clearedName.length - 1);\r\n      }\r\n      // check if iri is actually an url for a json file (ends with .json)\r\n      // create lowercase filenames;\r\n      inputName = clearedName;\r\n      var lc_iri = inputName.toLowerCase();\r\n      if ( lc_iri.endsWith(\".json\") ) {\r\n        location.hash = \"url=\" + inputName;\r\n        iriConverterInput.property(\"value\", \"\");\r\n        iriConverterInput.on(\"input\")();\r\n      } else {\r\n        location.hash = \"iri=\" + inputName;\r\n        iriConverterInput.property(\"value\", \"\");\r\n        iriConverterInput.on(\"input\")();\r\n      }\r\n      d3.event.preventDefault();\r\n      return false;\r\n    });\r\n  }\r\n  \r\n  function setupUploadButton(){\r\n    var input = d3.select(\"#file-converter-input\"),\r\n      inputLabel = d3.select(\"#file-converter-label\"),\r\n      uploadButton = d3.select(\"#file-converter-button\");\r\n    \r\n    input.on(\"change\", function (){\r\n      var selectedFiles = input.property(\"files\");\r\n      if ( selectedFiles.length <= 0 ) {\r\n        inputLabel.text(\"Select ontology file\");\r\n        uploadButton.property(\"disabled\", true);\r\n      } else {\r\n        inputLabel.text(selectedFiles[0].name);\r\n        fileToLoad = selectedFiles[0].name;\r\n        uploadButton.property(\"disabled\", false);\r\n        uploadButton.node().click();\r\n        // close menu;\r\n        graph.options().navigationMenu().hideAllMenus();\r\n      }\r\n    });\r\n    \r\n    uploadButton.on(\"click\", function (){\r\n      var selectedFile = input.property(\"files\")[0];\r\n      if ( !selectedFile ) {\r\n        return false;\r\n      }\r\n      var newHashParameter = \"file=\" + selectedFile.name;\r\n      // Trigger the reupload manually, because the iri is not changing\r\n      if ( location.hash === \"#\" + newHashParameter ) {\r\n        loadingModule.parseUrlAndLoadOntology();\r\n      } else {\r\n        location.hash = newHashParameter;\r\n      }\r\n    });\r\n  }\r\n  \r\n  function setLoadingStatusInfo( message ){\r\n    // check if there is a owl2vowl li item;\r\n    var o2vConverterContainer = d3.select(\"#o2vConverterContainer\");\r\n    if ( !o2vConverterContainer.node() ) {\r\n      var bp_container = d3.select(\"#bulletPoint_container\");\r\n      var div = bp_container.append(\"div\");\r\n      o2vConverterContainer = div.append(\"ul\");\r\n      o2vConverterContainer.attr(\"id\", \"o2vConverterContainer\");\r\n      o2vConverterContainer.style(\"margin-left\", \"-25px\");\r\n    }\r\n    // clear o2vConverterContainer;\r\n    var htmlCollection = o2vConverterContainer.node().children;\r\n    var numEntries = htmlCollection.length;\r\n    for ( var i = 0; i < numEntries; i++ ) {\r\n      htmlCollection[0].remove();\r\n    }\r\n    // split tokens provided by o2v messages\r\n    var tokens = message.split(\"* \");\r\n    var liForToken;\r\n    for ( var t = 0; t < tokens.length; t++ ) {\r\n      var tokenMessage = tokens[t];\r\n      // create li for tokens;\r\n      if ( tokenMessage.length > 0 ) {\r\n        liForToken = o2vConverterContainer.append(\"li\");\r\n        liForToken.attr(\"type\", \"disc\");\r\n        liForToken.node().innerHTML = tokenMessage.replace(/\\n/g, \"<br>\");\r\n      }\r\n    }\r\n    if ( liForToken )\r\n      liForToken.node().innerHTML += \"<br>\";\r\n    \r\n    loadingModule.scrollDownDetails();\r\n  }\r\n  \r\n  ontologyMenu.setLoadingStatusInfo = function ( message ){\r\n    // forward call\r\n    setLoadingStatusInfo(message);\r\n  };\r\n  \r\n  function getLoadingStatusOnceCallBacked( callback, parameter ){\r\n    d3.xhr(\"loadingStatus?sessionId=\" + conversion_sessionId, \"application/text\", function ( error, request ){\r\n      if ( error ) {\r\n        console.log(\"ontologyMenu getLoadingStatusOnceCallBacked throws error\");\r\n        console.log(\"---------Error -----------\");\r\n        console.log(error);\r\n        console.log(\"---------Request -----------\");\r\n        console.log(request);\r\n      }\r\n      setLoadingStatusInfo(request.responseText);\r\n      callback(parameter);\r\n    });\r\n  }\r\n  \r\n  function getLoadingStatusTimeLooped(){\r\n    d3.xhr(\"loadingStatus?sessionId=\" + conversion_sessionId, \"application/text\", function ( error, request ){\r\n      if ( error ) {\r\n        console.log(\"ontologyMenu getLoadingStatusTimeLooped throws error\");\r\n        console.log(\"---------Error -----------\");\r\n        console.log(error);\r\n        console.log(\"---------Request -----------\");\r\n        console.log(request);\r\n      }\r\n      if ( stopTimer === false ) {\r\n        setLoadingStatusInfo(request.responseText);\r\n        timedLoadingStatusLogger();\r\n      }\r\n    });\r\n  }\r\n  \r\n  function timedLoadingStatusLogger(){\r\n    clearTimeout(loadingStatusTimer);\r\n    if ( stopTimer === false ) {\r\n      loadingStatusTimer = setTimeout(function (){\r\n        getLoadingStatusTimeLooped();\r\n      }, 1000);\r\n    }\r\n  }\r\n  \r\n  function callbackUpdateLoadingMessage( msg ){\r\n    d3.xhr(\"loadingStatus\", \"application/text\", function ( error, request ){\r\n      if ( request !== undefined ) {\r\n        setLoadingStatusInfo(request.responseText + \"<br>\" + msg);\r\n      } else {\r\n        append_message(msg);\r\n      }\r\n    });\r\n  }\r\n  \r\n  ontologyMenu.setConversionID = function ( id ){\r\n    conversion_sessionId = id;\r\n  };\r\n  \r\n  ontologyMenu.callbackLoad_Ontology_FromIRI = function ( parameter ){\r\n    var relativePath = parameter[0];\r\n    var ontoName = parameter[1];\r\n    var localThreadId = parameter[2];\r\n    stopTimer = false;\r\n    timedLoadingStatusLogger();\r\n    d3.xhr(relativePath, \"application/json\", function ( error, request ){\r\n      var loadingSuccessful = !error;\r\n      // check if error occurred or responseText is empty\r\n      if ( (error !== null && error.status === 500) || (request && request.responseText.length === 0) ) {\r\n        clearTimeout(loadingStatusTimer);\r\n        stopTimer = true;\r\n        getLoadingStatusOnceCallBacked(callbackFromIRI_URL_ERROR, [error, request, localThreadId]);\r\n      }\r\n      var jsonText;\r\n      if ( loadingSuccessful ) {\r\n        clearTimeout(loadingStatusTimer);\r\n        stopTimer = true;\r\n        jsonText = request.responseText;\r\n        getLoadingStatusOnceCallBacked(callbackFromIRI_Success, [jsonText, ontoName, localThreadId]);\r\n      }\r\n    });\r\n  };\r\n  \r\n  \r\n  ontologyMenu.callbackLoad_Ontology_From_DirectInput = function ( text, parameter ){\r\n    var input = text;\r\n    var sessionId = parameter[1];\r\n    stopTimer = false;\r\n    timedLoadingStatusLogger();\r\n    \r\n    var formData = new FormData();\r\n    formData.append(\"input\", input);\r\n    formData.append(\"sessionId\", sessionId);\r\n    var xhr = new XMLHttpRequest();\r\n    \r\n    xhr.open(\"POST\", \"directInput\", true);\r\n    xhr.onload = function (){\r\n      clearTimeout(loadingStatusTimer);\r\n      stopTimer = true;\r\n      getLoadingStatusOnceCallBacked(callbackForConvert, [xhr, input, sessionId]);\r\n    };\r\n    timedLoadingStatusLogger();\r\n    xhr.send(formData);\r\n    \r\n  };\r\n  function callbackFromIRI_Success( parameter ){\r\n    var local_conversionId = parameter[2];\r\n    if ( local_conversionId !== conversion_sessionId ) {\r\n      console.log(\"The conversion process for file:\" + parameter[1] + \" has been canceled!\");\r\n      ontologyMenu.conversionFinished(local_conversionId);\r\n      return;\r\n    }\r\n    loadingModule.loadFromOWL2VOWL(parameter[0], parameter[1]);\r\n    ontologyMenu.conversionFinished();\r\n    \r\n  }\r\n  \r\n  function callbackFromDirectInput_Success( parameter ){\r\n    var local_conversionId = parameter[1];\r\n    if ( local_conversionId !== conversion_sessionId ) {\r\n      console.log(\"The conversion process for file:\" + parameter[1] + \" has been canceled!\");\r\n      ontologyMenu.conversionFinished(local_conversionId);\r\n      return;\r\n    }\r\n    loadingModule.loadFromOWL2VOWL(parameter[0], \"DirectInputConversionID\" + local_conversionId);\r\n    ontologyMenu.conversionFinished();\r\n    \r\n  }\r\n  \r\n  ontologyMenu.getConversionId = function (){\r\n    return conversion_sessionId;\r\n  };\r\n  \r\n  ontologyMenu.callbackLoad_JSON_FromURL = function ( parameter ){\r\n    var relativePath = parameter[0];\r\n    var ontoName = parameter[1];\r\n    var local_conversionId = parameter[2];\r\n    stopTimer = false;\r\n    timedLoadingStatusLogger();\r\n    d3.xhr(relativePath, \"application/json\", function ( error, request ){\r\n      var loadingSuccessful = !error;\r\n      // check if error occurred or responseText is empty\r\n      if ( (error !== null && error.status === 500) || (request && request.responseText.length === 0) ) {\r\n        clearTimeout(loadingStatusTimer);\r\n        stopTimer = true;\r\n        loadingSuccessful = false;\r\n        console.log(request);\r\n        console.log(request.responseText.length);\r\n        getLoadingStatusOnceCallBacked(callbackFromJSON_URL_ERROR, [error, request, local_conversionId]);\r\n      }\r\n      if ( loadingSuccessful ) {\r\n        clearTimeout(loadingStatusTimer);\r\n        stopTimer = true;\r\n        var jsonText = request.responseText;\r\n        getLoadingStatusOnceCallBacked(callbackFromJSON_Success, [jsonText, ontoName, local_conversionId]);\r\n      }\r\n    });\r\n  };\r\n  \r\n  function callbackFromJSON_Success( parameter ){\r\n    var local_conversionId = parameter[2];\r\n    if ( local_conversionId !== conversion_sessionId ) {\r\n      console.log(\"The conversion process for file:\" + parameter[1] + \" has been canceled!\");\r\n      return;\r\n    }\r\n    loadingModule.loadFromOWL2VOWL(parameter[0], parameter[1]);\r\n  }\r\n  \r\n  function callbackFromJSON_URL_ERROR( parameter ){\r\n    var error = parameter[0];\r\n    var request = parameter[1];\r\n    var local_conversionId = parameter[2];\r\n    if ( local_conversionId !== conversion_sessionId ) {\r\n      console.log(\"This thread has been canceled!!\");\r\n      ontologyMenu.conversionFinished(local_conversionId);\r\n      return;\r\n    }\r\n    callbackUpdateLoadingMessage(\"<br><span style='color:red'> Failed to convert the file.</span> \" +\r\n      \" Ontology could not be loaded.<br>Is it a valid OWL ontology? Please check with <a target=\\\"_blank\\\"\" +\r\n      \"href=\\\"http://visualdataweb.de/validator/\\\">OWL Validator</a>\");\r\n    \r\n    if ( error !== null && error.status === 500 ) {\r\n      append_message(\"<span style='color:red'>Could not find ontology  at the URL</span>\");\r\n    }\r\n    if ( request && request.responseText.length === 0 ) {\r\n      append_message(\"<span style='color:red'>Received empty graph</span>\");\r\n    }\r\n    graph.handleOnLoadingError();\r\n    ontologyMenu.conversionFinished();\r\n  }\r\n  \r\n  \r\n  function callbackFromIRI_URL_ERROR( parameter ){\r\n    var error = parameter[0];\r\n    var request = parameter[1];\r\n    var local_conversionId = parameter[2];\r\n    if ( local_conversionId !== conversion_sessionId ) {\r\n      console.log(\"This thread has been canceled!!\");\r\n      ontologyMenu.conversionFinished(local_conversionId);\r\n      return;\r\n    }\r\n    callbackUpdateLoadingMessage(\"<br><span style='color:red'> Failed to convert the file.</span> \" +\r\n      \" Ontology could not be loaded.<br>Is it a valid OWL ontology? Please check with <a target=\\\"_blank\\\"\" +\r\n      \"href=\\\"http://visualdataweb.de/validator/\\\">OWL Validator</a>\");\r\n    \r\n    if ( error !== null && error.status === 500 ) {\r\n      append_message(\"<span style='color:red'>Could not find ontology  at the URL</span>\");\r\n    }\r\n    if ( request && request.responseText.length === 0 ) {\r\n      append_message(\"<span style='color:red'>Received empty graph</span>\");\r\n    }\r\n    graph.handleOnLoadingError();\r\n    ontologyMenu.conversionFinished();\r\n  }\r\n  \r\n  function callbackFromDirectInput_ERROR( parameter ){\r\n    \r\n    var error = parameter[0];\r\n    var request = parameter[1];\r\n    var local_conversionId = parameter[2];\r\n    if ( local_conversionId !== conversion_sessionId ) {\r\n      console.log(\"The loading process for direct input has been canceled!\");\r\n      return;\r\n    }\r\n    // callbackUpdateLoadingMessage(\"<br> <span style='color:red'> Failed to convert the file.</span> \"+\r\n    //     \"Ontology could not be loaded.<br>Is it a valid OWL ontology? Please check with <a target=\\\"_blank\\\"\" +\r\n    //     \"href=\\\"http://visualdataweb.de/validator/\\\">OWL Validator</a>\");\r\n    if ( error !== null && error.status === 500 ) {\r\n      append_message(\"<span style='color:red'>Could not convert direct input</span>\");\r\n    }\r\n    if ( request && request.responseText.length === 0 ) {\r\n      append_message(\"<span style='color:red'>Received empty graph</span>\");\r\n    }\r\n    \r\n    graph.handleOnLoadingError();\r\n    ontologyMenu.conversionFinished();\r\n  }\r\n  \r\n  ontologyMenu.callbackLoadFromOntology = function ( selectedFile, filename, local_threadId ){\r\n    callbackLoadFromOntology(selectedFile, filename, local_threadId);\r\n  };\r\n  \r\n  function callbackLoadFromOntology( selectedFile, filename, local_threadId ){\r\n    stopTimer = false;\r\n    timedLoadingStatusLogger();\r\n    \r\n    var formData = new FormData();\r\n    formData.append(\"ontology\", selectedFile);\r\n    formData.append(\"sessionId\", local_threadId);\r\n    var xhr = new XMLHttpRequest();\r\n    \r\n    xhr.open(\"POST\", \"convert\", true);\r\n    xhr.onload = function (){\r\n      clearTimeout(loadingStatusTimer);\r\n      stopTimer = true;\r\n      console.log(xhr);\r\n      getLoadingStatusOnceCallBacked(callbackForConvert, [xhr, filename, local_threadId]);\r\n    };\r\n    timedLoadingStatusLogger();\r\n    xhr.send(formData);\r\n  }\r\n  \r\n  function callbackForConvert( parameter ){\r\n    var xhr = parameter[0];\r\n    var filename = parameter[1];\r\n    var local_threadId = parameter[2];\r\n    if ( local_threadId !== conversion_sessionId ) {\r\n      console.log(\"The conversion process for file:\" + filename + \" has been canceled!\");\r\n      ontologyMenu.conversionFinished(local_threadId);\r\n      return;\r\n    }\r\n    if ( xhr.status === 200 ) {\r\n      loadingModule.loadFromOWL2VOWL(xhr.responseText, filename);\r\n      ontologyMenu.conversionFinished();\r\n    } else {\r\n      var uglyJson=xhr.responseText;\r\n      var jsonResut=JSON.parse(uglyJson);\r\n      var niceJSON=JSON.stringify(jsonResut, 'null', '  ');\r\n      niceJSON= niceJSON.replace(new RegExp('\\r?\\n','g'), '<br />');\r\n      callbackUpdateLoadingMessage(\"Failed to convert the file. \" +\r\n          \"<br />Server answer: <br />\"+\r\n          \"<hr>\"+niceJSON+ \"<hr>\"+\r\n        \"Ontology could not be loaded.<br />Is it a valid OWL ontology? Please check with <a target=\\\"_blank\\\"\" +\r\n        \"href=\\\"http://visualdataweb.de/validator/\\\">OWL Validator</a>\");\r\n      \r\n      graph.handleOnLoadingError();\r\n      ontologyMenu.conversionFinished();\r\n    }\r\n  }\r\n  \r\n  ontologyMenu.conversionFinished = function ( id ){\r\n    var local_id = conversion_sessionId;\r\n    if ( id ) {\r\n      local_id = id;\r\n    }\r\n    d3.xhr(\"conversionDone?sessionId=\" + local_id, \"application/text\", function ( error, request ){\r\n      if ( error ) {\r\n        console.log(\"ontologyMenu conversionFinished throws error\");\r\n        console.log(\"---------Error -----------\");\r\n        console.log(error);\r\n        console.log(\"---------Request -----------\");\r\n        console.log(request);\r\n      }\r\n    });\r\n  };\r\n  \r\n  function keepOntologySelectionOpenShortly(){\r\n    // Events in the menu should not be considered\r\n    var ontologySelection = d3.select(\"#select .toolTipMenu\");\r\n    ontologySelection.on(\"click\", function (){\r\n      d3.event.stopPropagation();\r\n    }).on(\"keydown\", function (){\r\n      d3.event.stopPropagation();\r\n    });\r\n    \r\n    ontologySelection.style(\"display\", \"block\");\r\n    \r\n    function disableKeepingOpen(){\r\n      ontologySelection.style(\"display\", undefined);\r\n      \r\n      clearTimeout(ontologyMenuTimeout);\r\n      d3.select(window).on(\"click\", undefined).on(\"keydown\", undefined);\r\n      ontologySelection.on(\"mouseover\", undefined);\r\n    }\r\n    \r\n    // Clear the timeout to handle fast calls of this function\r\n    clearTimeout(ontologyMenuTimeout);\r\n    ontologyMenuTimeout = setTimeout(function (){\r\n      disableKeepingOpen();\r\n    }, 3000);\r\n    \r\n    // Disable forced open selection on interaction\r\n    d3.select(window).on(\"click\", function (){\r\n      disableKeepingOpen();\r\n    }).on(\"keydown\", function (){\r\n      disableKeepingOpen();\r\n    });\r\n    \r\n    ontologySelection.on(\"mouseover\", function (){\r\n      disableKeepingOpen();\r\n    });\r\n  }\r\n  \r\n  ontologyMenu.showLoadingStatus = function ( visible ){\r\n    if ( visible === true ) {\r\n      displayLoadingIndicators();\r\n    }\r\n    else {\r\n      hideLoadingInformations();\r\n    }\r\n  };\r\n  \r\n  function displayLoadingIndicators(){\r\n    d3.select(\"#layoutLoadingProgressBarContainer\").classed(\"hidden\", false);\r\n    loadingInfo.classed(\"hidden\", false);\r\n    loadingProgress.classed(\"hidden\", false);\r\n  }\r\n  \r\n  function hideLoadingInformations(){\r\n    loadingInfo.classed(\"hidden\", true);\r\n  }\r\n  \r\n  return ontologyMenu;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/ontologyMenu.js\n// module id = 325\n// module chunks = 1","var toString = require('./toString'),\n    unescapeHtmlChar = require('./_unescapeHtmlChar');\n\n/** Used to match HTML entities and HTML characters. */\nvar reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n    reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\n/**\n * The inverse of `_.escape`; this method converts the HTML entities\n * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n * their corresponding characters.\n *\n * **Note:** No other HTML entities are unescaped. To unescape additional\n * HTML entities use a third-party library like [_he_](https://mths.be/he).\n *\n * @static\n * @memberOf _\n * @since 0.6.0\n * @category String\n * @param {string} [string=''] The string to unescape.\n * @returns {string} Returns the unescaped string.\n * @example\n *\n * _.unescape('fred, barney, &amp; pebbles');\n * // => 'fred, barney, & pebbles'\n */\nfunction unescape(string) {\n  string = toString(string);\n  return (string && reHasEscapedHtml.test(string))\n    ? string.replace(reEscapedHtml, unescapeHtmlChar)\n    : string;\n}\n\nmodule.exports = unescape;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/unescape.js\n// module id = 326\n// module chunks = 1","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map HTML entities to characters. */\nvar htmlUnescapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n};\n\n/**\n * Used by `_.unescape` to convert HTML entities to characters.\n *\n * @private\n * @param {string} chr The matched character to unescape.\n * @returns {string} Returns the unescaped character.\n */\nvar unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\nmodule.exports = unescapeHtmlChar;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_unescapeHtmlChar.js\n// module id = 327\n// module chunks = 1","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_basePropertyOf.js\n// module id = 328\n// module chunks = 1","/**\r\n * Contains the logic for the pause and resume button.\r\n *\r\n * @param graph the associated webvowl graph\r\n * @returns {{}}\r\n */\r\nmodule.exports = function ( graph ){\r\n  \r\n  var pauseMenu = {},\r\n    pauseButton;\r\n  \r\n  \r\n  /**\r\n   * Adds the pause button to the website.\r\n   */\r\n  pauseMenu.setup = function (){\r\n    var menuEntry = d3.select(\"#pauseOption\");\r\n    menuEntry.on(\"mouseover\", function (){\r\n      var searchMenu = graph.options().searchMenu();\r\n      searchMenu.hideSearchEntries();\r\n    });\r\n    pauseButton = d3.select(\"#pause-button\")\r\n      .datum({ paused: false })\r\n      .on(\"click\", function ( d ){\r\n        graph.paused(!d.paused);\r\n        d.paused = !d.paused;\r\n        updatePauseButton();\r\n        pauseButton.classed(\"highlighted\", d.paused);\r\n      });\r\n    // Set these properties the first time manually\r\n    updatePauseButton();\r\n  };\r\n  \r\n  pauseMenu.setPauseValue = function ( value ){\r\n    pauseButton.datum().paused = value;\r\n    graph.paused(value);\r\n    pauseButton.classed(\"highlighted\", value);\r\n    updatePauseButton();\r\n  };\r\n  \r\n  function updatePauseButton(){\r\n    updatePauseButtonClass();\r\n    updatePauseButtonText();\r\n  }\r\n  \r\n  function updatePauseButtonClass(){\r\n    pauseButton.classed(\"paused\", function ( d ){\r\n      return d.paused;\r\n    });\r\n  }\r\n  \r\n  function updatePauseButtonText(){\r\n    if ( pauseButton.datum().paused ) {\r\n      pauseButton.text(\"Resume\");\r\n    } else {\r\n      pauseButton.text(\"Pause\");\r\n    }\r\n  }\r\n  \r\n  pauseMenu.reset = function (){\r\n    // resuming\r\n    pauseMenu.setPauseValue(false);\r\n  };\r\n  \r\n  \r\n  return pauseMenu;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/pauseMenu.js\n// module id = 329\n// module chunks = 1","/**\r\n * Contains the logic for the reset button.\r\n *\r\n * @param graph the associated webvowl graph\r\n * @returns {{}}\r\n */\r\nmodule.exports = function ( graph ){\r\n  \r\n  var resetMenu = {},\r\n    options = graph.graphOptions(),\r\n    resettableModules,\r\n    untouchedOptions = webvowl.options();\r\n  \r\n  \r\n  /**\r\n   * Adds the reset button to the website.\r\n   * @param _resettableModules modules that can be resetted\r\n   */\r\n  resetMenu.setup = function ( _resettableModules ){\r\n    resettableModules = _resettableModules;\r\n    d3.select(\"#reset-button\").on(\"click\", resetGraph);\r\n    var menuEntry = d3.select(\"#resetOption\");\r\n    menuEntry.on(\"mouseover\", function (){\r\n      var searchMenu = graph.options().searchMenu();\r\n      searchMenu.hideSearchEntries();\r\n    });\r\n  };\r\n  \r\n  function resetGraph(){\r\n    graph.resetSearchHighlight();\r\n    graph.options().searchMenu().clearText();\r\n    options.classDistance(untouchedOptions.classDistance());\r\n    options.datatypeDistance(untouchedOptions.datatypeDistance());\r\n    options.charge(untouchedOptions.charge());\r\n    options.gravity(untouchedOptions.gravity());\r\n    options.linkStrength(untouchedOptions.linkStrength());\r\n    graph.reset();\r\n    \r\n    resettableModules.forEach(function ( module ){\r\n      module.reset();\r\n    });\r\n    \r\n    graph.updateStyle();\r\n  }\r\n  \r\n  \r\n  return resetMenu;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/resetMenu.js\n// module id = 330\n// module chunks = 1","/**\r\n * Contains the search \"engine\"\r\n *\r\n * @param graph the associated webvowl graph\r\n * @returns {{}}\r\n */\r\nmodule.exports = function ( graph ){\r\n  var searchMenu = {},\r\n    dictionary = [],\r\n    entryNames = [],\r\n    searchLineEdit,\r\n    mergedStringsList,\r\n    mergedIdList,\r\n    maxEntries = 6,\r\n    dictionaryUpdateRequired = true,\r\n    labelDictionary,\r\n    inputText,\r\n    viewStatusOfSearchEntries = false;\r\n  \r\n  var results = [];\r\n  var resultID = [];\r\n  var c_locate = d3.select(\"#locateSearchResult\");\r\n  var c_search = d3.select(\"#c_search\");\r\n  var m_search = d3.select(\"#m_search\"); // << dropdown container;\r\n  \r\n  \r\n  String.prototype.beginsWith = function ( string ){\r\n    return (this.indexOf(string) === 0);\r\n  };\r\n  \r\n  searchMenu.requestDictionaryUpdate = function (){\r\n    dictionaryUpdateRequired = true;\r\n    // clear possible pre searched entries\r\n    var htmlCollection = m_search.node().children;\r\n    var numEntries = htmlCollection.length;\r\n    \r\n    for ( var i = 0; i < numEntries; i++ )\r\n      htmlCollection[0].remove();\r\n    searchLineEdit.node().value = \"\";\r\n  };\r\n  \r\n  \r\n  function updateSearchDictionary(){\r\n    labelDictionary = graph.getUpdateDictionary();\r\n    dictionaryUpdateRequired = false;\r\n    dictionary = [];\r\n    entryNames = [];\r\n    var idList = [];\r\n    var stringList = [];\r\n    \r\n    var i;\r\n    for ( i = 0; i < labelDictionary.length; i++ ) {\r\n      var lEntry = labelDictionary[i].labelForCurrentLanguage();\r\n      idList.push(labelDictionary[i].id());\r\n      stringList.push(lEntry);\r\n      // add all equivalents to the search space;\r\n      if ( labelDictionary[i].equivalents && labelDictionary[i].equivalents().length > 0 ) {\r\n        var eqs = labelDictionary[i].equivalentsString();\r\n        var eqsLabels = eqs.split(\", \");\r\n        for ( var e = 0; e < eqsLabels.length; e++ ) {\r\n          idList.push(labelDictionary[i].id());\r\n          stringList.push(eqsLabels[e]);\r\n        }\r\n      }\r\n    }\r\n    \r\n    mergedStringsList = [];\r\n    mergedIdList = [];\r\n    var indexInStringList = -1;\r\n    var currentString;\r\n    var currentObjectId;\r\n    \r\n    for ( i = 0; i < stringList.length; i++ ) {\r\n      if ( i === 0 ) {\r\n        // just add the elements\r\n        mergedStringsList.push(stringList[i]);\r\n        mergedIdList.push([]);\r\n        mergedIdList[0].push(idList[i]);\r\n        continue;\r\n      }\r\n      else {\r\n        currentString = stringList[i];\r\n        currentObjectId = idList[i];\r\n        indexInStringList = mergedStringsList.indexOf(currentString);\r\n      }\r\n      if ( indexInStringList === -1 ) {\r\n        mergedStringsList.push(stringList[i]);\r\n        mergedIdList.push([]);\r\n        var lastEntry = mergedIdList.length;\r\n        mergedIdList[lastEntry - 1].push(currentObjectId);\r\n      } else {\r\n        mergedIdList[indexInStringList].push(currentObjectId);\r\n      }\r\n    }\r\n    \r\n    for ( i = 0; i < mergedStringsList.length; i++ ) {\r\n      var aString = mergedStringsList[i];\r\n      var correspondingIdList = mergedIdList[i];\r\n      var idListResult = \"[ \";\r\n      for ( var j = 0; j < correspondingIdList.length; j++ ) {\r\n        idListResult = idListResult + correspondingIdList[j].toString();\r\n        idListResult = idListResult + \", \";\r\n      }\r\n      idListResult = idListResult.substring(0, idListResult.length - 2);\r\n      idListResult = idListResult + \" ]\";\r\n      \r\n      dictionary.push(aString);\r\n      entryNames.push(aString);\r\n    }\r\n  }\r\n  \r\n  searchMenu.setup = function (){\r\n    // clear dictionary;\r\n    dictionary = [];\r\n    searchLineEdit = d3.select(\"#search-input-text\");\r\n    searchLineEdit.on(\"input\", userInput);\r\n    searchLineEdit.on(\"keydown\", userNavigation);\r\n    searchLineEdit.on(\"click\", toggleSearchEntryView);\r\n    searchLineEdit.on(\"mouseover\", hoverSearchEntryView);\r\n    \r\n    c_locate.on(\"click\", function (){\r\n      graph.locateSearchResult();\r\n    });\r\n    \r\n    c_locate.on(\"mouseover\", function (){\r\n      searchMenu.hideSearchEntries();\r\n    });\r\n    \r\n  };\r\n  \r\n  function hoverSearchEntryView(){\r\n    updateSelectionStatusFlags();\r\n    searchMenu.showSearchEntries();\r\n  }\r\n  \r\n  function toggleSearchEntryView(){\r\n    if ( viewStatusOfSearchEntries ) {\r\n      searchMenu.hideSearchEntries();\r\n    } else {\r\n      searchMenu.showSearchEntries();\r\n    }\r\n  }\r\n  \r\n  searchMenu.hideSearchEntries = function (){\r\n    m_search.style(\"display\", \"none\");\r\n    viewStatusOfSearchEntries = false;\r\n  };\r\n  \r\n  searchMenu.showSearchEntries = function (){\r\n    m_search.style(\"display\", \"block\");\r\n    viewStatusOfSearchEntries = true;\r\n  };\r\n  \r\n  function ValidURL( str ){\r\n    var urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/;\r\n    return urlregex.test(str);\r\n    \r\n  }\r\n  \r\n  \r\n  function updateSelectionStatusFlags(){\r\n    if ( searchLineEdit.node().value.length === 0 ) {\r\n      createSearchEntries();\r\n      return;\r\n    }\r\n    handleAutoCompletion();\r\n  }\r\n  \r\n  function userNavigation(){\r\n    if ( dictionaryUpdateRequired ) {\r\n      updateSearchDictionary();\r\n    }\r\n    \r\n    var htmlCollection = m_search.node().children;\r\n    var numEntries = htmlCollection.length;\r\n    \r\n    \r\n    var move = 0;\r\n    var i;\r\n    var selectedEntry = -1;\r\n    for ( i = 0; i < numEntries; i++ ) {\r\n      var atr = htmlCollection[i].getAttribute('class');\r\n      if ( atr === \"dbEntrySelected\" ) {\r\n        selectedEntry = i;\r\n      }\r\n    }\r\n    if ( d3.event.keyCode === 13 ) {\r\n      if ( selectedEntry >= 0 && selectedEntry < numEntries ) {\r\n        // simulate onClick event\r\n        htmlCollection[selectedEntry].onclick();\r\n        searchMenu.hideSearchEntries();\r\n      }\r\n      else if ( numEntries === 0 ) {\r\n        inputText = searchLineEdit.node().value;\r\n        // check if input text ends or begins with with space\r\n        // remove first spaces\r\n        var clearedText = inputText.replace(/%20/g, \" \");\r\n        while ( clearedText.beginsWith(\" \") ) {\r\n          clearedText = clearedText.substr(1, clearedText.length);\r\n        }\r\n        // remove ending spaces\r\n        while ( clearedText.endsWith(\" \") ) {\r\n          clearedText = clearedText.substr(0, clearedText.length - 1);\r\n        }\r\n        var iri = clearedText.replace(/ /g, \"%20\");\r\n        \r\n        var valid = ValidURL(iri);\r\n        // validate url:\r\n        if ( valid ) {\r\n          var ontM = graph.options().ontologyMenu();\r\n          ontM.setIriText(iri);\r\n          searchLineEdit.node().value = \"\";\r\n        }\r\n        else {\r\n          console.log(iri + \" is not a valid URL!\");\r\n        }\r\n      }\r\n    }\r\n    if ( d3.event.keyCode === 38 ) {\r\n      move = -1;\r\n      searchMenu.showSearchEntries();\r\n    }\r\n    if ( d3.event.keyCode === 40 ) {\r\n      move = +1;\r\n      searchMenu.showSearchEntries();\r\n    }\r\n    \r\n    var newSelection = selectedEntry + move;\r\n    if ( newSelection !== selectedEntry ) {\r\n      \r\n      if ( newSelection < 0 && selectedEntry <= 0 ) {\r\n        htmlCollection[0].setAttribute('class', \"dbEntrySelected\");\r\n      }\r\n      \r\n      if ( newSelection >= numEntries ) {\r\n        htmlCollection[selectedEntry].setAttribute('class', \"dbEntrySelected\");\r\n      }\r\n      if ( newSelection >= 0 && newSelection < numEntries ) {\r\n        htmlCollection[newSelection].setAttribute('class', \"dbEntrySelected\");\r\n        if ( selectedEntry >= 0 )\r\n          htmlCollection[selectedEntry].setAttribute('class', \"dbEntry\");\r\n      }\r\n    }\r\n  }\r\n  \r\n  searchMenu.getSearchString = function (){\r\n    return searchLineEdit.node().value;\r\n  };\r\n  \r\n  \r\n  function clearSearchEntries(){\r\n    var htmlCollection = m_search.node().children;\r\n    var numEntries = htmlCollection.length;\r\n    for ( var i = 0; i < numEntries; i++ ) {\r\n      htmlCollection[0].remove();\r\n    }\r\n    results = [];\r\n    resultID = [];\r\n    \r\n  }\r\n  \r\n  function createSearchEntries(){\r\n    inputText = searchLineEdit.node().value;\r\n    var i;\r\n    var lc_text = inputText.toLowerCase();\r\n    var token;\r\n    \r\n    for ( i = 0; i < dictionary.length; i++ ) {\r\n      var tokenElement = dictionary[i];\r\n      if ( tokenElement === undefined ) {\r\n        //@WORKAROUND : nodes with undefined labels are skipped\r\n        //@FIX: these nodes are now not added to the dictionary\r\n        continue;\r\n      }\r\n      token = dictionary[i].toLowerCase();\r\n      if ( token.indexOf(lc_text) > -1 ) {\r\n        results.push(dictionary[i]);\r\n        resultID.push(i);\r\n      }\r\n    }\r\n  }\r\n  \r\n  function measureTextWidth( text, textStyle ){\r\n    // Set a default value\r\n    if ( !textStyle ) {\r\n      textStyle = \"text\";\r\n    }\r\n    var d = d3.select(\"body\")\r\n        .append(\"div\")\r\n        .attr(\"class\", textStyle)\r\n        .attr(\"id\", \"width-test\") // tag this element to identify it\r\n        .attr(\"style\", \"position:absolute; float:left; white-space:nowrap; visibility:hidden;\")\r\n        .text(text),\r\n      w = document.getElementById(\"width-test\").offsetWidth;\r\n    d.remove();\r\n    return w;\r\n  }\r\n  \r\n  function cropText( input ){\r\n    var maxWidth = 250;\r\n    var textStyle = \"dbEntry\";\r\n    var truncatedText = input;\r\n    var textWidth;\r\n    var ratio;\r\n    var newTruncatedTextLength;\r\n    while ( true ) {\r\n      textWidth = measureTextWidth(truncatedText, textStyle);\r\n      if ( textWidth <= maxWidth ) {\r\n        break;\r\n      }\r\n      \r\n      ratio = textWidth / maxWidth;\r\n      newTruncatedTextLength = Math.floor(truncatedText.length / ratio);\r\n      \r\n      // detect if nothing changes\r\n      if ( truncatedText.length === newTruncatedTextLength ) {\r\n        break;\r\n      }\r\n      \r\n      truncatedText = truncatedText.substring(0, newTruncatedTextLength);\r\n    }\r\n    \r\n    if ( input.length > truncatedText.length ) {\r\n      return input.substring(0, truncatedText.length - 6);\r\n    }\r\n    return input;\r\n  }\r\n  \r\n  function createDropDownElements(){\r\n    var numEntries;\r\n    var copyRes = results;\r\n    var i;\r\n    var token;\r\n    var newResults = [];\r\n    var newResultsIds = [];\r\n    \r\n    var lc_text = searchLineEdit.node().value.toLowerCase();\r\n    // set the number of shown results to be maxEntries or less;\r\n    numEntries = results.length;\r\n    if ( numEntries > maxEntries )\r\n      numEntries = maxEntries;\r\n    \r\n    \r\n    for ( i = 0; i < numEntries; i++ ) {\r\n      // search for the best entry\r\n      var indexElement = 1000000;\r\n      var lengthElement = 1000000;\r\n      var bestElement = -1;\r\n      for ( var j = 0; j < copyRes.length; j++ ) {\r\n        token = copyRes[j].toLowerCase();\r\n        var tIe = token.indexOf(lc_text);\r\n        var tLe = token.length;\r\n        if ( tIe > -1 && tIe <= indexElement && tLe <= lengthElement ) {\r\n          bestElement = j;\r\n          indexElement = tIe;\r\n          lengthElement = tLe;\r\n        }\r\n      }\r\n      newResults.push(copyRes[bestElement]);\r\n      newResultsIds.push(resultID[bestElement]);\r\n      copyRes[bestElement] = \"\";\r\n    }\r\n    \r\n    // add the results to the entry menu\r\n    //******************************************\r\n    numEntries = results.length;\r\n    if ( numEntries > maxEntries )\r\n      numEntries = maxEntries;\r\n    \r\n    var filteredOutElements = 0;\r\n    for ( i = 0; i < numEntries; i++ ) {\r\n      //add results to the dropdown menu\r\n      var testEntry = document.createElement('li');\r\n      testEntry.setAttribute('elementID', newResultsIds[i]);\r\n      testEntry.onclick = handleClick(newResultsIds[i]);\r\n      testEntry.setAttribute('class', \"dbEntry\");\r\n      \r\n      var entries = mergedIdList[newResultsIds[i]];\r\n      var eLen = entries.length;\r\n      \r\n      var croppedText = cropText(newResults[i]);\r\n      \r\n      var el0 = entries[0];\r\n      var allSame = true;\r\n      var nodeMap = graph.getNodeMapForSearch();\r\n      var visible = eLen;\r\n      if ( eLen > 1 ) {\r\n        for ( var q = 0; q < eLen; q++ ) {\r\n          if ( nodeMap[entries[q]] === undefined ) {\r\n            visible--;\r\n          }\r\n        }\r\n      }\r\n      \r\n      for ( var a = 0; a < eLen; a++ ) {\r\n        if ( el0 !== entries[a] ) {\r\n          allSame = false;\r\n        }\r\n      }\r\n      if ( croppedText !== newResults[i] ) {\r\n        // append ...(#numElements) if needed\r\n        if ( eLen > 1 && allSame === false ) {\r\n          if ( eLen !== visible )\r\n            croppedText += \"... (\" + visible + \"/\" + eLen + \")\";\r\n        }\r\n        else {\r\n          croppedText += \"...\";\r\n        }\r\n        testEntry.title = newResults[i];\r\n      }\r\n      else {\r\n        if ( eLen > 1 && allSame === false ) {\r\n          if ( eLen !== visible )\r\n            croppedText += \" (\" + visible + \"/\" + eLen + \")\";\r\n          else\r\n            croppedText += \" (\" + eLen + \")\";\r\n        }\r\n      }\r\n      \r\n      var searchEntryNode = d3.select(testEntry);\r\n      if ( eLen === 1 || allSame === true ) {\r\n        if ( nodeMap[entries[0]] === undefined ) {\r\n          searchEntryNode.style(\"color\", \"#979797\");\r\n          testEntry.title = newResults[i] + \"\\nElement is filtered out.\";\r\n          testEntry.onclick = function (){\r\n          };\r\n          d3.select(testEntry).style(\"cursor\", \"default\");\r\n          filteredOutElements++;\r\n        }\r\n      } else {\r\n        if ( visible < 1 ) {\r\n          searchEntryNode.style(\"color\", \"#979797\");\r\n          testEntry.onclick = function (){\r\n          };\r\n          testEntry.title = newResults[i] + \"\\nAll elements are filtered out.\";\r\n          d3.select(testEntry).style(\"cursor\", \"default\");\r\n          filteredOutElements++;\r\n        } else {\r\n          searchEntryNode.style(\"color\", \"\");\r\n        }\r\n        if ( visible < eLen && visible > 1 ) {\r\n          testEntry.title = newResults[i] + \"\\n\" + visible + \"/\" + eLen + \" elements are visible.\";\r\n        }\r\n      }\r\n      searchEntryNode.node().innerHTML = croppedText;\r\n      m_search.node().appendChild(testEntry);\r\n    }\r\n  }\r\n  \r\n  \r\n  function handleAutoCompletion(){\r\n    /**  pre condition: autoCompletion has already a valid text**/\r\n    clearSearchEntries();\r\n    createSearchEntries();\r\n    createDropDownElements();\r\n  }\r\n  \r\n  function userInput(){\r\n    c_locate.classed(\"highlighted\", false);\r\n    c_locate.node().title = \"Nothing to locate\";\r\n    \r\n    if ( dictionaryUpdateRequired ) {\r\n      updateSearchDictionary();\r\n    }\r\n    graph.resetSearchHighlight();\r\n    \r\n    if ( dictionary.length === 0 ) {\r\n      console.log(\"dictionary is empty\");\r\n      return;\r\n    }\r\n    inputText = searchLineEdit.node().value;\r\n    \r\n    clearSearchEntries();\r\n    if ( inputText.length !== 0 ) {\r\n      createSearchEntries();\r\n      createDropDownElements();\r\n    }\r\n    \r\n    searchMenu.showSearchEntries();\r\n  }\r\n  \r\n  function handleClick( elementId ){\r\n    \r\n    return function (){\r\n      var id = elementId;\r\n      var correspondingIds = mergedIdList[id];\r\n      \r\n      // autoComplete the text for the user\r\n      var autoComStr = entryNames[id];\r\n      searchLineEdit.node().value = autoComStr;\r\n      \r\n      graph.resetSearchHighlight();\r\n      graph.highLightNodes(correspondingIds);\r\n      c_locate.node().title = \"Locate search term\";\r\n      if ( autoComStr !== inputText ) {\r\n        handleAutoCompletion();\r\n      }\r\n      searchMenu.hideSearchEntries();\r\n    };\r\n  }\r\n  \r\n  searchMenu.clearText = function (){\r\n    searchLineEdit.node().value = \"\";\r\n    c_locate.classed(\"highlighted\", false);\r\n    c_locate.node().title = \"Nothing to locate\";\r\n    var htmlCollection = m_search.node().children;\r\n    var numEntries = htmlCollection.length;\r\n    for ( var i = 0; i < numEntries; i++ ) {\r\n      htmlCollection[0].remove();\r\n    }\r\n  };\r\n  \r\n  return searchMenu;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/searchMenu.js\n// module id = 331\n// module chunks = 1","/**\r\n * Contains the navigation \"engine\"\r\n *\r\n * @param graph the associated webvowl graph\r\n * @returns {{}}\r\n */\r\nmodule.exports = function ( graph ){\r\n  var navigationMenu = {},\r\n    scrollContainer = d3.select(\"#menuElementContainer\").node(),\r\n    menuContainer = d3.select(\"#menuContainer\").node(),\r\n    leftButton = d3.select(\"#scrollLeftButton\"),\r\n    rightButton = d3.select(\"#scrollRightButton\"),\r\n    scrolLeftValue,\r\n    scrollMax,\r\n    currentlyVisibleMenu,\r\n    currentlyHoveredEntry,\r\n    touchedElement = false,\r\n    t_scrollLeft,\r\n    t_scrollRight,\r\n    c_select = [],\r\n    m_select = [];\r\n  \r\n  \r\n  function clearAllTimers(){\r\n    cancelAnimationFrame(t_scrollLeft);\r\n    cancelAnimationFrame(t_scrollRight);\r\n  }\r\n  \r\n  function timed_scrollRight(){\r\n    scrolLeftValue += 5;\r\n    scrollContainer.scrollLeft = scrolLeftValue;\r\n    navigationMenu.updateScrollButtonVisibility();\r\n    if ( scrolLeftValue >= scrollMax ) {\r\n      clearAllTimers();\r\n      return;\r\n    }\r\n    t_scrollRight = requestAnimationFrame(timed_scrollRight);\r\n    \r\n  }\r\n  \r\n  function timed_scrollLeft(){\r\n    scrolLeftValue -= 5;\r\n    scrollContainer.scrollLeft = scrolLeftValue;\r\n    navigationMenu.updateScrollButtonVisibility();\r\n    if ( scrolLeftValue <= 0 ) {\r\n      clearAllTimers();\r\n      return;\r\n    }\r\n    t_scrollRight = requestAnimationFrame(timed_scrollLeft);\r\n  }\r\n  \r\n  // collect all menu entries and stuff;\r\n  function setupControlsAndMenus(){\r\n    // HEURISTIC : to match the menus and their controllers we remove the first 2 letters and match\r\n    c_select = [];\r\n    m_select = [];\r\n    \r\n    var c_temp = [];\r\n    var m_temp = [];\r\n    var i;\r\n    var controlElements = scrollContainer.children;\r\n    var numEntries = controlElements.length;\r\n    \r\n    for ( i = 0; i < numEntries; i++ ) {\r\n      c_temp.push(controlElements[i].id.slice(2));\r\n    }\r\n    \r\n    var menuElements = menuContainer.children;\r\n    numEntries = menuElements.length;\r\n    for ( i = 0; i < numEntries; i++ ) {\r\n      m_temp.push(menuElements[i].id.slice(2));\r\n    }\r\n    \r\n    numEntries = controlElements.length;\r\n    for ( i = 0; i < numEntries; i++ ) {\r\n      c_select[i] = \"c_\" + c_temp[i];\r\n      if ( m_temp.indexOf(c_temp[i]) > -1 ) {\r\n        m_select[i] = \"m_\" + c_temp[i];\r\n      } else {\r\n        m_select[i] = undefined;\r\n      }\r\n      // create custom behavior for click, touch, and hover\r\n      d3.select(\"#\" + c_select[i]).on(\"mouseover\", menuElementOnHovered);\r\n      d3.select(\"#\" + c_select[i]).on(\"mouseout\", menuElementOutHovered);\r\n      \r\n      d3.select(\"#\" + c_select[i]).on(\"click\", menuElementClicked);\r\n      d3.select(\"#\" + c_select[i]).on(\"touchstart\", menuElementTouched);\r\n      \r\n    }\r\n    \r\n    // connect to mouseWheel\r\n    d3.select(\"#menuElementContainer\").on(\"wheel\", function (){\r\n      var wheelEvent = d3.event;\r\n      var offset;\r\n      if ( wheelEvent.deltaY < 0 ) offset = 20;\r\n      if ( wheelEvent.deltaY > 0 ) offset = -20;\r\n      scrollContainer.scrollLeft += offset;\r\n      navigationMenu.hideAllMenus();\r\n      navigationMenu.updateScrollButtonVisibility();\r\n    });\r\n    \r\n    // connect scrollIndicator Buttons;\r\n    d3.select(\"#scrollRightButton\").on(\"mousedown\", function (){\r\n      scrolLeftValue = scrollContainer.scrollLeft;\r\n      navigationMenu.hideAllMenus();\r\n      t_scrollRight = requestAnimationFrame(timed_scrollRight);\r\n      \r\n    }).on(\"touchstart\", function (){\r\n      scrolLeftValue = scrollContainer.scrollLeft;\r\n      navigationMenu.hideAllMenus();\r\n      t_scrollRight = requestAnimationFrame(timed_scrollRight);\r\n    }).on(\"mouseup\", clearAllTimers)\r\n      .on(\"touchend\", clearAllTimers)\r\n      .on(\"touchcancel\", clearAllTimers);\r\n    \r\n    d3.select(\"#scrollLeftButton\").on(\"mousedown\", function (){\r\n      scrolLeftValue = scrollContainer.scrollLeft;\r\n      navigationMenu.hideAllMenus();\r\n      t_scrollLeft = requestAnimationFrame(timed_scrollLeft);\r\n    }).on(\"touchstart\", function (){\r\n      scrolLeftValue = scrollContainer.scrollLeft;\r\n      navigationMenu.hideAllMenus();\r\n      t_scrollLeft = requestAnimationFrame(timed_scrollLeft);\r\n    }).on(\"mouseup\", clearAllTimers)\r\n      .on(\"touchend\", clearAllTimers)\r\n      .on(\"touchcancel\", clearAllTimers);\r\n    \r\n    // connect the scroll functionality;\r\n    d3.select(\"#menuElementContainer\").on(\"scroll\", function (){\r\n      navigationMenu.updateScrollButtonVisibility();\r\n      navigationMenu.hideAllMenus();\r\n    });\r\n  }\r\n  \r\n  function menuElementOnHovered(){\r\n    navigationMenu.hideAllMenus();\r\n    if ( touchedElement ) {\r\n      return;\r\n    }\r\n    showSingleMenu(this.id);\r\n  }\r\n  \r\n  function menuElementOutHovered(){\r\n    hoveroutedControMenu(this.id);\r\n  }\r\n  \r\n  function menuElementClicked(){\r\n    var m_element = m_select[c_select.indexOf(this.id)];\r\n    if ( m_element ) {\r\n      var menuElement = d3.select(\"#\" + m_element);\r\n      if ( menuElement ) {\r\n        if ( menuElement.style(\"display\") === \"block\" ) {\r\n          menuElement.style(\"display\", \"none\");// hide it\r\n        } else {\r\n          showSingleMenu(this.id);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  function menuElementTouched(){\r\n    // it sets a flag that we have touched it,\r\n    // since d3. propagates the event for touch as hover and then click, we block the hover event\r\n    touchedElement = true;\r\n  }\r\n  \r\n  \r\n  function hoveroutedControMenu( controllerID ){\r\n    currentlyHoveredEntry = d3.select(\"#\" + controllerID);\r\n    if ( controllerID !== \"c_search\" ) {\r\n      d3.select(\"#\" + controllerID).select(\"path\").style(\"stroke-width\", \"0\");\r\n      d3.select(\"#\" + controllerID).select(\"path\").style(\"fill\", \"#fff\");\r\n    }\r\n    \r\n  }\r\n  \r\n  function showSingleMenu( controllerID ){\r\n    currentlyHoveredEntry = d3.select(\"#\" + controllerID).node();\r\n    // get the corresponding menu element for this controller\r\n    var m_element = m_select[c_select.indexOf(controllerID)];\r\n    if ( m_element ) {\r\n      if ( controllerID !== \"c_search\" ) {\r\n        \r\n        d3.select(\"#\" + controllerID).select(\"path\").style(\"stroke-width\", \"0\");\r\n        d3.select(\"#\" + controllerID).select(\"path\").style(\"fill\", \"#bdc3c7\");\r\n      }\r\n      // show it if we have a menu\r\n      currentlyVisibleMenu = d3.select(\"#\" + m_element);\r\n      currentlyVisibleMenu.style(\"display\", \"block\");\r\n      if ( m_element === \"m_export\" )\r\n        graph.options().exportMenu().exportAsUrl();\r\n      updateMenuPosition();\r\n    }\r\n  }\r\n  \r\n  function updateMenuPosition(){\r\n    if ( currentlyHoveredEntry ) {\r\n      var leftOffset = currentlyHoveredEntry.offsetLeft;\r\n      var scrollOffset = scrollContainer.scrollLeft;\r\n      var totalOffset = leftOffset - scrollOffset;\r\n      var finalOffset = Math.max(0, totalOffset);\r\n      var fullContainer_width = scrollContainer.getBoundingClientRect().width;\r\n      var elementWidth = currentlyVisibleMenu.node().getBoundingClientRect().width;\r\n      // make priority > first check if we are right\r\n      if ( finalOffset + elementWidth > fullContainer_width ) {\r\n        finalOffset = fullContainer_width - elementWidth;\r\n      }\r\n      // fix priority;\r\n      finalOffset = Math.max(0, finalOffset);\r\n      currentlyVisibleMenu.style(\"left\", finalOffset + \"px\");\r\n      \r\n      // // check if outside the viewport\r\n      // var menuWidth=currentlyHoveredEntry.getBoundingClientRect().width;\r\n      // var bt_width=36;\r\n      // if (totalOffset+menuWidth<bt_width || totalOffset+bt_width>fullContainer_width){\r\n      //     navigationMenu.hideAllMenus();\r\n      //     currentlyHoveredEntry=undefined;\r\n      // }\r\n    }\r\n  }\r\n  \r\n  navigationMenu.hideAllMenus = function (){\r\n    d3.selectAll(\".toolTipMenu\").style(\"display\", \"none\"); // hiding all menus\r\n  };\r\n  \r\n  navigationMenu.updateScrollButtonVisibility = function (){\r\n    scrollMax = scrollContainer.scrollWidth - scrollContainer.clientWidth - 2;\r\n    if ( scrollContainer.scrollLeft === 0 ) {\r\n      leftButton.classed(\"hidden\", true);\r\n    } else {\r\n      leftButton.classed(\"hidden\", false);\r\n    }\r\n    \r\n    if ( scrollContainer.scrollLeft > scrollMax ) {\r\n      rightButton.classed(\"hidden\", true);\r\n    } else {\r\n      rightButton.classed(\"hidden\", false);\r\n    }\r\n    \r\n  };\r\n  \r\n  navigationMenu.setup = function (){\r\n    setupControlsAndMenus();\r\n    // make sure that the menu elements follow their controller and also their restrictions\r\n    // some hovering behavior -- lets the menu disappear when hovered in graph or sidebar;\r\n    d3.select(\"#graph\").on(\"mouseover\", function (){\r\n      navigationMenu.hideAllMenus();\r\n    });\r\n    d3.select(\"#generalDetails\").on(\"mouseover\", function (){\r\n      navigationMenu.hideAllMenus();\r\n    });\r\n  };\r\n  \r\n  return navigationMenu;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/navigationMenu.js\n// module id = 332\n// module chunks = 1","/** The zoom Slider **/\r\nmodule.exports = function ( graph ){\r\n  var zoomSlider = {};\r\n  var minMag = graph.options().minMagnification(),\r\n    maxMag = graph.options().maxMagnification(),\r\n    defZoom,\r\n    t_zoomOut,\r\n    t_zoomIn,\r\n    zoomValue,\r\n    showSlider = true,\r\n    w = graph.options().width(),\r\n    h = graph.options().height(),\r\n    slider;\r\n  \r\n  defZoom = Math.min(w, h) / 1000;\r\n  \r\n  function clearAllTimers(){\r\n    cancelAnimationFrame(t_zoomOut);\r\n    cancelAnimationFrame(t_zoomIn);\r\n  }\r\n  \r\n  function timed_zoomOut(){\r\n    zoomValue = 0.98 * zoomValue;\r\n    // fail saves\r\n    if ( zoomValue < minMag ) {\r\n      zoomValue = minMag;\r\n    }\r\n    graph.setSliderZoom(zoomValue);\r\n    t_zoomOut = requestAnimationFrame(timed_zoomOut);\r\n  }\r\n  \r\n  function timed_zoomIn(){\r\n    zoomValue = 1.02 * zoomValue;\r\n    // fail saves\r\n    if ( zoomValue > maxMag ) {\r\n      zoomValue = maxMag;\r\n    }\r\n    graph.setSliderZoom(zoomValue);\r\n    t_zoomIn = requestAnimationFrame(timed_zoomIn);\r\n  }\r\n  \r\n  zoomSlider.setup = function (){\r\n    slider = d3.select(\"#zoomSliderParagraph\").append(\"input\")\r\n      .datum({})\r\n      .attr(\"id\", \"zoomSliderElement\")\r\n      .attr(\"type\", \"range\")\r\n      .attr(\"value\", defZoom)\r\n      .attr(\"min\", minMag)\r\n      .attr(\"max\", maxMag)\r\n      .attr(\"step\", (maxMag - minMag) / 40)\r\n      .attr(\"title\", \"zoom factor\")\r\n      .on(\"input\", function (){\r\n        zoomSlider.zooming();\r\n      });\r\n    \r\n    d3.select(\"#zoomOutButton\").on(\"mousedown\", function (){\r\n      graph.options().navigationMenu().hideAllMenus();\r\n      zoomValue = graph.scaleFactor();\r\n      t_zoomOut = requestAnimationFrame(timed_zoomOut);\r\n    })\r\n      .on(\"touchstart\", function (){\r\n        graph.options().navigationMenu().hideAllMenus();\r\n        zoomValue = graph.scaleFactor();\r\n        t_zoomOut = requestAnimationFrame(timed_zoomOut);\r\n      })\r\n      .on(\"mouseup\", clearAllTimers)\r\n      .on(\"touchend\", clearAllTimers)\r\n      .on(\"touchcancel\", clearAllTimers)\r\n      .attr(\"title\", \"zoom out\");\r\n    \r\n    d3.select(\"#zoomInButton\").on(\"mousedown\", function (){\r\n      graph.options().navigationMenu().hideAllMenus();\r\n      zoomValue = graph.scaleFactor();\r\n      t_zoomIn = requestAnimationFrame(timed_zoomIn);\r\n    })\r\n      .on(\"touchstart\", function (){\r\n        graph.options().navigationMenu().hideAllMenus();\r\n        zoomValue = graph.scaleFactor();\r\n        t_zoomIn = requestAnimationFrame(timed_zoomIn);\r\n      })\r\n      .on(\"mouseup\", clearAllTimers)\r\n      .on(\"touchend\", clearAllTimers)\r\n      .on(\"touchcancel\", clearAllTimers)\r\n      .attr(\"title\", \"zoom in\");\r\n    \r\n    d3.select(\"#centerGraphButton\").on(\"click\", function (){\r\n      graph.options().navigationMenu().hideAllMenus();\r\n      graph.forceRelocationEvent();\r\n    }).attr(\"title\", \"center graph\");\r\n    \r\n  };\r\n  \r\n  zoomSlider.showSlider = function ( val ){\r\n    if ( !arguments.length ) return showSlider;\r\n    d3.select(\"#zoomSlider\").classed(\"hidden\", !val);\r\n    showSlider = val;\r\n  };\r\n  \r\n  zoomSlider.zooming = function (){\r\n    graph.options().navigationMenu().hideAllMenus();\r\n    var zoomValue = slider.property(\"value\");\r\n    slider.attr(\"value\", zoomValue);\r\n    graph.setSliderZoom(zoomValue);\r\n  };\r\n  \r\n  zoomSlider.updateZoomSliderValue = function ( val ){\r\n    if ( slider ) {\r\n      slider.attr(\"value\", val);\r\n      slider.property(\"value\", val);\r\n    }\r\n  };\r\n  \r\n  return zoomSlider;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/zoomSlider.js\n// module id = 333\n// module chunks = 1","/**\r\n * Contains the logic for the sidebar.\r\n * @param graph the graph that belongs to these controls\r\n * @returns {{}}\r\n */\r\nmodule.exports = function ( graph ){\r\n  \r\n  var sidebar = {},\r\n    languageTools = webvowl.util.languageTools(),\r\n    elementTools = webvowl.util.elementTools(),\r\n    // Required for reloading when the language changes\r\n    ontologyInfo,\r\n    visibleSidebar = 1,\r\n    lastSelectedElement,\r\n    \r\n    detailArea = d3.select(\"#detailsArea\"),\r\n    graphArea = d3.select(\"#canvasArea\"),\r\n    menuArea = d3.select(\"#swipeBarContainer\"),\r\n    collapseButton = d3.select(\"#sidebarExpandButton\");\r\n  \r\n  /**\r\n   * Setup the menu bar.\r\n   */\r\n  \r\n  \r\n  function setupCollapsing(){\r\n    // adapted version of this example: http://www.normansblog.de/simple-jquery-accordion/\r\n    function collapseContainers( containers ){\r\n      containers.classed(\"hidden\", true);\r\n    }\r\n    \r\n    function expandContainers( containers ){\r\n      containers.classed(\"hidden\", false);\r\n    }\r\n    \r\n    var triggers = d3.selectAll(\".accordion-trigger\");\r\n    \r\n    // Collapse all inactive triggers on startup\r\n    collapseContainers(d3.selectAll(\".accordion-trigger:not(.accordion-trigger-active) + div\"));\r\n    \r\n    triggers.on(\"click\", function (){\r\n      var selectedTrigger = d3.select(this),\r\n        activeTriggers = d3.selectAll(\".accordion-trigger-active\");\r\n      \r\n      if ( selectedTrigger.classed(\"accordion-trigger-active\") ) {\r\n        // Collapse the active (which is also the selected) trigger\r\n        collapseContainers(d3.select(selectedTrigger.node().nextElementSibling));\r\n        selectedTrigger.classed(\"accordion-trigger-active\", false);\r\n      } else {\r\n        // Collapse the other trigger ...\r\n        collapseContainers(d3.selectAll(\".accordion-trigger-active + div\"));\r\n        activeTriggers.classed(\"accordion-trigger-active\", false);\r\n        // ... and expand the selected one\r\n        expandContainers(d3.select(selectedTrigger.node().nextElementSibling));\r\n        selectedTrigger.classed(\"accordion-trigger-active\", true);\r\n      }\r\n    });\r\n  }\r\n  \r\n  sidebar.clearOntologyInformation = function (){\r\n    \r\n    d3.select(\"#title\").text(\"No title available\");\r\n    d3.select(\"#about\").attr(\"href\", \"#\").attr(\"target\", \"_blank\").text(\"not given\");\r\n    d3.select(\"#version\").text(\"--\");\r\n    d3.select(\"#authors\").text(\"--\");\r\n    d3.select(\"#description\").text(\"No description available.\");\r\n    var container = d3.select(\"#ontology-metadata\");\r\n    container.selectAll(\"*\").remove();\r\n    d3.select(\"#classCount\")\r\n      .text(\"0\");\r\n    d3.select(\"#objectPropertyCount\")\r\n      .text(\"0\");\r\n    d3.select(\"#datatypePropertyCount\")\r\n      .text(\"0\");\r\n    d3.select(\"#individualCount\")\r\n      .text(\"0\");\r\n    d3.select(\"#nodeCount\")\r\n      .text(\"0\");\r\n    d3.select(\"#edgeCount\")\r\n      .text(\"0\");\r\n    \r\n    // clear selectedNode info\r\n    var isTriggerActive = d3.select(\"#selection-details-trigger\").classed(\"accordion-trigger-active\");\r\n    if ( isTriggerActive ) {\r\n      // close accordion\r\n      d3.select(\"#selection-details-trigger\").node().click();\r\n    }\r\n    showSelectionAdvice();\r\n    \r\n  };\r\n  \r\n  /**\r\n   * Updates the information of the passed ontology.\r\n   * @param data the graph data\r\n   * @param statistics the statistics module\r\n   */\r\n  sidebar.updateOntologyInformation = function ( data, statistics ){\r\n    data = data || {};\r\n    ontologyInfo = data.header || {};\r\n    \r\n    updateGraphInformation();\r\n    displayGraphStatistics(undefined, statistics);\r\n    displayMetadata(ontologyInfo.other);\r\n    \r\n    // Reset the sidebar selection\r\n    sidebar.updateSelectionInformation(undefined);\r\n    \r\n    setLanguages(ontologyInfo.languages);\r\n  };\r\n  \r\n  function setLanguages( languages ){\r\n    languages = languages || [];\r\n    \r\n    // Put the default and unset label on top of the selection labels\r\n    languages.sort(function ( a, b ){\r\n      if ( a === webvowl.util.constants().LANG_IRIBASED ) {\r\n        return -1;\r\n      } else if ( b === webvowl.util.constants().LANG_IRIBASED ) {\r\n        return 1;\r\n      }\r\n      if ( a === webvowl.util.constants().LANG_UNDEFINED ) {\r\n        return -1;\r\n      } else if ( b === webvowl.util.constants().LANG_UNDEFINED ) {\r\n        return 1;\r\n      }\r\n      return a.localeCompare(b);\r\n    });\r\n    \r\n    var languageSelection = d3.select(\"#language\")\r\n      .on(\"change\", function (){\r\n        graph.language(d3.event.target.value);\r\n        updateGraphInformation();\r\n        sidebar.updateSelectionInformation(lastSelectedElement);\r\n      });\r\n    \r\n    languageSelection.selectAll(\"option\").remove();\r\n    languageSelection.selectAll(\"option\")\r\n      .data(languages)\r\n      .enter().append(\"option\")\r\n      .attr(\"value\", function ( d ){\r\n        return d;\r\n      })\r\n      .text(function ( d ){\r\n        return d;\r\n      });\r\n    \r\n    if ( !trySelectDefaultLanguage(languageSelection, languages, \"en\") ) {\r\n      if ( !trySelectDefaultLanguage(languageSelection, languages, webvowl.util.constants().LANG_UNDEFINED) ) {\r\n        trySelectDefaultLanguage(languageSelection, languages, webvowl.util.constants().LANG_IRIBASED);\r\n      }\r\n    }\r\n  }\r\n  \r\n  function trySelectDefaultLanguage( selection, languages, language ){\r\n    var langIndex = languages.indexOf(language);\r\n    if ( langIndex >= 0 ) {\r\n      selection.property(\"selectedIndex\", langIndex);\r\n      graph.language(language);\r\n      return true;\r\n    }\r\n    \r\n    return false;\r\n  }\r\n  \r\n  function updateGraphInformation(){\r\n    var title = languageTools.textInLanguage(ontologyInfo.title, graph.language());\r\n    d3.select(\"#title\").text(title || \"No title available\");\r\n    d3.select(\"#about\").attr(\"href\", ontologyInfo.iri).attr(\"target\", \"_blank\").text(ontologyInfo.iri);\r\n    d3.select(\"#version\").text(ontologyInfo.version || \"--\");\r\n    var authors = ontologyInfo.author;\r\n    if ( typeof authors === \"string\" ) {\r\n      // Stay compatible with author info as strings after change in january 2015\r\n      d3.select(\"#authors\").text(authors);\r\n    } else if ( authors instanceof Array ) {\r\n      d3.select(\"#authors\").text(authors.join(\", \"));\r\n    } else {\r\n      d3.select(\"#authors\").text(\"--\");\r\n    }\r\n    \r\n    var description = languageTools.textInLanguage(ontologyInfo.description, graph.language());\r\n    d3.select(\"#description\").text(description || \"No description available.\");\r\n  }\r\n  \r\n  function displayGraphStatistics( deliveredMetrics, statistics ){\r\n    // Metrics are optional and may be undefined\r\n    deliveredMetrics = deliveredMetrics || {};\r\n    \r\n    d3.select(\"#classCount\")\r\n      .text(deliveredMetrics.classCount || statistics.classCount());\r\n    d3.select(\"#objectPropertyCount\")\r\n      .text(deliveredMetrics.objectPropertyCount || statistics.objectPropertyCount());\r\n    d3.select(\"#datatypePropertyCount\")\r\n      .text(deliveredMetrics.datatypePropertyCount || statistics.datatypePropertyCount());\r\n    d3.select(\"#individualCount\")\r\n      .text(deliveredMetrics.totalIndividualCount || statistics.totalIndividualCount());\r\n    d3.select(\"#nodeCount\")\r\n      .text(statistics.nodeCount());\r\n    d3.select(\"#edgeCount\")\r\n      .text(statistics.edgeCount());\r\n  }\r\n  \r\n  function displayMetadata( metadata ){\r\n    var container = d3.select(\"#ontology-metadata\");\r\n    container.selectAll(\"*\").remove();\r\n    \r\n    listAnnotations(container, metadata);\r\n    \r\n    if ( container.selectAll(\".annotation\").size() <= 0 ) {\r\n      container.append(\"p\").text(\"No annotations available.\");\r\n    }\r\n  }\r\n  \r\n  function listAnnotations( container, annotationObject ){\r\n    annotationObject = annotationObject || {};  //todo\r\n    \r\n    // Collect the annotations in an array for simpler processing\r\n    var annotations = [];\r\n    for ( var annotation in annotationObject ) {\r\n      if ( annotationObject.hasOwnProperty(annotation) ) {\r\n        annotations.push(annotationObject[annotation][0]);\r\n      }\r\n    }\r\n    \r\n    container.selectAll(\".annotation\").remove();\r\n    container.selectAll(\".annotation\").data(annotations).enter().append(\"p\")\r\n      .classed(\"annotation\", true)\r\n      .classed(\"statisticDetails\", true)\r\n      .text(function ( d ){\r\n        return d.identifier + \":\";\r\n      })\r\n      .append(\"span\")\r\n      .each(function ( d ){\r\n        appendIriLabel(d3.select(this), d.value, d.type === \"iri\" ? d.value : undefined);\r\n      });\r\n  }\r\n  \r\n  /**\r\n   * Update the information of the selected node.\r\n   * @param selectedElement the selection or null if nothing is selected\r\n   */\r\n  sidebar.updateSelectionInformation = function ( selectedElement ){\r\n    lastSelectedElement = selectedElement;\r\n    \r\n    // Click event was prevented when dragging\r\n    if ( d3.event && d3.event.defaultPrevented ) {\r\n      return;\r\n    }\r\n    \r\n    var isTriggerActive = d3.select(\"#selection-details-trigger\").classed(\"accordion-trigger-active\");\r\n    if ( selectedElement && !isTriggerActive ) {\r\n      d3.select(\"#selection-details-trigger\").node().click();\r\n    } else if ( !selectedElement && isTriggerActive ) {\r\n      showSelectionAdvice();\r\n      return;\r\n    }\r\n    \r\n    if ( elementTools.isProperty(selectedElement) ) {\r\n      displayPropertyInformation(selectedElement);\r\n    } else if ( elementTools.isNode(selectedElement) ) {\r\n      displayNodeInformation(selectedElement);\r\n    }\r\n  };\r\n  \r\n  function showSelectionAdvice(){\r\n    setSelectionInformationVisibility(false, false, true);\r\n  }\r\n  \r\n  function setSelectionInformationVisibility( showClasses, showProperties, showAdvice ){\r\n    d3.select(\"#classSelectionInformation\").classed(\"hidden\", !showClasses);\r\n    d3.select(\"#propertySelectionInformation\").classed(\"hidden\", !showProperties);\r\n    d3.select(\"#noSelectionInformation\").classed(\"hidden\", !showAdvice);\r\n  }\r\n  \r\n  function displayPropertyInformation( property ){\r\n    showPropertyInformations();\r\n    \r\n    setIriLabel(d3.select(\"#propname\"), property.labelForCurrentLanguage(), property.iri());\r\n    d3.select(\"#typeProp\").text(property.type());\r\n    \r\n    if ( property.inverse() !== undefined ) {\r\n      d3.select(\"#inverse\").classed(\"hidden\", false);\r\n      setIriLabel(d3.select(\"#inverse span\"), property.inverse().labelForCurrentLanguage(), property.inverse().iri());\r\n    } else {\r\n      d3.select(\"#inverse\").classed(\"hidden\", true);\r\n    }\r\n    \r\n    var equivalentIriSpan = d3.select(\"#propEquivUri\");\r\n    listNodeArray(equivalentIriSpan, property.equivalents());\r\n    \r\n    listNodeArray(d3.select(\"#subproperties\"), property.subproperties());\r\n    listNodeArray(d3.select(\"#superproperties\"), property.superproperties());\r\n    \r\n    if ( property.minCardinality() !== undefined ) {\r\n      d3.select(\"#infoCardinality\").classed(\"hidden\", true);\r\n      d3.select(\"#minCardinality\").classed(\"hidden\", false);\r\n      d3.select(\"#minCardinality span\").text(property.minCardinality());\r\n      d3.select(\"#maxCardinality\").classed(\"hidden\", false);\r\n      \r\n      if ( property.maxCardinality() !== undefined ) {\r\n        d3.select(\"#maxCardinality span\").text(property.maxCardinality());\r\n      } else {\r\n        d3.select(\"#maxCardinality span\").text(\"*\");\r\n      }\r\n      \r\n    } else if ( property.cardinality() !== undefined ) {\r\n      d3.select(\"#minCardinality\").classed(\"hidden\", true);\r\n      d3.select(\"#maxCardinality\").classed(\"hidden\", true);\r\n      d3.select(\"#infoCardinality\").classed(\"hidden\", false);\r\n      d3.select(\"#infoCardinality span\").text(property.cardinality());\r\n    } else {\r\n      d3.select(\"#infoCardinality\").classed(\"hidden\", true);\r\n      d3.select(\"#minCardinality\").classed(\"hidden\", true);\r\n      d3.select(\"#maxCardinality\").classed(\"hidden\", true);\r\n    }\r\n    \r\n    setIriLabel(d3.select(\"#domain\"), property.domain().labelForCurrentLanguage(), property.domain().iri());\r\n    setIriLabel(d3.select(\"#range\"), property.range().labelForCurrentLanguage(), property.range().iri());\r\n    \r\n    displayAttributes(property.attributes(), d3.select(\"#propAttributes\"));\r\n    \r\n    setTextAndVisibility(d3.select(\"#propDescription\"), property.descriptionForCurrentLanguage());\r\n    setTextAndVisibility(d3.select(\"#propComment\"), property.commentForCurrentLanguage());\r\n    \r\n    listAnnotations(d3.select(\"#propertySelectionInformation\"), property.annotations());\r\n  }\r\n  \r\n  function showPropertyInformations(){\r\n    setSelectionInformationVisibility(false, true, false);\r\n  }\r\n  \r\n  function setIriLabel( element, name, iri ){\r\n    var parent = d3.select(element.node().parentNode);\r\n    \r\n    if ( name ) {\r\n      element.selectAll(\"*\").remove();\r\n      appendIriLabel(element, name, iri);\r\n      parent.classed(\"hidden\", false);\r\n    } else {\r\n      parent.classed(\"hidden\", true);\r\n    }\r\n  }\r\n  \r\n  function appendIriLabel( element, name, iri ){\r\n    var tag;\r\n    \r\n    if ( iri ) {\r\n      tag = element.append(\"a\")\r\n        .attr(\"href\", iri)\r\n        .attr(\"title\", iri)\r\n        .attr(\"target\", \"_blank\");\r\n    } else {\r\n      tag = element.append(\"span\");\r\n    }\r\n    tag.text(name);\r\n  }\r\n  \r\n  function displayAttributes( attributes, textSpan ){\r\n    var spanParent = d3.select(textSpan.node().parentNode);\r\n    \r\n    if ( attributes && attributes.length > 0 ) {\r\n      // Remove redundant redundant attributes for sidebar\r\n      removeElementFromArray(\"object\", attributes);\r\n      removeElementFromArray(\"datatype\", attributes);\r\n      removeElementFromArray(\"rdf\", attributes);\r\n    }\r\n    \r\n    if ( attributes && attributes.length > 0 ) {\r\n      textSpan.text(attributes.join(\", \"));\r\n      \r\n      spanParent.classed(\"hidden\", false);\r\n    } else {\r\n      spanParent.classed(\"hidden\", true);\r\n    }\r\n  }\r\n  \r\n  function removeElementFromArray( element, array ){\r\n    var index = array.indexOf(element);\r\n    if ( index > -1 ) {\r\n      array.splice(index, 1);\r\n    }\r\n  }\r\n  \r\n  function displayNodeInformation( node ){\r\n    showClassInformations();\r\n    \r\n    setIriLabel(d3.select(\"#name\"), node.labelForCurrentLanguage(), node.iri());\r\n    \r\n    /* Equivalent stuff. */\r\n    var equivalentIriSpan = d3.select(\"#classEquivUri\");\r\n    listNodeArray(equivalentIriSpan, node.equivalents());\r\n    \r\n    d3.select(\"#typeNode\").text(node.type());\r\n    listNodeArray(d3.select(\"#individuals\"), node.individuals());\r\n    \r\n    /* Disjoint stuff. */\r\n    var disjointNodes = d3.select(\"#disjointNodes\");\r\n    var disjointNodesParent = d3.select(disjointNodes.node().parentNode);\r\n    \r\n    if ( node.disjointWith() !== undefined ) {\r\n      disjointNodes.selectAll(\"*\").remove();\r\n      \r\n      node.disjointWith().forEach(function ( element, index ){\r\n        if ( index > 0 ) {\r\n          disjointNodes.append(\"span\").text(\", \");\r\n        }\r\n        appendIriLabel(disjointNodes, element.labelForCurrentLanguage(), element.iri());\r\n      });\r\n      \r\n      disjointNodesParent.classed(\"hidden\", false);\r\n    } else {\r\n      disjointNodesParent.classed(\"hidden\", true);\r\n    }\r\n    \r\n    displayAttributes(node.attributes(), d3.select(\"#classAttributes\"));\r\n    \r\n    setTextAndVisibility(d3.select(\"#nodeDescription\"), node.descriptionForCurrentLanguage());\r\n    setTextAndVisibility(d3.select(\"#nodeComment\"), node.commentForCurrentLanguage());\r\n    \r\n    listAnnotations(d3.select(\"#classSelectionInformation\"), node.annotations());\r\n  }\r\n  \r\n  function showClassInformations(){\r\n    setSelectionInformationVisibility(true, false, false);\r\n  }\r\n  \r\n  function listNodeArray( textSpan, nodes ){\r\n    var spanParent = d3.select(textSpan.node().parentNode);\r\n    \r\n    if ( nodes && nodes.length ) {\r\n      textSpan.selectAll(\"*\").remove();\r\n      nodes.forEach(function ( element, index ){\r\n        if ( index > 0 ) {\r\n          textSpan.append(\"span\").text(\", \");\r\n        }\r\n        appendIriLabel(textSpan, element.labelForCurrentLanguage(), element.iri());\r\n      });\r\n      \r\n      spanParent.classed(\"hidden\", false);\r\n    } else {\r\n      spanParent.classed(\"hidden\", true);\r\n    }\r\n  }\r\n  \r\n  function setTextAndVisibility( label, value ){\r\n    var parentNode = d3.select(label.node().parentNode);\r\n    var hasValue = !!value;\r\n    if ( value ) {\r\n      label.text(value);\r\n    }\r\n    parentNode.classed(\"hidden\", !hasValue);\r\n  }\r\n  \r\n  /** Collapsible Sidebar functions; **/\r\n  \r\n  sidebar.showSidebar = function ( val, init ){\r\n    // make val to bool\r\n    if ( val === 1 ) {\r\n      visibleSidebar = true;\r\n      collapseButton.node().innerHTML = \">\";\r\n      detailArea.classed(\"hidden\", true);\r\n      if ( init === true ) {\r\n        detailArea.classed(\"hidden\", !visibleSidebar);\r\n        graphArea.style(\"width\", \"78%\");\r\n        graphArea.style(\"-webkit-animation-name\", \"none\");\r\n        \r\n        menuArea.style(\"width\", \"78%\");\r\n        menuArea.style(\"-webkit-animation-name\", \"none\");\r\n        \r\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"width\", \"78%\");\r\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-name\", \"none\");\r\n      } else {\r\n        graphArea.style(\"width\", \"78%\");\r\n        graphArea.style(\"-webkit-animation-name\", \"sbCollapseAnimation\");\r\n        graphArea.style(\"-webkit-animation-duration\", \"0.5s\");\r\n        \r\n        menuArea.style(\"width\", \"78%\");\r\n        menuArea.style(\"-webkit-animation-name\", \"sbCollapseAnimation\");\r\n        menuArea.style(\"-webkit-animation-duration\", \"0.5s\");\r\n        \r\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"width\", \"78%\");\r\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-name\", \"warn_ExpandRightBarAnimation\");\r\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-duration\", \"0.5s\");\r\n      }\r\n      graph.options().width(window.innerWidth - (window.innerWidth * 0.22));\r\n      graph.options().navigationMenu().updateScrollButtonVisibility();\r\n    }\r\n    if ( val === 0 ) {\r\n      visibleSidebar = false;\r\n      detailArea.classed(\"hidden\", true);\r\n      \r\n      collapseButton.node().innerHTML = \"<\";\r\n      // adjust the layout\r\n      if ( init === true ) {\r\n        graphArea.style(\"width\", \"100%\");\r\n        graphArea.style(\"-webkit-animation-name\", \"none\");\r\n        \r\n        menuArea.style(\"width\", \"100%\");\r\n        menuArea.style(\"-webkit-animation-name\", \"none\");\r\n        \r\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"width\", \"100%\");\r\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-name\", \"none\");\r\n      } else {\r\n        graphArea.style(\"width\", \"100%\");\r\n        graphArea.style(\"-webkit-animation-name\", \"sbExpandAnimation\");\r\n        graphArea.style(\"-webkit-animation-duration\", \"0.5s\");\r\n        \r\n        menuArea.style(\"width\", \"100%\");\r\n        menuArea.style(\"-webkit-animation-name\", \"sbExpandAnimation\");\r\n        menuArea.style(\"-webkit-animation-duration\", \"0.5s\");\r\n        \r\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"width\", \"100%\");\r\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-name\", \"warn_CollapseRightBarAnimation\");\r\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-duration\", \"0.5s\");\r\n        \r\n      }\r\n      graph.options().width(window.innerWidth);\r\n      graph.updateCanvasContainerSize();\r\n      graph.options().navigationMenu().updateScrollButtonVisibility();\r\n    }\r\n  };\r\n  \r\n  sidebar.isSidebarVisible = function (){\r\n    return visibleSidebar;\r\n  };\r\n  \r\n  sidebar.updateSideBarVis = function ( init ){\r\n    var vis = sidebar.getSidebarVisibility();\r\n    sidebar.showSidebar(parseInt(vis), init);\r\n  };\r\n  \r\n  sidebar.getSidebarVisibility = function (){\r\n    var isHidden = detailArea.classed(\"hidden\");\r\n    if ( isHidden === false ) return String(1);\r\n    if ( isHidden === true ) return String(0);\r\n  };\r\n  \r\n  sidebar.initSideBarAnimation = function (){\r\n    graphArea.node().addEventListener(\"animationend\", function (){\r\n      detailArea.classed(\"hidden\", !visibleSidebar);\r\n      graph.updateCanvasContainerSize();\r\n      graph.options().navigationMenu().updateScrollButtonVisibility();\r\n    });\r\n  };\r\n  \r\n  sidebar.setup = function (){\r\n    setupCollapsing();\r\n    sidebar.initSideBarAnimation();\r\n    \r\n    collapseButton.on(\"click\", function (){\r\n      graph.options().navigationMenu().hideAllMenus();\r\n      var settingValue = parseInt(sidebar.getSidebarVisibility());\r\n      if ( settingValue === 1 ) sidebar.showSidebar(0);\r\n      else                  sidebar.showSidebar(1);\r\n    });\r\n  };\r\n  \r\n  \r\n  sidebar.updateShowedInformation = function (){\r\n    var editMode = graph.editorMode();\r\n    d3.select(\"#generalDetails\").classed(\"hidden\", editMode);\r\n    d3.select(\"#generalDetailsEdit\").classed(\"hidden\", !editMode);\r\n    \r\n    // store the meta information in graph.options()\r\n    \r\n    // todo: update edit meta info\r\n    graph.options().editSidebar().updateGeneralOntologyInfo();\r\n    \r\n    // todo: update showed meta info;\r\n    graph.options().sidebar().updateGeneralOntologyInfo();\r\n    \r\n  };\r\n  \r\n  sidebar.updateGeneralOntologyInfo = function (){\r\n    // get it from graph.options\r\n    var generalMetaObj = graph.options().getGeneralMetaObject();\r\n    var preferredLanguage = graph && graph.language ? graph.language() : null;\r\n    if ( generalMetaObj.hasOwnProperty(\"title\") ) {\r\n      // title has language to it -.-\r\n      if ( typeof generalMetaObj.title === \"object\" ) {\r\n        d3.select(\"#title\").node().value = languageTools.textInLanguage(generalMetaObj.title, preferredLanguage);\r\n      } else {\r\n        d3.select(\"#title\").node().innerHTML = generalMetaObj.title;\r\n      }\r\n      \r\n    }\r\n    if ( generalMetaObj.hasOwnProperty(\"iri\") ) d3.select(\"#about\").node().innerHTML = generalMetaObj.iri;\r\n    if ( generalMetaObj.hasOwnProperty(\"iri\") ) d3.select(\"#about\").node().href = generalMetaObj.iri;\r\n    if ( generalMetaObj.hasOwnProperty(\"version\") ) d3.select(\"#version\").node().innerHTML = generalMetaObj.version;\r\n    if ( generalMetaObj.hasOwnProperty(\"author\") ) d3.select(\"#authors\").node().innerHTML = generalMetaObj.author;\r\n    // this could also be an object >>\r\n    if ( generalMetaObj.hasOwnProperty(\"description\") ) {\r\n      if ( typeof generalMetaObj.description === \"object\" ) {\r\n        d3.select(\"#description\").node().innerHTML = languageTools.textInLanguage(generalMetaObj.description, preferredLanguage);\r\n      }\r\n      else {\r\n        d3.select(\"#description\").node().innerHTML = generalMetaObj.description;\r\n      }\r\n    }\r\n  };\r\n  \r\n  \r\n  return sidebar;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/sidebar.js\n// module id = 334\n// module chunks = 1","/**\r\n * Contains the logic for the sidebar.\r\n * @param graph the graph that belongs to these controls\r\n * @returns {{}}\r\n */\r\nmodule.exports = function ( graph ){\r\n  \r\n  var leftSidebar = {},\r\n    languageTools = webvowl.util.languageTools(),\r\n    elementTools = webvowl.util.elementTools();\r\n  var collapseButton = d3.select(\"#leftSideBarCollapseButton\");\r\n  var visibleSidebar = 0;\r\n  var backupVisibility = 0;\r\n  var sideBarContent = d3.select(\"#leftSideBarContent\");\r\n  var sideBarContainer = d3.select(\"#containerForLeftSideBar\");\r\n  var defaultClassSelectionContainers = [];\r\n  var defaultDatatypeSelectionContainers = [];\r\n  var defaultPropertySelectionContainers = [];\r\n  \r\n  leftSidebar.setup = function (){\r\n    setupCollapsing();\r\n    leftSidebar.initSideBarAnimation();\r\n    \r\n    collapseButton.on(\"click\", function (){\r\n      graph.options().navigationMenu().hideAllMenus();\r\n      var settingValue = parseInt(leftSidebar.getSidebarVisibility());\r\n      if ( settingValue === 0 ) leftSidebar.showSidebar(1);\r\n      else                  leftSidebar.showSidebar(0);\r\n      backupVisibility = settingValue;\r\n    });\r\n    \r\n    setupSelectionContainers();\r\n    d3.select(\"#WarningErrorMessages\").node().addEventListener(\"animationend\", function (){\r\n      d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-name\", \"none\");\r\n    });\r\n    \r\n  };\r\n  \r\n  leftSidebar.hideCollapseButton = function ( val ){\r\n    sideBarContainer.classed(\"hidden\", val);\r\n  };\r\n  \r\n  \r\n  function unselectAllElements( container ){\r\n    for ( var i = 0; i < container.length; i++ )\r\n      container[i].classed(\"defaultSelected\", false);\r\n  }\r\n  \r\n  function selectThisDefaultElement( element ){\r\n    d3.select(element).classed(\"defaultSelected\", true);\r\n  }\r\n  \r\n  function updateDefaultNameInAccordion( element, identifier ){\r\n    var elementDescription = \"\";\r\n    if ( identifier === \"defaultClass\" ) elementDescription = \"Class: \";\r\n    if ( identifier === \"defaultDatatype\" ) elementDescription = \"Datatype: \";\r\n    if ( identifier === \"defaultProperty\" ) elementDescription = \"Property: \";\r\n    \r\n    d3.select(\"#\" + identifier).node().innerHTML = elementDescription + element.innerHTML;\r\n    d3.select(\"#\" + identifier).node().title = element.innerHTML;\r\n  }\r\n  \r\n  function classSelectorFunction(){\r\n    unselectAllElements(defaultClassSelectionContainers);\r\n    selectThisDefaultElement(this);\r\n    updateDefaultNameInAccordion(this, \"defaultClass\");\r\n  }\r\n  \r\n  function datatypeSelectorFunction(){\r\n    unselectAllElements(defaultDatatypeSelectionContainers);\r\n    selectThisDefaultElement(this);\r\n    updateDefaultNameInAccordion(this, \"defaultDatatype\");\r\n  }\r\n  \r\n  function propertySelectorFunction(){\r\n    unselectAllElements(defaultPropertySelectionContainers);\r\n    selectThisDefaultElement(this);\r\n    updateDefaultNameInAccordion(this, \"defaultProperty\");\r\n  }\r\n  \r\n  \r\n  function setupSelectionContainers(){\r\n    var classContainer = d3.select(\"#classContainer\");\r\n    var datatypeContainer = d3.select(\"#datatypeContainer\");\r\n    var propertyContainer = d3.select(\"#propertyContainer\");\r\n    // create the supported elements\r\n    \r\n    var defaultClass = \"owl:Class\";\r\n    var defaultDatatype = \"rdfs:Literal\";\r\n    var defaultProperty = \"owl:objectProperty\";\r\n    \r\n    var supportedClasses = graph.options().supportedClasses();\r\n    var supportedDatatypes = graph.options().supportedDatatypes();\r\n    var supportedProperties = graph.options().supportedProperties();\r\n    var i;\r\n    \r\n    for ( i = 0; i < supportedClasses.length; i++ ) {\r\n      var aClassSelectionContainer;\r\n      aClassSelectionContainer = classContainer.append(\"div\");\r\n      aClassSelectionContainer.classed(\"containerForDefaultSelection\", true);\r\n      aClassSelectionContainer.classed(\"noselect\", true);\r\n      aClassSelectionContainer.node().id = \"selectedClass\" + supportedClasses[i];\r\n      aClassSelectionContainer.node().innerHTML = supportedClasses[i];\r\n      \r\n      if ( supportedClasses[i] === defaultClass ) {\r\n        selectThisDefaultElement(aClassSelectionContainer.node());\r\n      }\r\n      aClassSelectionContainer.on(\"click\", classSelectorFunction);\r\n      defaultClassSelectionContainers.push(aClassSelectionContainer);\r\n    }\r\n    \r\n    for ( i = 0; i < supportedDatatypes.length; i++ ) {\r\n      var aDTSelectionContainer = datatypeContainer.append(\"div\");\r\n      aDTSelectionContainer.classed(\"containerForDefaultSelection\", true);\r\n      aDTSelectionContainer.classed(\"noselect\", true);\r\n      aDTSelectionContainer.node().id = \"selectedDatatype\" + supportedDatatypes[i];\r\n      aDTSelectionContainer.node().innerHTML = supportedDatatypes[i];\r\n      \r\n      if ( supportedDatatypes[i] === defaultDatatype ) {\r\n        selectThisDefaultElement(aDTSelectionContainer.node());\r\n      }\r\n      aDTSelectionContainer.on(\"click\", datatypeSelectorFunction);\r\n      defaultDatatypeSelectionContainers.push(aDTSelectionContainer);\r\n    }\r\n    for ( i = 0; i < supportedProperties.length; i++ ) {\r\n      var aPropSelectionContainer = propertyContainer.append(\"div\");\r\n      aPropSelectionContainer.classed(\"containerForDefaultSelection\", true);\r\n      aPropSelectionContainer.classed(\"noselect\", true);\r\n      aPropSelectionContainer.node().id = \"selectedClass\" + supportedProperties[i];\r\n      aPropSelectionContainer.node().innerHTML = supportedProperties[i];\r\n      aPropSelectionContainer.on(\"click\", propertySelectorFunction);\r\n      if ( supportedProperties[i] === defaultProperty ) {\r\n        selectThisDefaultElement(aPropSelectionContainer.node());\r\n      }\r\n      defaultPropertySelectionContainers.push(aPropSelectionContainer);\r\n    }\r\n  }\r\n  \r\n  function setupCollapsing(){\r\n    // adapted version of this example: http://www.normansblog.de/simple-jquery-accordion/\r\n    function collapseContainers( containers ){\r\n      containers.classed(\"hidden\", true);\r\n    }\r\n    \r\n    function expandContainers( containers ){\r\n      containers.classed(\"hidden\", false);\r\n    }\r\n    \r\n    var triggers = d3.selectAll(\".accordion-trigger\");\r\n    \r\n    // Collapse all inactive triggers on startup\r\n    // collapseContainers(d3.selectAll(\".accordion-trigger:not(.accordion-trigger-active) + div\"));\r\n    \r\n    triggers.on(\"click\", function (){\r\n      var selectedTrigger = d3.select(this);\r\n      if ( selectedTrigger.classed(\"accordion-trigger-active\") ) {\r\n        // Collapse the active (which is also the selected) trigger\r\n        collapseContainers(d3.select(selectedTrigger.node().nextElementSibling));\r\n        selectedTrigger.classed(\"accordion-trigger-active\", false);\r\n      } else {\r\n        // Collapse the other trigger ...\r\n        // collapseContainers(d3.selectAll(\".accordion-trigger-active + div\"));\r\n        // activeTriggers.classed(\"accordion-trigger-active\", false);\r\n        // ... and expand the selected one\r\n        expandContainers(d3.select(selectedTrigger.node().nextElementSibling));\r\n        selectedTrigger.classed(\"accordion-trigger-active\", true);\r\n      }\r\n    });\r\n  }\r\n  \r\n  \r\n  leftSidebar.isSidebarVisible = function (){\r\n    return visibleSidebar;\r\n  };\r\n  \r\n  leftSidebar.updateSideBarVis = function ( init ){\r\n    var vis = leftSidebar.getSidebarVisibility();\r\n    leftSidebar.showSidebar(parseInt(vis), init);\r\n  };\r\n  \r\n  leftSidebar.initSideBarAnimation = function (){\r\n    sideBarContainer.node().addEventListener(\"animationend\", function (){\r\n      sideBarContent.classed(\"hidden\", !visibleSidebar);\r\n      if ( visibleSidebar === true ) {\r\n        sideBarContainer.style(\"width\", \"200px\");\r\n        sideBarContent.classed(\"hidden\", false);\r\n        d3.select(\"#leftSideBarCollapseButton\").style(\"left\", \"200px\");\r\n        d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\", false);\r\n        d3.select(\"#WarningErrorMessages\").style(\"left\", \"100px\");\r\n      }\r\n      else {\r\n        sideBarContainer.style(\"width\", \"0px\");\r\n        d3.select(\"#leftSideBarCollapseButton\").style(\"left\", \"0px\");\r\n        d3.select(\"#WarningErrorMessages\").style(\"left\", \"0px\");\r\n        d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\", false);\r\n        \r\n      }\r\n      graph.updateCanvasContainerSize();\r\n      graph.options().navigationMenu().updateScrollButtonVisibility();\r\n    });\r\n  };\r\n  \r\n  leftSidebar.showSidebar = function ( val, init ){\r\n    // make val to bool\r\n    var collapseButton = d3.select(\"#leftSideBarCollapseButton\");\r\n    if ( init === true ) {\r\n      visibleSidebar = (backupVisibility === 0);\r\n      sideBarContent.classed(\"hidden\", !visibleSidebar);\r\n      sideBarContainer.style(\"-webkit-animation-name\", \"none\");\r\n      d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-name\", \"none\");\r\n      if ( visibleSidebar === true ) {\r\n        sideBarContainer.style(\"width\", \"200px\");\r\n        sideBarContent.classed(\"hidden\", false);\r\n        d3.select(\"#leftSideBarCollapseButton\").style(\"left\", \"200px\");\r\n        d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\", false);\r\n        d3.select(\"#WarningErrorMessages\").style(\"left\", \"100px\");\r\n        collapseButton.node().innerHTML = \"<\";\r\n      }\r\n      \r\n      else {\r\n        sideBarContainer.style(\"width\", \"0px\");\r\n        d3.select(\"#WarningErrorMessages\").style(\"left\", \"0px\");\r\n        d3.select(\"#leftSideBarCollapseButton\").style(\"left\", \"0px\");\r\n        d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\", false);\r\n        collapseButton.node().innerHTML = \">\";\r\n      }\r\n      \r\n      graph.updateCanvasContainerSize();\r\n      graph.options().navigationMenu().updateScrollButtonVisibility();\r\n      return;\r\n    }\r\n    \r\n    d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\", true);\r\n    \r\n    if ( val === 1 ) {\r\n      visibleSidebar = true;\r\n      collapseButton.node().innerHTML = \"<\";\r\n      // call expand animation;\r\n      sideBarContainer.style(\"-webkit-animation-name\", \"l_sbExpandAnimation\");\r\n      sideBarContainer.style(\"-webkit-animation-duration\", \"0.5s\");\r\n      // prepare the animation;\r\n      \r\n      d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-name\", \"warn_ExpandLeftBarAnimation\");\r\n      d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-duration\", \"0.5s\");\r\n      \r\n    }\r\n    if ( val === 0 ) {\r\n      visibleSidebar = false;\r\n      sideBarContent.classed(\"hidden\", true);\r\n      collapseButton.node().innerHTML = \">\";\r\n      // call collapse animation\r\n      sideBarContainer.style(\"-webkit-animation-name\", \"l_sbCollapseAnimation\");\r\n      sideBarContainer.style(\"-webkit-animation-duration\", \"0.5s\");\r\n      d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-name\", \"warn_CollapseLeftBarAnimation\");\r\n      d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-duration\", \"0.5s\");\r\n      d3.select(\"#WarningErrorMessages\").style(\"left\", \"0\");\r\n    }\r\n    \r\n  };\r\n  \r\n  leftSidebar.getSidebarVisibility = function (){\r\n    var isHidden = sideBarContent.classed(\"hidden\");\r\n    if ( isHidden === false ) return String(1);\r\n    if ( isHidden === true ) return String(0);\r\n  };\r\n  \r\n  return leftSidebar;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/leftSidebar.js\n// module id = 335\n// module chunks = 1","/**\r\n * Contains the logic for the sidebar.\r\n * @param graph the graph that belongs to these controls\r\n * @returns {{}}\r\n */\r\nmodule.exports = function ( graph ){\r\n  \r\n  var editSidebar = {},\r\n    languageTools = webvowl.util.languageTools(),\r\n    elementTools = webvowl.util.elementTools();\r\n  \r\n  var prefixModule = webvowl.util.prefixTools(graph);\r\n  var selectedElementForCharacteristics;\r\n  var oldPrefix, oldPrefixURL;\r\n  var prefix_editMode = false;\r\n  \r\n  \r\n  editSidebar.clearMetaObjectValue = function (){\r\n    d3.select(\"#titleEditor\").node().value = \"\";\r\n    d3.select(\"#iriEditor\").node().value = \"\";\r\n    d3.select(\"#versionEditor\").node().value = \"\";\r\n    d3.select(\"#authorsEditor\").node().value = \"\";\r\n    d3.select(\"#descriptionEditor\").node().value = \"\";\r\n    // todo add clear description;\r\n  };\r\n  \r\n  \r\n  editSidebar.updatePrefixUi = function (){\r\n    editSidebar.updateElementWidth();\r\n    var prefixListContainer = d3.select(\"#prefixURL_Container\");\r\n    while ( prefixListContainer.node().firstChild ) {\r\n      prefixListContainer.node().removeChild(prefixListContainer.node().firstChild);\r\n    }\r\n    setupPrefixList();\r\n  };\r\n  \r\n  editSidebar.setup = function (){\r\n    setupCollapsing();\r\n    setupPrefixList();\r\n    setupAddPrefixButton();\r\n    setupSupportedDatatypes();\r\n    \r\n    \r\n    d3.select(\"#titleEditor\")\r\n      .on(\"change\", function (){\r\n        graph.options().addOrUpdateGeneralObjectEntry(\"title\", d3.select(\"#titleEditor\").node().value);\r\n      })\r\n      .on(\"keydown\", function (){\r\n        d3.event.stopPropagation();\r\n        if ( d3.event.keyCode === 13 ) {\r\n          d3.event.preventDefault();\r\n          graph.options().addOrUpdateGeneralObjectEntry(\"title\", d3.select(\"#titleEditor\").node().value);\r\n        }\r\n      });\r\n    d3.select(\"#iriEditor\")\r\n      .on(\"change\", function (){\r\n        if ( graph.options().addOrUpdateGeneralObjectEntry(\"iri\", d3.select(\"#iriEditor\").node().value) === false ) {\r\n          // restore value\r\n          d3.select(\"#iriEditor\").node().value = graph.options().getGeneralMetaObjectProperty('iri');\r\n        }\r\n      })\r\n      .on(\"keydown\", function (){\r\n        d3.event.stopPropagation();\r\n        if ( d3.event.keyCode === 13 ) {\r\n          d3.event.preventDefault();\r\n          if ( graph.options().addOrUpdateGeneralObjectEntry(\"iri\", d3.select(\"#iriEditor\").node().value) === false ) {\r\n            // restore value\r\n            d3.select(\"#iriEditor\").node().value = graph.options().getGeneralMetaObjectProperty('iri');\r\n          }\r\n        }\r\n      });\r\n    d3.select(\"#versionEditor\")\r\n      .on(\"change\", function (){\r\n        graph.options().addOrUpdateGeneralObjectEntry(\"version\", d3.select(\"#versionEditor\").node().value);\r\n      })\r\n      .on(\"keydown\", function (){\r\n        d3.event.stopPropagation();\r\n        if ( d3.event.keyCode === 13 ) {\r\n          d3.event.preventDefault();\r\n          graph.options().addOrUpdateGeneralObjectEntry(\"version\", d3.select(\"#versionEditor\").node().value);\r\n        }\r\n      });\r\n    d3.select(\"#authorsEditor\")\r\n      .on(\"change\", function (){\r\n        graph.options().addOrUpdateGeneralObjectEntry(\"author\", d3.select(\"#authorsEditor\").node().value);\r\n      })\r\n      .on(\"keydown\", function (){\r\n        d3.event.stopPropagation();\r\n        if ( d3.event.keyCode === 13 ) {\r\n          d3.event.preventDefault();\r\n          graph.options().addOrUpdateGeneralObjectEntry(\"author\", d3.select(\"#authorsEditor\").node().value);\r\n        }\r\n      });\r\n    d3.select(\"#descriptionEditor\")\r\n      .on(\"change\", function (){\r\n        graph.options().addOrUpdateGeneralObjectEntry(\"description\", d3.select(\"#descriptionEditor\").node().value);\r\n      });\r\n    \r\n    editSidebar.updateElementWidth();\r\n    \r\n  };\r\n  \r\n  function setupSupportedDatatypes(){\r\n    var datatypeEditorSelection = d3.select(\"#typeEditor_datatype\").node();\r\n    var supportedDatatypes = [\"undefined\", \"xsd:boolean\", \"xsd:double\", \"xsd:integer\", \"xsd:string\"];\r\n    for ( var i = 0; i < supportedDatatypes.length; i++ ) {\r\n      var optB = document.createElement('option');\r\n      optB.innerHTML = supportedDatatypes[i];\r\n      datatypeEditorSelection.appendChild(optB);\r\n    }\r\n  }\r\n  \r\n  function highlightDeleteButton( enable, name ){\r\n    var deletePath = d3.select(\"#del_pathFor_\" + name);\r\n    var deleteRect = d3.select(\"#del_rectFor_\" + name);\r\n    \r\n    if ( enable === false ) {\r\n      deletePath.node().style = \"stroke: #f00;\";\r\n      deleteRect.style(\"cursor\", \"auto\");\r\n    } else {\r\n      deletePath.node().style = \"stroke: #ff972d;\";\r\n      deleteRect.style(\"cursor\", \"pointer\");\r\n    }\r\n  }\r\n  \r\n  \r\n  function highlightEditButton( enable, name, fill ){\r\n    var editPath = d3.select(\"#pathFor_\" + name);\r\n    var editRect = d3.select(\"#rectFor_\" + name);\r\n    \r\n    if ( enable === false ) {\r\n      if ( fill )\r\n        editPath.node().style = \"fill: #fff; stroke : #fff; stroke-width : 1px\";\r\n      else\r\n        editPath.node().style = \" stroke : #fff; stroke-width : 1px\";\r\n      \r\n      editRect.style(\"cursor\", \"auto\");\r\n    } else {\r\n      if ( fill )\r\n        editPath.node().style = \"fill: #ff972d; stroke : #ff972d; stroke-width : 1px\";\r\n      else\r\n        editPath.node().style = \"stroke : #ff972d; stroke-width : 1px\";\r\n      editRect.style(\"cursor\", \"pointer\");\r\n    }\r\n    \r\n  }\r\n  \r\n  function setupAddPrefixButton(){\r\n    var btn = d3.select(\"#addPrefixButton\");\r\n    btn.on(\"click\", function (){\r\n      \r\n      // check if we are still in editMode?\r\n      if ( prefix_editMode === false ) {\r\n        // create new line entry;\r\n        var name = \"emptyPrefixEntry\";\r\n        var prefixListContainer = d3.select(\"#prefixURL_Container\");\r\n        var prefixEditContainer = prefixListContainer.append(\"div\");\r\n        prefixEditContainer.classed(\"prefixIRIElements\", true);\r\n        prefixEditContainer.node().id = \"prefixContainerFor_\" + name;\r\n        \r\n        var IconContainer = prefixEditContainer.append(\"div\");\r\n        IconContainer.style(\"position\", \"absolute\");\r\n        IconContainer.node().id = \"containerFor_\" + name;\r\n        var editButton = IconContainer.append(\"svg\");\r\n        editButton.style(\"width\", \"14px\");\r\n        editButton.style(\"height\", \"20px\");\r\n        //   editButton.classed(\"editPrefixButton\", true);\r\n        editButton.classed(\"noselect\", true);\r\n        //editButton.node().innerHTML = \"\\u2714\";\r\n        editButton.node().id = \"editButtonFor_\" + name;\r\n        \r\n        editButton.node().elementStyle = \"save\";\r\n        editButton.node().selectorName = name;\r\n        var editIcon = editButton.append(\"g\");\r\n        var editRect = editIcon.append(\"rect\");\r\n        var editPath = editIcon.append(\"path\");\r\n        editIcon.node().id = \"iconFor_\" + name;\r\n        editPath.node().id = \"pathFor_\" + name;\r\n        editRect.node().id = \"rectFor_\" + name;\r\n        \r\n        editIcon.node().selectorName = name;\r\n        editPath.node().selectorName = name;\r\n        editRect.node().selectorName = name;\r\n        IconContainer.node().title = \"Save new prefix and IRI\";\r\n        \r\n        editPath.classed(\"editPrefixIcon\");\r\n        editPath.style(\"stroke\", \"#fff\");\r\n        editPath.style(\"stroke-width\", \"1px\");\r\n        editPath.style(\"fill\", \"#fff\");\r\n        editRect.attr(\"width\", \"14px\");\r\n        editRect.attr(\"height\", \"14px\");\r\n        editRect.style(\"fill\", \"#18202A\");\r\n        editRect.attr(\"transform\", \"matrix(1,0,0,1,-3,4)\");\r\n        \r\n        editButton.selectAll(\"g\").on(\"mouseover\", function (){\r\n          highlightEditButton(true, this.selectorName, true);\r\n        });\r\n        editButton.selectAll(\"g\").on(\"mouseout\", function (){\r\n          highlightEditButton(false, this.selectorName, true);\r\n        });\r\n        // Check mark\r\n        // M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\r\n        // pencil\r\n        // M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\r\n        editPath.attr(\"d\", \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\");\r\n        editPath.attr(\"transform\", \"matrix(0.45,0,0,0.45,0,5)\");\r\n        \r\n        var prefInput = prefixEditContainer.append(\"input\");\r\n        prefInput.classed(\"prefixInput\", true);\r\n        prefInput.node().type = \"text\";\r\n        prefInput.node().id = \"prefixInputFor_\" + name;\r\n        prefInput.node().autocomplete = \"off\";\r\n        prefInput.node().value = \"\";\r\n        prefInput.style(\"margin-left\", \"14px\");\r\n        \r\n        var prefURL = prefixEditContainer.append(\"input\");\r\n        prefURL.classed(\"prefixURL\", true);\r\n        prefURL.node().type = \"text\";\r\n        prefURL.node().id = \"prefixURLFor_\" + name;\r\n        prefURL.node().autocomplete = \"off\";\r\n        prefURL.node().value = \"\";\r\n        \r\n        prefInput.node().disabled = false;\r\n        prefURL.node().disabled = false;\r\n        prefix_editMode = true;\r\n        var deleteContainer = prefixEditContainer.append(\"div\");\r\n        deleteContainer.style(\"float\", \"right\");\r\n        var deleteButton = deleteContainer.append(\"svg\");\r\n        deleteButton.node().id = \"deleteButtonFor_\" + name;\r\n        deleteContainer.node().title = \"Delete prefix and IRI\";\r\n        deleteButton.style(\"width\", \"10px\");\r\n        deleteButton.style(\"height\", \"20px\");\r\n        var deleteIcon = deleteButton.append(\"g\");\r\n        var deleteRect = deleteIcon.append(\"rect\");\r\n        var deletePath = deleteIcon.append(\"path\");\r\n        deleteIcon.node().id = \"del_iconFor_\" + name;\r\n        deletePath.node().id = \"del_pathFor_\" + name;\r\n        deleteRect.node().id = \"del_rectFor_\" + name;\r\n        \r\n        deleteIcon.node().selectorName = name;\r\n        deletePath.node().selectorName = name;\r\n        deleteRect.node().selectorName = name;\r\n        \r\n        \r\n        deletePath.style(\"stroke\", \"#f00\");\r\n        deleteRect.attr(\"width\", \"10px\");\r\n        deleteRect.attr(\"height\", \"14px\");\r\n        deleteRect.style(\"fill\", \"#18202A\");\r\n        deleteRect.attr(\"transform\", \"matrix(1,0,0,1,-3,4)\");\r\n        \r\n        \r\n        deletePath.attr(\"d\", \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\");\r\n        deletePath.attr(\"transform\", \"matrix(0.45,0,0,0.45,0,5)\");\r\n        \r\n        deleteButton.selectAll(\"g\").on(\"mouseover\", function (){\r\n          highlightDeleteButton(true, this.selectorName);\r\n        });\r\n        deleteButton.selectAll(\"g\").on(\"mouseout\", function (){\r\n          highlightDeleteButton(false, this.selectorName);\r\n        });\r\n        \r\n        \r\n        // connect the buttons;\r\n        editButton.on(\"click\", enablePrefixEdit);\r\n        deleteButton.on(\"click\", deletePrefixLine);\r\n        \r\n        editSidebar.updateElementWidth();\r\n        // swap focus to prefixInput\r\n        prefInput.node().focus();\r\n        oldPrefix = name;\r\n        oldPrefixURL = \"\";\r\n        d3.select(\"#addPrefixButton\").node().innerHTML = \"Save Prefix\";\r\n      } else {\r\n        d3.select(\"#editButtonFor_emptyPrefixEntry\").on(\"click\")(d3.select(\"#editButtonFor_emptyPrefixEntry\").node());\r\n      }\r\n      \r\n    });\r\n    \r\n  }\r\n  \r\n  function setupPrefixList(){\r\n    if ( graph.isEditorMode() === false ) return;\r\n    var prefixListContainer = d3.select(\"#prefixURL_Container\");\r\n    var prefixElements = graph.options().prefixList();\r\n    for ( var name in prefixElements ) {\r\n      if ( prefixElements.hasOwnProperty(name) ) {\r\n        var prefixEditContainer = prefixListContainer.append(\"div\");\r\n        prefixEditContainer.classed(\"prefixIRIElements\", true);\r\n        prefixEditContainer.node().id = \"prefixContainerFor_\" + name;\r\n        \r\n        // create edit button which enables the input fields\r\n        var IconContainer = prefixEditContainer.append(\"div\");\r\n        IconContainer.style(\"position\", \"absolute\");\r\n        IconContainer.node().id = \"containerFor_\" + name;\r\n        var editButton = IconContainer.append(\"svg\");\r\n        editButton.style(\"width\", \"14px\");\r\n        editButton.style(\"height\", \"20px\");\r\n        editButton.classed(\"noselect\", true);\r\n        editButton.node().id = \"editButtonFor_\" + name;\r\n        IconContainer.node().title = \"Edit prefix and IRI\";\r\n        editButton.node().elementStyle = \"save\";\r\n        editButton.node().selectorName = name;\r\n        \r\n        editButton.node().id = \"editButtonFor_\" + name;\r\n        editButton.node().elementStyle = \"edit\";\r\n        var editIcon = editButton.append(\"g\");\r\n        var editRect = editIcon.append(\"rect\");\r\n        var editPath = editIcon.append(\"path\");\r\n        editIcon.node().id = \"iconFor_\" + name;\r\n        editPath.node().id = \"pathFor_\" + name;\r\n        editRect.node().id = \"rectFor_\" + name;\r\n        \r\n        editIcon.node().selectorName = name;\r\n        editPath.node().selectorName = name;\r\n        editRect.node().selectorName = name;\r\n        \r\n        \r\n        editPath.classed(\"editPrefixIcon\");\r\n        editPath.style(\"stroke\", \"#fff\");\r\n        editPath.style(\"stroke-width\", \"1px\");\r\n        editRect.attr(\"width\", \"14px\");\r\n        editRect.attr(\"height\", \"14px\");\r\n        editRect.style(\"fill\", \"#18202A\");\r\n        editRect.attr(\"transform\", \"matrix(1,0,0,1,-3,4)\");\r\n        \r\n        editButton.selectAll(\"g\").on(\"mouseover\", function (){\r\n          var sender = this;\r\n          var fill = false;\r\n          var enable = true;\r\n          var f_editPath = d3.select(\"#pathFor_\" + sender.selectorName);\r\n          var f_editRect = d3.select(\"#rectFor_\" + sender.selectorName);\r\n          \r\n          if ( enable === false ) {\r\n            if ( fill )\r\n              f_editPath.node().style = \"fill: #fff; stroke : #fff; stroke-width : 1px\";\r\n            else\r\n              f_editPath.node().style = \" stroke : #fff; stroke-width : 1px\";\r\n            \r\n            f_editRect.style(\"cursor\", \"auto\");\r\n          } else {\r\n            if ( fill )\r\n              f_editPath.node().style = \"fill: #ff972d; stroke : #ff972d; stroke-width : 1px\";\r\n            else\r\n              f_editPath.node().style = \"stroke : #ff972d; stroke-width : 1px\";\r\n            f_editRect.style(\"cursor\", \"pointer\");\r\n          }\r\n        });\r\n        editButton.selectAll(\"g\").on(\"mouseout\", function (){\r\n          var sender = this;\r\n          var fill = false;\r\n          var enable = false;\r\n          var f_editPath = d3.select(\"#pathFor_\" + sender.selectorName);\r\n          var f_editRect = d3.select(\"#rectFor_\" + sender.selectorName);\r\n          \r\n          if ( enable === false ) {\r\n            if ( fill )\r\n              f_editPath.node().style = \"fill: #fff; stroke : #fff; stroke-width : 1px\";\r\n            else\r\n              f_editPath.node().style = \" stroke : #fff; stroke-width : 1px\";\r\n            \r\n            f_editRect.style(\"cursor\", \"auto\");\r\n          } else {\r\n            if ( fill )\r\n              f_editPath.node().style = \"fill: #ff972d; stroke : #ff972d; stroke-width : 1px\";\r\n            else\r\n              f_editPath.node().style = \"stroke : #ff972d; stroke-width : 1px\";\r\n            f_editRect.style(\"cursor\", \"pointer\");\r\n          }\r\n        });\r\n        \r\n        editPath.attr(\"d\", \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\");\r\n        editPath.attr(\"transform\", \"matrix(-0.45,0,0,0.45,10,5)\");\r\n        \r\n        // create input field for prefix\r\n        var prefInput = prefixEditContainer.append(\"input\");\r\n        prefInput.classed(\"prefixInput\", true);\r\n        prefInput.node().type = \"text\";\r\n        prefInput.node().id = \"prefixInputFor_\" + name;\r\n        prefInput.node().autocomplete = \"off\";\r\n        prefInput.node().value = name;\r\n        prefInput.style(\"margin-left\", \"14px\");\r\n        \r\n        // create input field for prefix url\r\n        var prefURL = prefixEditContainer.append(\"input\");\r\n        prefURL.classed(\"prefixURL\", true);\r\n        prefURL.node().type = \"text\";\r\n        prefURL.node().id = \"prefixURLFor_\" + name;\r\n        prefURL.node().autocomplete = \"off\";\r\n        prefURL.node().value = prefixElements[name];\r\n        prefURL.node().title = prefixElements[name];\r\n        // disable the input fields (already defined elements can be edited later)\r\n        prefInput.node().disabled = true;\r\n        prefURL.node().disabled = true;\r\n        \r\n        // create the delete button\r\n        var deleteContainer = prefixEditContainer.append(\"div\");\r\n        deleteContainer.style(\"float\", \"right\");\r\n        var deleteButton = deleteContainer.append(\"svg\");\r\n        deleteButton.node().id = \"deleteButtonFor_\" + name;\r\n        deleteContainer.node().title = \"Delete prefix and IRI\";\r\n        deleteButton.style(\"width\", \"10px\");\r\n        deleteButton.style(\"height\", \"20px\");\r\n        var deleteIcon = deleteButton.append(\"g\");\r\n        var deleteRect = deleteIcon.append(\"rect\");\r\n        var deletePath = deleteIcon.append(\"path\");\r\n        deleteIcon.node().id = \"del_iconFor_\" + name;\r\n        deletePath.node().id = \"del_pathFor_\" + name;\r\n        deleteRect.node().id = \"del_rectFor_\" + name;\r\n        \r\n        deleteIcon.node().selectorName = name;\r\n        deletePath.node().selectorName = name;\r\n        deleteRect.node().selectorName = name;\r\n        \r\n        \r\n        deletePath.style(\"stroke\", \"#f00\");\r\n        deleteRect.attr(\"width\", \"10px\");\r\n        deleteRect.attr(\"height\", \"14px\");\r\n        deleteRect.style(\"fill\", \"#18202A\");\r\n        deleteRect.attr(\"transform\", \"matrix(1,0,0,1,-3,4)\");\r\n        \r\n        \r\n        deletePath.attr(\"d\", \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\");\r\n        deletePath.attr(\"transform\", \"matrix(0.45,0,0,0.45,0,5)\");\r\n        \r\n        deleteButton.selectAll(\"g\").on(\"mouseover\", function (){\r\n          var selector = this;\r\n          var enable = true;\r\n          var f_deletePath = d3.select(\"#del_pathFor_\" + selector.selectorName);\r\n          var f_deleteRect = d3.select(\"#del_rectFor_\" + selector.selectorName);\r\n          \r\n          if ( enable === false ) {\r\n            f_deletePath.node().style = \"stroke: #f00;\";\r\n            f_deleteRect.style(\"cursor\", \"auto\");\r\n          } else {\r\n            f_deletePath.node().style = \"stroke: #ff972d;\";\r\n            f_deleteRect.style(\"cursor\", \"pointer\");\r\n          }\r\n        });\r\n        deleteButton.selectAll(\"g\").on(\"mouseout\", function (){\r\n          var selector = this;\r\n          var enable = false;\r\n          var f_deletePath = d3.select(\"#del_pathFor_\" + selector.selectorName);\r\n          var f_deleteRect = d3.select(\"#del_rectFor_\" + selector.selectorName);\r\n          \r\n          if ( enable === false ) {\r\n            f_deletePath.node().style = \"stroke: #f00;\";\r\n            f_deleteRect.style(\"cursor\", \"auto\");\r\n          } else {\r\n            f_deletePath.node().style = \"stroke: #ff972d;\";\r\n            f_deleteRect.style(\"cursor\", \"pointer\");\r\n          }\r\n        });\r\n        \r\n        \r\n        editButton.on(\"click\", enablePrefixEdit);\r\n        deleteButton.on(\"click\", deletePrefixLine);\r\n        \r\n        // EXPERIMENTAL\r\n        \r\n        if ( name === \"rdf\" ||\r\n          name === \"rdfs\" ||\r\n          name === \"xsd\" || name === \"dc\" ||\r\n          name === \"owl\"\r\n        ) {\r\n          // make them invis so the spacing does not change\r\n          IconContainer.classed(\"hidden\", true);\r\n          deleteContainer.classed(\"hidden\", true);\r\n        }\r\n      }\r\n    }\r\n    prefixModule.updatePrefixModel();\r\n  }\r\n  \r\n  function deletePrefixLine(){\r\n    if ( this.disabled === true ) return;\r\n    d3.select(\"#addPrefixButton\").node().innerHTML = \"Add Prefix\";\r\n    var selector = this.id.split(\"_\")[1];\r\n    d3.select(\"#prefixContainerFor_\" + selector).remove();\r\n    graph.options().removePrefix(selector);\r\n    prefix_editMode = false; // <<TODO make some sanity checks\r\n    prefixModule.updatePrefixModel();\r\n  }\r\n  \r\n  function enablePrefixEdit( item ){\r\n    \r\n    var agent = this;\r\n    if ( item )\r\n      agent = item;\r\n    \r\n    if ( agent.disabled === true ) return;\r\n    var selector = agent.id.split(\"_\")[1];\r\n    var stl = agent.elementStyle;\r\n    if ( stl === \"edit\" ) {\r\n      d3.select(\"#prefixInputFor_\" + selector).node().disabled = false;\r\n      d3.select(\"#prefixURLFor_\" + selector).node().disabled = false;\r\n      // change the button content\r\n      //  this.innerHTML = \"\\u2714\";\r\n      agent.elementStyle = \"save\";\r\n      oldPrefix = d3.select(\"#prefixInputFor_\" + selector).node().value;\r\n      oldPrefixURL = d3.select(\"#prefixURLFor_\" + selector).node().value;\r\n      prefix_editMode = true;\r\n      if ( d3.select(\"#containerFor_\" + selector).node() )\r\n        d3.select(\"#containerFor_\" + selector).node().title = \"Save new prefix and IRI\";\r\n      \r\n      var editButton = d3.select(agent);\r\n      editButton.selectAll(\"g\").on(\"mouseover\", function (){\r\n        \r\n        highlightEditButton(true, agent.selectorName, true);\r\n      });\r\n      editButton.selectAll(\"g\").on(\"mouseout\", function (){\r\n        highlightEditButton(false, agent.selectorName, true);\r\n      });\r\n      \r\n      var editPath = d3.select(\"#pathFor_\" + agent.selectorName);\r\n      editPath.attr(\"d\", \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\");\r\n      editPath.attr(\"transform\", \"matrix(0.45,0,0,0.45,0,5)\");\r\n      \r\n      highlightEditButton(true, agent.selectorName, true);\r\n      \r\n      \r\n    }\r\n    if ( stl === \"save\" ) {\r\n      var newPrefixURL = d3.select(\"#prefixURLFor_\" + selector).node().value;\r\n      var newPrefix = d3.select(\"#prefixInputFor_\" + selector).node().value;\r\n      \r\n      \r\n      if ( graph.options().updatePrefix(oldPrefix, newPrefix, oldPrefixURL, newPrefixURL) === true ) {\r\n        d3.select(\"#prefixInputFor_\" + newPrefix).node().disabled = true;\r\n        d3.select(\"#prefixURLFor_\" + newPrefix).node().disabled = true;\r\n        d3.select(\"#addPrefixButton\").node().innerHTML = \"Add Prefix\";\r\n        if ( d3.select(\"#containerFor_\" + selector).node() )\r\n          d3.select(\"#containerFor_\" + selector).node().title = \"Edit prefix and IRI\";\r\n        \r\n        // change the button content\r\n        \r\n        agent.elementStyle = \"edit\";\r\n        prefix_editMode = false;\r\n        prefixModule.updatePrefixModel();\r\n        var saveButton = d3.select(agent);\r\n        saveButton.selectAll(\"g\").on(\"mouseover\", function (){\r\n          highlightEditButton(true, agent.selectorName, false);\r\n        });\r\n        saveButton.selectAll(\"g\").on(\"mouseout\", function (){\r\n          highlightEditButton(false, agent.selectorName, false);\r\n        });\r\n        \r\n        var savePath = d3.select(\"#pathFor_\" + agent.selectorName);\r\n        savePath.attr(\"d\", \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\");\r\n        savePath.attr(\"transform\", \"matrix(-0.45,0,0,0.45,10,5)\");\r\n        highlightEditButton(true, agent.selectorName, false);\r\n      }\r\n    }\r\n  }\r\n  \r\n  function changeDatatypeType( element ){\r\n    var datatypeEditorSelection = d3.select(\"#typeEditor_datatype\").node();\r\n    var givenName = datatypeEditorSelection.value;\r\n    var identifier = givenName.split(\":\")[1];\r\n    \r\n    if ( datatypeEditorSelection.value !== \"undefined\" ) {\r\n      d3.select(\"#element_iriEditor\").node().disabled = true;\r\n      d3.select(\"#element_labelEditor\").node().disabled = true;\r\n    } else {\r\n      identifier = \"undefined\";\r\n      d3.select(\"#element_iriEditor\").node().disabled = false;\r\n      d3.select(\"#element_labelEditor\").node().disabled = false;\r\n    }\r\n    element.label(identifier);\r\n    element.dType(givenName);\r\n    element.iri(\"http://www.w3.org/2001/XMLSchema#\" + identifier);\r\n    element.baseIri(\"http://www.w3.org/2001/XMLSchema#\");\r\n    element.redrawLabelText();\r\n    \r\n    d3.select(\"#element_iriEditor\").node().value = prefixModule.getPrefixRepresentationForFullURI(element.iri());\r\n    d3.select(\"#element_iriEditor\").node().title = element.iri();\r\n    d3.select(\"#element_labelEditor\").node().value = element.labelForCurrentLanguage();\r\n  }\r\n  \r\n  \r\n  function identifyExternalCharacteristicForElement( ontoIRI, elementIRI ){\r\n    return (elementIRI.indexOf(ontoIRI) === -1);\r\n    \r\n  }\r\n  \r\n  function defaultIriValue( element ){\r\n    // get the iri of that element;\r\n    if ( graph.options().getGeneralMetaObject().iri ) {\r\n      var str2Compare = graph.options().getGeneralMetaObject().iri + element.id();\r\n      return element.iri() === str2Compare;\r\n    }\r\n    return false;\r\n  }\r\n  \r\n  function getURLFROMPrefixedVersion( element ){\r\n    var url = d3.select(\"#element_iriEditor\").node().value;\r\n    var base = graph.options().getGeneralMetaObjectProperty(\"iri\");\r\n    if ( validURL(url) === false ) {\r\n      \r\n      // make better usability\r\n      // try to split element;\r\n      var tokens = url.split(\":\");\r\n      \r\n      //console.log(\"try to split the input into prefix:name\")\r\n      console.log(\"Tokens\");\r\n      console.log(tokens);\r\n      console.log(\"---------------\");\r\n      // TODO MORE VALIDATION TESTS\r\n      if ( tokens.length === 2 ) {\r\n        var pr = tokens[0];\r\n        var name = tokens[1];\r\n        if ( pr.length > 0 ) {\r\n          var basePref = graph.options().prefixList()[pr];\r\n          if ( basePref === undefined ) {\r\n            console.log(\"ERROR __________________\");\r\n            graph.options().warningModule().showWarning(\"Invalid Element IRI\",\r\n              \"Could not resolve prefix '\" + basePref + \"'\",\r\n              \"Restoring previous IRI for Element\" + element.iri(), 1, false);\r\n            d3.select(\"#element_iriEditor\").node().value = element.iri();\r\n            return;\r\n            \r\n          }\r\n          // check if url is not empty\r\n          \r\n          if ( name.length === 0 ) {\r\n            graph.options().warningModule().showWarning(\"Invalid Element IRI\",\r\n              \"Input IRI is EMPTY\",\r\n              \"Restoring previous IRI for Element\" + element.iri(), 1, false);\r\n            console.log(\"NO INPUT PROVIDED\");\r\n            d3.select(\"#element_iriEditor\").node().value = element.iri();\r\n            return;\r\n            \r\n          }\r\n          url = basePref + name;\r\n        }\r\n        else {\r\n          url = base + name;\r\n        }\r\n      } else {\r\n        if ( url.length === 0 ) {\r\n          //\r\n          console.log(\"NO INPUT PROVIDED\");\r\n          d3.select(\"#element_iriEditor\").node().value = element.iri();\r\n          return;\r\n        }\r\n        // failed to identify anything useful\r\n        console.log(\"Tryig to use the input!\");\r\n        url = base + url;\r\n      }\r\n    }\r\n    return url;\r\n  }\r\n  \r\n  function changeIriForElement( element ){\r\n    var url = getURLFROMPrefixedVersion(element);\r\n    var base = graph.options().getGeneralMetaObjectProperty(\"iri\");\r\n    var sanityCheckResult;\r\n    if ( elementTools.isNode(element) ) {\r\n      \r\n      sanityCheckResult = graph.checkIfIriClassAlreadyExist(url);\r\n      if ( sanityCheckResult === false ) {\r\n        element.iri(url);\r\n      } else {\r\n        // throw warnign\r\n        graph.options().warningModule().showWarning(\"Already seen this class\",\r\n          \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\r\n          \"Restoring previous IRI for Element : \" + element.iri(), 2, false, sanityCheckResult);\r\n        \r\n        editSidebar.updateSelectionInformation(element);\r\n        return;\r\n        \r\n      }\r\n    }\r\n    if ( elementTools.isProperty(element) === true ) {\r\n      sanityCheckResult = editSidebar.checkProperIriChange(element, url);\r\n      if ( sanityCheckResult !== false ) {\r\n        graph.options().warningModule().showWarning(\"Already seen this property\",\r\n          \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\r\n          \"Restoring previous IRI for Element : \" + element.iri(), 1, false, sanityCheckResult);\r\n        \r\n        editSidebar.updateSelectionInformation(element);\r\n        return;\r\n      }\r\n    }\r\n    \r\n    // if (element.existingPropertyIRI(url)===true){\r\n    //     console.log(\"I Have seen this Particular URL already \"+url);\r\n    //     graph.options().warningModule().showWarning(\"Already Seen This one \",\r\n    //         \"Input IRI For Element\"+ element.labelForCurrentLanguage()+\" already been set  \",\r\n    //         \"Restoring previous IRI for Element\"+element.iri(),1,false);\r\n    //     d3.select(\"#element_iriEditor\").node().value=graph.options().prefixModule().getPrefixRepresentationForFullURI(element.iri());\r\n    //     editSidebar.updateSelectionInformation(element);\r\n    //     return;\r\n    // }\r\n    \r\n    element.iri(url);\r\n    if ( identifyExternalCharacteristicForElement(base, url) === true ) {\r\n      addAttribute(element, \"external\");\r\n      // background color for external element;\r\n      element.backgroundColor(\"#36C\");\r\n      element.redrawElement();\r\n      element.redrawLabelText();\r\n      // handle visual selection\r\n      \r\n    } else {\r\n      removeAttribute(element, \"external\");\r\n      // background color for external element;\r\n      element.backgroundColor(undefined);\r\n      element.redrawElement();\r\n      element.redrawLabelText();\r\n      \r\n    }\r\n    \r\n    if ( element.focused() ) {\r\n      graph.options().focuserModule().handle(element, true); // unfocus\r\n      graph.options().focuserModule().handle(element, true); // focus\r\n    }\r\n    // graph.options().focuserModule().handle(undefined);\r\n    \r\n    \r\n    d3.select(\"#element_iriEditor\").node().value = prefixModule.getPrefixRepresentationForFullURI(url);\r\n    editSidebar.updateSelectionInformation(element);\r\n  }\r\n  \r\n  function validURL( str ){\r\n    var urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/;\r\n    return urlregex.test(str);\r\n  }\r\n  \r\n  \r\n  function changeLabelForElement( element ){\r\n    element.label(d3.select(\"#element_labelEditor\").node().value);\r\n    element.redrawLabelText();\r\n  }\r\n  \r\n  editSidebar.updateEditDeleteButtonIds = function ( oldPrefix, newPrefix ){\r\n    d3.select(\"#prefixInputFor_\" + oldPrefix).node().id = \"prefixInputFor_\" + newPrefix;\r\n    d3.select(\"#prefixURLFor_\" + oldPrefix).node().id = \"prefixURLFor_\" + newPrefix;\r\n    d3.select(\"#deleteButtonFor_\" + oldPrefix).node().id = \"deleteButtonFor_\" + newPrefix;\r\n    d3.select(\"#editButtonFor_\" + oldPrefix).node().id = \"editButtonFor_\" + newPrefix;\r\n    \r\n    d3.select(\"#prefixContainerFor_\" + oldPrefix).node().id = \"prefixContainerFor_\" + newPrefix;\r\n  };\r\n  \r\n  editSidebar.checkForExistingURL = function ( url ){\r\n    var i;\r\n    var allProps = graph.getUnfilteredData().properties;\r\n    for ( i = 0; i < allProps.length; i++ ) {\r\n      if ( allProps[i].iri() === url ) return true;\r\n    }\r\n    return false;\r\n    \r\n  };\r\n  editSidebar.checkProperIriChange = function ( element, url ){\r\n    console.log(\"Element changed Label\");\r\n    console.log(\"Testing URL \" + url);\r\n    if ( element.type() === \"rdfs:subClassOf\" || element.type() === \"owl:disjointWith\" ) {\r\n      console.log(\"ignore this for now, already handled in the type and domain range changer\");\r\n    } else {\r\n      var i;\r\n      var allProps = graph.getUnfilteredData().properties;\r\n      for ( i = 0; i < allProps.length; i++ ) {\r\n        if ( allProps[i] === element ) continue;\r\n        if ( allProps[i].iri() === url ) return allProps[i];\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n  \r\n  editSidebar.updateSelectionInformation = function ( element ){\r\n    \r\n    if ( element === undefined ) {\r\n      // show hint;\r\n      d3.select(\"#selectedElementProperties\").classed(\"hidden\", true);\r\n      d3.select(\"#selectedElementPropertiesEmptyHint\").classed(\"hidden\", false);\r\n      selectedElementForCharacteristics = null;\r\n      editSidebar.updateElementWidth();\r\n    }\r\n    else {\r\n      d3.select(\"#selectedElementProperties\").classed(\"hidden\", false);\r\n      d3.select(\"#selectedElementPropertiesEmptyHint\").classed(\"hidden\", true);\r\n      d3.select(\"#typeEditForm_datatype\").classed(\"hidden\", true);\r\n      \r\n      // set the element IRI, and labels\r\n      d3.select(\"#element_iriEditor\").node().value = element.iri();\r\n      d3.select(\"#element_labelEditor\").node().value = element.labelForCurrentLanguage();\r\n      d3.select(\"#element_iriEditor\").node().title = element.iri();\r\n      \r\n      d3.select(\"#element_iriEditor\")\r\n        .on(\"change\", function (){\r\n          var elementIRI = element.iri();\r\n          var prefixed = graph.options().prefixModule().getPrefixRepresentationForFullURI(elementIRI);\r\n          if ( prefixed === d3.select(\"#element_iriEditor\").node().value ) {\r\n            console.log(\"Iri is identical, nothing has changed!\");\r\n            return;\r\n          }\r\n          \r\n          changeIriForElement(element);\r\n        })\r\n        .on(\"keydown\", function (){\r\n          d3.event.stopPropagation();\r\n          if ( d3.event.keyCode === 13 ) {\r\n            d3.event.preventDefault();\r\n            console.log(\"IRI CHANGED Via ENTER pressed\");\r\n            changeIriForElement(element);\r\n            d3.select(\"#element_iriEditor\").node().title = element.iri();\r\n          }\r\n        });\r\n      \r\n      var forceIRISync = defaultIriValue(element);\r\n      d3.select(\"#element_labelEditor\")\r\n        .on(\"change\", function (){\r\n          var sanityCheckResult;\r\n          console.log(\"Element changed Label\");\r\n          var url = getURLFROMPrefixedVersion(element);\r\n          if ( element.iri() !== url ) {\r\n            if ( elementTools.isProperty(element) === true ) {\r\n              sanityCheckResult = editSidebar.checkProperIriChange(element, url);\r\n              if ( sanityCheckResult !== false ) {\r\n                graph.options().warningModule().showWarning(\"Already seen this property\",\r\n                  \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\r\n                  \"Continuing with duplicate property!\", 1, false, sanityCheckResult);\r\n                editSidebar.updateSelectionInformation(element);\r\n                return;\r\n              }\r\n            }\r\n            \r\n            if ( elementTools.isNode(element) === true ) {\r\n              sanityCheckResult = graph.checkIfIriClassAlreadyExist(url);\r\n              if ( sanityCheckResult !== false ) {\r\n                graph.options().warningModule().showWarning(\"Already seen this Class\",\r\n                  \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\r\n                  \"Restoring previous IRI for Element : \" + element.iri(), 2, false, sanityCheckResult);\r\n                \r\n                editSidebar.updateSelectionInformation(element);\r\n                return;\r\n              }\r\n            }\r\n            element.iri(url);\r\n          }\r\n          changeLabelForElement(element);\r\n          editSidebar.updateSelectionInformation(element); // prevents that it will be changed if node is still active\r\n        })\r\n        .on(\"keydown\", function (){\r\n          d3.event.stopPropagation();\r\n          if ( d3.event.keyCode === 13 ) {\r\n            d3.event.preventDefault();\r\n            var sanityCheckResult;\r\n            console.log(\"Element changed Label\");\r\n            var url = getURLFROMPrefixedVersion(element);\r\n            if ( element.iri() !== url ) {\r\n              if ( elementTools.isProperty(element) === true ) {\r\n                sanityCheckResult = editSidebar.checkProperIriChange(element, url);\r\n                if ( sanityCheckResult !== false ) {\r\n                  graph.options().warningModule().showWarning(\"Already seen this property\",\r\n                    \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\r\n                    \"Continuing with duplicate property!\", 1, false, sanityCheckResult);\r\n                  \r\n                  editSidebar.updateSelectionInformation(element);\r\n                  return;\r\n                }\r\n              }\r\n              \r\n              if ( elementTools.isNode(element) === true ) {\r\n                sanityCheckResult = graph.checkIfIriClassAlreadyExist(url);\r\n                if ( sanityCheckResult !== false ) {\r\n                  graph.options().warningModule().showWarning(\"Already seen this Class\",\r\n                    \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\r\n                    \"Restoring previous IRI for Element : \" + element.iri(), 2, false, sanityCheckResult);\r\n                  \r\n                  editSidebar.updateSelectionInformation(element);\r\n                  return;\r\n                }\r\n              }\r\n              element.iri(url);\r\n            }\r\n            changeLabelForElement(element);\r\n          }\r\n        })\r\n        .on(\"keyup\", function (){\r\n          if ( forceIRISync ) {\r\n            var labelName = d3.select(\"#element_labelEditor\").node().value;\r\n            var resourceName = labelName.replaceAll(\" \", \"_\");\r\n            var syncedIRI = element.baseIri() + resourceName;\r\n            \r\n            //element.iri(syncedIRI);\r\n            d3.select(\"#element_iriEditor\").node().title = element.iri();\r\n            d3.select(\"#element_iriEditor\").node().value = prefixModule.getPrefixRepresentationForFullURI(syncedIRI);\r\n          }\r\n        });\r\n      // check if we are allowed to change IRI OR LABEL\r\n      d3.select(\"#element_iriEditor\").node().disabled = false;\r\n      d3.select(\"#element_labelEditor\").node().disabled = false;\r\n      \r\n      if ( element.type() === \"rdfs:subClassOf\" ) {\r\n        d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2000/01/rdf-schema#subClassOf\";\r\n        d3.select(\"#element_iriEditor\").node().title = \"http://www.w3.org/2000/01/rdf-schema#subClassOf\";\r\n        d3.select(\"#element_labelEditor\").node().value = \"Subclass of\";\r\n        d3.select(\"#element_iriEditor\").node().disabled = true;\r\n        d3.select(\"#element_labelEditor\").node().disabled = true;\r\n      }\r\n      if ( element.type() === \"owl:Thing\" ) {\r\n        d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2002/07/owl#Thing\";\r\n        d3.select(\"#element_iriEditor\").node().title = \"http://www.w3.org/2002/07/owl#Thing\";\r\n        d3.select(\"#element_labelEditor\").node().value = \"Thing\";\r\n        d3.select(\"#element_iriEditor\").node().disabled = true;\r\n        d3.select(\"#element_labelEditor\").node().disabled = true;\r\n      }\r\n      \r\n      if ( element.type() === \"owl:disjointWith\" ) {\r\n        d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2002/07/owl#disjointWith\";\r\n        d3.select(\"#element_iriEditor\").node().title = \"http://www.w3.org/2002/07/owl#disjointWith\";\r\n        d3.select(\"#element_iriEditor\").node().disabled = true;\r\n        d3.select(\"#element_labelEditor\").node().disabled = true;\r\n      }\r\n      \r\n      if ( element.type() === \"rdfs:Literal\" ) {\r\n        d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2000/01/rdf-schema#Literal\";\r\n        d3.select(\"#element_iriEditor\").node().title = \"http://www.w3.org/2000/01/rdf-schema#Literal\";\r\n        d3.select(\"#element_iriEditor\").node().disabled = true;\r\n        d3.select(\"#element_labelEditor\").node().disabled = true;\r\n        element.iri(\"http://www.w3.org/2000/01/rdf-schema#Literal\");\r\n      }\r\n      if ( element.type() === \"rdfs:Datatype\" ) {\r\n        var datatypeEditorSelection = d3.select(\"#typeEditor_datatype\");\r\n        d3.select(\"#typeEditForm_datatype\").classed(\"hidden\", false);\r\n        element.iri(\"http://www.w3.org/2000/01/rdf-schema#Datatype\");\r\n        d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2000/01/rdf-schema#Datatype\";\r\n        d3.select(\"#element_iriEditor\").node().title = \"http://www.w3.org/2000/01/rdf-schema#Datatype\";\r\n        d3.select(\"#element_iriEditor\").node().disabled = true;\r\n        d3.select(\"#element_labelEditor\").node().disabled = true;\r\n        \r\n        datatypeEditorSelection.node().value = element.dType();\r\n        if ( datatypeEditorSelection.node().value === \"undefined\" ) {\r\n          d3.select(\"#element_iriEditor\").node().disabled = true; // always prevent IRI modifications\r\n          d3.select(\"#element_labelEditor\").node().disabled = false;\r\n        }\r\n        // reconnect the element\r\n        datatypeEditorSelection.on(\"change\", function (){\r\n          changeDatatypeType(element);\r\n        });\r\n      }\r\n      \r\n      // add type selector\r\n      var typeEditorSelection = d3.select(\"#typeEditor\").node();\r\n      var htmlCollection = typeEditorSelection.children;\r\n      var numEntries = htmlCollection.length;\r\n      var i;\r\n      var elementPrototypes = getElementPrototypes(element);\r\n      for ( i = 0; i < numEntries; i++ )\r\n        typeEditorSelection.removeChild(htmlCollection[0]);\r\n      \r\n      for ( i = 0; i < elementPrototypes.length; i++ ) {\r\n        var optA = document.createElement('option');\r\n        optA.innerHTML = elementPrototypes[i];\r\n        typeEditorSelection.appendChild(optA);\r\n      }\r\n      // set the proper value in the selection\r\n      typeEditorSelection.value = element.type();\r\n      d3.select(\"#typeEditor\").on(\"change\", function (){\r\n        elementTypeSelectionChanged(element);\r\n      });\r\n      \r\n      \r\n      // add characteristics selection\r\n      var needChar = elementNeedsCharacteristics(element);\r\n      d3.select(\"#property_characteristics_Container\").classed(\"hidden\", !needChar);\r\n      if ( needChar === true ) {\r\n        addElementsCharacteristics(element);\r\n      }\r\n      var fullURI = d3.select(\"#element_iriEditor\").node().value;\r\n      d3.select(\"#element_iriEditor\").node().value = prefixModule.getPrefixRepresentationForFullURI(fullURI);\r\n      d3.select(\"#element_iriEditor\").node().title = fullURI;\r\n      editSidebar.updateElementWidth();\r\n    }\r\n    \r\n  };\r\n  \r\n  editSidebar.updateGeneralOntologyInfo = function (){\r\n    var preferredLanguage = graph && graph.language ? graph.language() : null;\r\n    \r\n    // get it from graph.options\r\n    var generalMetaObj = graph.options().getGeneralMetaObject();\r\n    if ( generalMetaObj.hasOwnProperty(\"title\") ) {\r\n      // title has language to it -.-\r\n      if ( typeof generalMetaObj.title === \"object\" ) {\r\n        d3.select(\"#titleEditor\").node().value = languageTools.textInLanguage(generalMetaObj.title, preferredLanguage);\r\n      } else\r\n        d3.select(\"#titleEditor\").node().value = generalMetaObj.title;\r\n    }\r\n    if ( generalMetaObj.hasOwnProperty(\"iri\") ) d3.select(\"#iriEditor\").node().value = generalMetaObj.iri;\r\n    if ( generalMetaObj.hasOwnProperty(\"version\") ) d3.select(\"#versionEditor\").node().value = generalMetaObj.version;\r\n    if ( generalMetaObj.hasOwnProperty(\"author\") ) d3.select(\"#authorsEditor\").node().value = generalMetaObj.author;\r\n    \r\n    \r\n    if ( generalMetaObj.hasOwnProperty(\"description\") ) {\r\n      \r\n      if ( typeof generalMetaObj.description === \"object\" )\r\n        d3.select(\"#descriptionEditor\").node().value =\r\n          languageTools.textInLanguage(generalMetaObj.description, preferredLanguage);\r\n      else\r\n        d3.select(\"#descriptionEditor\").node().value = generalMetaObj.description;\r\n    }\r\n    else\r\n      d3.select(\"#descriptionEditor\").node().value = \"No Description\";\r\n  };\r\n  \r\n  editSidebar.updateElementWidth = function (){\r\n    var height = window.innerHeight - 40;\r\n    var lsb_offset = d3.select(\"#logo\").node().getBoundingClientRect().height + 5;\r\n    var lsb_height = height - lsb_offset;\r\n    d3.select(\"#containerForLeftSideBar\").style(\"top\", lsb_offset + \"px\");\r\n    d3.select(\"#leftSideBarCollapseButton\").style(\"top\", lsb_offset + \"px\");\r\n    d3.select(\"#containerForLeftSideBar\").style(\"height\", lsb_height + \"px\");\r\n    \r\n    var div_width = d3.select(\"#generalDetailsEdit\").node().getBoundingClientRect().width;\r\n    div_width += 10;\r\n    \r\n    var title_labelWidth = d3.select(\"#titleEditor-label\").node().getBoundingClientRect().width + 20;\r\n    var iri_labelWidth = d3.select(\"#iriEditor-label\").node().getBoundingClientRect().width + 20;\r\n    var version_labelWidth = d3.select(\"#versionEditor-label\").node().getBoundingClientRect().width + 20;\r\n    var author_labelWidth = d3.select(\"#authorsEditor-label\").node().getBoundingClientRect().width + 20;\r\n    //find max width;\r\n    var maxW = 0;\r\n    maxW = Math.max(maxW, title_labelWidth);\r\n    maxW = Math.max(maxW, iri_labelWidth);\r\n    maxW = Math.max(maxW, version_labelWidth);\r\n    maxW = Math.max(maxW, author_labelWidth);\r\n    \r\n    var meta_inputWidth = div_width - maxW - 10;\r\n    \r\n    d3.select(\"#titleEditor\").style(\"width\", meta_inputWidth + \"px\");\r\n    d3.select(\"#iriEditor\").style(\"width\", meta_inputWidth + \"px\");\r\n    d3.select(\"#versionEditor\").style(\"width\", meta_inputWidth + \"px\");\r\n    d3.select(\"#authorsEditor\").style(\"width\", meta_inputWidth + \"px\");\r\n    \r\n    \r\n    var elementIri_width = d3.select(\"#element_iriEditor-label\").node().getBoundingClientRect().width + 20;\r\n    var elementLabel_width = d3.select(\"#element_labelEditor-label\").node().getBoundingClientRect().width + 20;\r\n    var elementType_width = d3.select(\"#typeEditor-label\").node().getBoundingClientRect().width + 20;\r\n    var elementDType_width = d3.select(\"#typeEditor_datatype-label\").node().getBoundingClientRect().width + 20;\r\n    \r\n    maxW = 0;\r\n    maxW = Math.max(maxW, elementIri_width);\r\n    maxW = Math.max(maxW, elementLabel_width);\r\n    maxW = Math.max(maxW, elementType_width);\r\n    maxW = Math.max(maxW, elementDType_width);\r\n    var selectedElement_inputWidth = div_width - maxW - 10;\r\n    \r\n    d3.select(\"#element_iriEditor\").style(\"width\", selectedElement_inputWidth + \"px\");\r\n    d3.select(\"#element_labelEditor\").style(\"width\", selectedElement_inputWidth + \"px\");\r\n    d3.select(\"#typeEditor\").style(\"width\", selectedElement_inputWidth + 4 + \"px\");\r\n    d3.select(\"#typeEditor_datatype\").style(\"width\", selectedElement_inputWidth + 4 + \"px\");\r\n    \r\n    // update prefix Element width;\r\n    var containerWidth = d3.select(\"#containerForPrefixURL\").node().getBoundingClientRect().width;\r\n    if ( containerWidth !== 0 ) {\r\n      var inputs = d3.selectAll(\".prefixInput\");\r\n      if ( inputs.node() ) {\r\n        var prefixWidth = d3.selectAll(\".prefixInput\").node().getBoundingClientRect().width;\r\n        d3.selectAll(\".prefixURL\").style(\"width\", containerWidth - prefixWidth - 45 + \"px\");\r\n      }\r\n    }\r\n  };\r\n  \r\n  function addElementsCharacteristics( element ){\r\n    // save selected element for checkbox handler\r\n    selectedElementForCharacteristics = element;\r\n    var i;\r\n    // KILL old elements\r\n    var charSelectionNode = d3.select(\"#property_characteristics_Selection\");\r\n    var htmlCollection = charSelectionNode.node().children;\r\n    if ( htmlCollection ) {\r\n      var numEntries = htmlCollection.length;\r\n      for ( var q = 0; q < numEntries; q++ ) {\r\n        charSelectionNode.node().removeChild(htmlCollection[0]);\r\n      }\r\n    }\r\n    // datatypes kind of ignored by the elementsNeedCharacteristics function\r\n    // so we need to check if we are a node or not\r\n    if ( element.attributes().indexOf(\"external\") > -1 ) {\r\n      // add external span to the div;\r\n      var externalCharSpan = charSelectionNode.append(\"span\");\r\n      externalCharSpan.classed(\"spanForCharSelection\", true);\r\n      externalCharSpan.node().innerHTML = \"external\";\r\n    }\r\n    var filterContainer,\r\n      filterCheckbox;\r\n    if ( elementTools.isNode(element) === true ) {\r\n      // add the deprecated characteristic;\r\n      var arrayOfNodeChars = [\"deprecated\"];\r\n      for ( i = 0; i < arrayOfNodeChars.length; i++ ) {\r\n        filterContainer = charSelectionNode\r\n          .append(\"div\")\r\n          .classed(\"checkboxContainer\", true)\r\n          .style(\"padding-top\", \"2px\");\r\n        \r\n        filterCheckbox = filterContainer.append(\"input\")\r\n          .classed(\"filterCheckbox\", true)\r\n          .attr(\"id\", \"CharacteristicsCheckbox\" + i)\r\n          .attr(\"type\", \"checkbox\")\r\n          .attr(\"characteristics\", arrayOfNodeChars[i])\r\n          .property(\"checked\", getPresentAttribute(element, arrayOfNodeChars[i]));\r\n        //\r\n        filterContainer.append(\"label\")\r\n          .attr(\"for\", \"CharacteristicsCheckbox\" + i)\r\n          .text(arrayOfNodeChars[i]);\r\n        \r\n        filterCheckbox.on(\"click\", handleCheckBoxClick);\r\n        \r\n      }\r\n    }\r\n    \r\n    else {\r\n      // add the deprecated characteristic;\r\n      var arrayOfPropertyChars = [\"deprecated\", \"inverse functional\", \"functional\", \"transitive\"];\r\n      if ( elementTools.isDatatypeProperty(element) === true ) {\r\n        arrayOfPropertyChars = [\"deprecated\", \"functional\"];\r\n      }\r\n      for ( i = 0; i < arrayOfPropertyChars.length; i++ ) {\r\n        filterContainer = charSelectionNode\r\n          .append(\"div\")\r\n          .classed(\"checkboxContainer\", true)\r\n          .style(\"padding-top\", \"2px\");\r\n        \r\n        filterCheckbox = filterContainer.append(\"input\")\r\n          .classed(\"filterCheckbox\", true)\r\n          .attr(\"id\", \"CharacteristicsCheckbox\" + i)\r\n          .attr(\"type\", \"checkbox\")\r\n          .attr(\"characteristics\", arrayOfPropertyChars[i])\r\n          .property(\"checked\", getPresentAttribute(element, arrayOfPropertyChars[i]));\r\n        //\r\n        filterContainer.append(\"label\")\r\n          .attr(\"for\", \"CharacteristicsCheckbox\" + i)\r\n          .text(arrayOfPropertyChars[i]);\r\n        \r\n        filterCheckbox.on(\"click\", handleCheckBoxClick);\r\n        \r\n      }\r\n    }\r\n    \r\n    \r\n  }\r\n  \r\n  function getPresentAttribute( selectedElement, element ){\r\n    return (selectedElement.attributes().indexOf(element) >= 0);\r\n  }\r\n  \r\n  function handleCheckBoxClick(){\r\n    var checked = this.checked;\r\n    var char = this.getAttribute(\"characteristics\");\r\n    if ( checked === true ) {\r\n      addAttribute(selectedElementForCharacteristics, char);\r\n    } else {\r\n      removeAttribute(selectedElementForCharacteristics, char);\r\n    }\r\n    // graph.executeColorExternalsModule();\r\n    selectedElementForCharacteristics.redrawElement();\r\n    // workaround to have the node still be focused as rendering element\r\n    selectedElementForCharacteristics.focused(false);\r\n    selectedElementForCharacteristics.toggleFocus();\r\n    \r\n  }\r\n  \r\n  \r\n  function addAttribute( selectedElement, char ){\r\n    if ( selectedElement.attributes().indexOf(char) === -1 ) {\r\n      // not found add it\r\n      var attr = selectedElement.attributes();\r\n      attr.push(char);\r\n      selectedElement.attributes(attr);\r\n    }// indications string update;\r\n    if ( selectedElement.indications().indexOf(char) === -1 ) {\r\n      var indications = selectedElement.indications();\r\n      indications.push(char);\r\n      selectedElement.indications(indications);\r\n    }\r\n    // add visual attributes\r\n    var visAttr;\r\n    if ( selectedElement.visualAttributes().indexOf(char) === -1 ) {\r\n      visAttr = selectedElement.visualAttributes();\r\n      visAttr.push(char);\r\n      selectedElement.visualAttributes(visAttr);\r\n    }\r\n    if ( getPresentAttribute(selectedElement, \"external\") && getPresentAttribute(selectedElement, \"deprecated\") ) {\r\n      visAttr = selectedElement.visualAttributes();\r\n      var visInd = visAttr.indexOf(\"external\");\r\n      if ( visInd > -1 ) {\r\n        visAttr.splice(visInd, 1);\r\n      }\r\n      selectedElement.visualAttributes(visAttr);\r\n    }\r\n    \r\n  }\r\n  \r\n  function removeAttribute( selectedElement, element ){\r\n    var attr = selectedElement.attributes();\r\n    var indications = selectedElement.indications();\r\n    var visAttr = selectedElement.visualAttributes();\r\n    var attrInd = attr.indexOf(element);\r\n    if ( attrInd >= 0 ) {\r\n      attr.splice(attrInd, 1);\r\n    }\r\n    var indInd = indications.indexOf(element);\r\n    if ( indInd > -1 ) {\r\n      indications.splice(indInd, 1);\r\n    }\r\n    var visInd = visAttr.indexOf(element);\r\n    if ( visInd > -1 ) {\r\n      visAttr.splice(visInd, 1);\r\n    }\r\n    selectedElement.attributes(attr);\r\n    selectedElement.indications(indications);\r\n    selectedElement.visualAttributes(visAttr);\r\n    if ( element === \"deprecated\" ) {\r\n      // set its to its original Style\r\n      //typeBaseThign\r\n      // todo : fix all different types\r\n      if ( selectedElement.type() === \"owl:Class\" ) selectedElement.styleClass(\"class\");\r\n      if ( selectedElement.type() === \"owl:DatatypeProperty\" ) selectedElement.styleClass(\"datatypeproperty\");\r\n      if ( selectedElement.type() === \"owl:ObjectProperty\" ) selectedElement.styleClass(\"objectproperty\");\r\n      if ( selectedElement.type() === \"owl:disjointWith\" ) selectedElement.styleClass(\"disjointwith\");\r\n    }\r\n  }\r\n  \r\n  \r\n  function elementNeedsCharacteristics( element ){\r\n    //TODO: Add more types\r\n    if ( element.type() === \"owl:Thing\" ||\r\n      element.type() === \"rdfs:subClassOf\" ||\r\n      element.type() === \"rdfs:Literal\" ||\r\n      element.type() === \"rdfs:Datatype\" ||\r\n      element.type() === \"rdfs:disjointWith\" )\r\n      return false;\r\n    \r\n    // if (element.attributes().indexOf(\"external\")||\r\n    //     element.attributes().indexOf(\"deprecated\"))\r\n    //     return true;\r\n    return true;\r\n    \r\n  }\r\n  \r\n  function elementTypeSelectionChanged( element ){\r\n    if ( elementTools.isNode(element) ) {\r\n      if ( graph.changeNodeType(element) === false ) {\r\n        //restore old value\r\n        \r\n        if ( elementTools.isDatatype(element) === true ) {\r\n          \r\n        }\r\n        editSidebar.updateSelectionInformation(element);\r\n      }\r\n    }\r\n    \r\n    if ( elementTools.isProperty(element) ) {\r\n      if ( graph.changePropertyType(element) === false ) {\r\n        //restore old value\r\n        editSidebar.updateSelectionInformation(element);\r\n        \r\n      }\r\n    }\r\n    \r\n  }\r\n  \r\n  function getElementPrototypes( selectedElement ){\r\n    var availiblePrototypes = [];\r\n    // TODO the text should be also complied with the prefixes loaded into the ontology\r\n    if ( elementTools.isProperty(selectedElement) ) {\r\n      if ( selectedElement.type() === \"owl:DatatypeProperty\" )\r\n        availiblePrototypes.push(\"owl:DatatypeProperty\");\r\n      else {\r\n        availiblePrototypes.push(\"owl:ObjectProperty\");\r\n        // handling loops !\r\n        if ( selectedElement.domain() !== selectedElement.range() ) {\r\n          availiblePrototypes.push(\"rdfs:subClassOf\");\r\n        }\r\n        availiblePrototypes.push(\"owl:disjointWith\");\r\n        availiblePrototypes.push(\"owl:allValuesFrom\");\r\n        availiblePrototypes.push(\"owl:someValuesFrom\");\r\n      }\r\n      return availiblePrototypes;\r\n    }\r\n    if ( selectedElement.renderType() === \"rect\" ) {\r\n      availiblePrototypes.push(\"rdfs:Literal\");\r\n      availiblePrototypes.push(\"rdfs:Datatype\");\r\n    } else {\r\n      availiblePrototypes.push(\"owl:Class\");\r\n      availiblePrototypes.push(\"owl:Thing\");\r\n      //  TODO: ADD MORE TYPES\r\n      // availiblePrototypes.push(\"owl:complementOf\");\r\n      // availiblePrototypes.push(\"owl:disjointUnionOf\");\r\n    }\r\n    return availiblePrototypes;\r\n  }\r\n  \r\n  \r\n  function setupCollapsing(){\r\n    // TODO : Decision , for now I want to have the control over the collapse expand operation of the\r\n    // TODO : elements, otherwise the old approach will also randomly collapse other containers\r\n    \r\n    // adapted version of this example: http://www.normansblog.de/simple-jquery-accordion/\r\n    function collapseContainers( containers ){\r\n      containers.classed(\"hidden\", true);\r\n    }\r\n    \r\n    function expandContainers( containers ){\r\n      containers.classed(\"hidden\", false);\r\n    }\r\n    \r\n    var triggers = d3.selectAll(\".accordion-trigger\");\r\n    \r\n    // Collapse all inactive triggers on startup\r\n    // collapseContainers(d3.selectAll(\".accordion-trigger:not(.accordion-trigger-active) + div\"));\r\n    \r\n    triggers.on(\"click\", function (){\r\n      var selectedTrigger = d3.select(this);\r\n      if ( selectedTrigger.classed(\"accordion-trigger-active\") ) {\r\n        // Collapse the active (which is also the selected) trigger\r\n        collapseContainers(d3.select(selectedTrigger.node().nextElementSibling));\r\n        selectedTrigger.classed(\"accordion-trigger-active\", false);\r\n      } else {\r\n        // Collapse the other trigger ...\r\n        // collapseContainers(d3.selectAll(\".accordion-trigger-active + div\"));\r\n        \r\n        // ... and expand the selected one\r\n        expandContainers(d3.select(selectedTrigger.node().nextElementSibling));\r\n        selectedTrigger.classed(\"accordion-trigger-active\", true);\r\n      }\r\n      editSidebar.updateElementWidth();\r\n    });\r\n  }\r\n  \r\n  return editSidebar;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/editSidebar.js\n// module id = 336\n// module chunks = 1","module.exports = function ( graph ){\r\n  var configMenu = {},\r\n    checkboxes = [];\r\n  \r\n  \r\n  configMenu.setup = function (){\r\n    var menuEntry = d3.select(\"#m_modes\");\r\n    menuEntry.on(\"mouseover\", function (){\r\n      var searchMenu = graph.options().searchMenu();\r\n      searchMenu.hideSearchEntries();\r\n    });\r\n    \r\n    addCheckBox(\"showZoomSlider\", \"Zoom controls\", \"#zoomSliderOption\", graph.options().zoomSlider().showSlider, 0);\r\n    addLabelWidthSlider(\"#maxLabelWidthSliderOption\", \"maxLabelWidth\", \"Max label width\", graph.options().maxLabelWidth);\r\n  };\r\n  \r\n  \r\n  function addLabelWidthSlider( selector, identifier, label, onChangeFunction ){\r\n    var sliderContainer,\r\n      sliderValueLabel;\r\n    \r\n    sliderContainer = d3.select(selector)\r\n      .append(\"div\")\r\n      .classed(\"distanceSliderContainer\", true);\r\n    \r\n    var slider = sliderContainer.append(\"input\")\r\n      .attr(\"id\", identifier + \"Slider\")\r\n      .attr(\"type\", \"range\")\r\n      .attr(\"min\", 20)\r\n      .attr(\"max\", 600)\r\n      .attr(\"value\", onChangeFunction())\r\n      .attr(\"step\", 10);\r\n    sliderContainer.append(\"label\")\r\n      .classed(\"description\", true)\r\n      .attr(\"for\", identifier + \"Slider\")\r\n      .attr(\"id\", identifier + \"DescriptionLabel\")\r\n      .text(label);\r\n    sliderValueLabel = sliderContainer.append(\"label\")\r\n      .classed(\"value\", true)\r\n      .attr(\"for\", identifier + \"Slider\")\r\n      .attr(\"id\", identifier + \"valueLabel\")\r\n      .text(onChangeFunction());\r\n    \r\n    slider.on(\"input\", function (){\r\n      var value = slider.property(\"value\");\r\n      onChangeFunction(value);\r\n      sliderValueLabel.text(value);\r\n      if ( graph.options().dynamicLabelWidth() === true )\r\n        graph.animateDynamicLabelWidth();\r\n    });\r\n    \r\n    // add wheel event to the slider\r\n    slider.on(\"wheel\", function (){\r\n      if ( slider.node().disabled === true ) return;\r\n      var wheelEvent = d3.event;\r\n      var offset;\r\n      if ( wheelEvent.deltaY < 0 ) offset = 10;\r\n      if ( wheelEvent.deltaY > 0 ) offset = -10;\r\n      var oldVal = parseInt(slider.property(\"value\"));\r\n      var newSliderValue = oldVal + offset;\r\n      if ( newSliderValue !== oldVal ) {\r\n        slider.property(\"value\", newSliderValue);\r\n        onChangeFunction(newSliderValue);\r\n        slider.on(\"input\")(); // << set text and update the graphStyles\r\n      }\r\n      d3.event.preventDefault();\r\n    });\r\n  }\r\n  \r\n  function addCheckBox( identifier, modeName, selector, onChangeFunc, updateLvl ){\r\n    var configOptionContainer = d3.select(selector)\r\n      .append(\"div\")\r\n      .classed(\"checkboxContainer\", true);\r\n    var configCheckbox = configOptionContainer.append(\"input\")\r\n      .classed(\"moduleCheckbox\", true)\r\n      .attr(\"id\", identifier + \"ConfigCheckbox\")\r\n      .attr(\"type\", \"checkbox\")\r\n      .property(\"checked\", onChangeFunc());\r\n    \r\n    \r\n    configCheckbox.on(\"click\", function ( silent ){\r\n      var isEnabled = configCheckbox.property(\"checked\");\r\n      onChangeFunc(isEnabled);\r\n      if ( silent !== true ) {\r\n        // updating graph when silent is false or the parameter is not given.\r\n        if ( updateLvl === 1 ) {\r\n          graph.lazyRefresh();\r\n          //graph.redrawWithoutForce\r\n        }\r\n        if ( updateLvl === 2 ) {\r\n          graph.update();\r\n        }\r\n        \r\n        if ( updateLvl === 3 ) {\r\n          graph.updateDraggerElements();\r\n        }\r\n      }\r\n      \r\n    });\r\n    checkboxes.push(configCheckbox);\r\n    configOptionContainer.append(\"label\")\r\n      .attr(\"for\", identifier + \"ConfigCheckbox\")\r\n      .text(modeName);\r\n  }\r\n  \r\n  configMenu.setCheckBoxValue = function ( identifier, value ){\r\n    for ( var i = 0; i < checkboxes.length; i++ ) {\r\n      var cbdId = checkboxes[i].attr(\"id\");\r\n      if ( cbdId === identifier ) {\r\n        checkboxes[i].property(\"checked\", value);\r\n        break;\r\n      }\r\n    }\r\n  };\r\n  \r\n  configMenu.getCheckBoxValue = function ( id ){\r\n    for ( var i = 0; i < checkboxes.length; i++ ) {\r\n      var cbdId = checkboxes[i].attr(\"id\");\r\n      if ( cbdId === id ) {\r\n        return checkboxes[i].property(\"checked\");\r\n      }\r\n    }\r\n  };\r\n  \r\n  configMenu.updateSettings = function (){\r\n    var silent = true;\r\n    checkboxes.forEach(function ( checkbox ){\r\n      checkbox.on(\"click\")(silent);\r\n    });\r\n  };\r\n  \r\n  return configMenu;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/configMenu.js\n// module id = 337\n// module chunks = 1","module.exports = function ( graph ){\r\n  /** some constants **/\r\n  var PREDEFINED = 0,\r\n    FILE_UPLOAD = 1,\r\n    JSON_URL = 2,\r\n    IRI_URL = 3;\r\n  \r\n  var PROGRESS_BAR_ERROR = 0,\r\n    PROGRESS_BAR_BUSY = 1,\r\n    PROGRESS_BAR_PERCENT = 2,\r\n    progressBarMode = 1;\r\n  \r\n  var loadingWasSuccessFul = false;\r\n  var missingImportsWarning = false;\r\n  var showLoadingDetails = false;\r\n  var visibilityStatus = true;\r\n  \r\n  var DEFAULT_JSON_NAME = \"foaf\"; // This file is loaded by default\r\n  var conversion_sessionId;\r\n  \r\n  /** variable defs **/\r\n  var loadingModule = {},\r\n    menuContainer = d3.select(\"#loading-info\"),\r\n    loadingInfoContainer = d3.select(\"#loadingInfo-container\"),\r\n    detailsButton = d3.select(\"#show-loadingInfo-button\"),\r\n    closeButton = d3.select(\"#loadingIndicator_closeButton\"),\r\n    ontologyMenu,\r\n    ontologyIdentifierFromURL;\r\n  \r\n  /** functon defs **/\r\n  loadingModule.checkForScreenSize = function (){\r\n    // checks for window size and adjusts the loading indicator\r\n    var w = graph.options().width(),\r\n      h = graph.options().height();\r\n    \r\n    if ( w < 270 ) {\r\n      d3.select(\"#loading-info\").classed(\"hidden\", true);\r\n    } else {\r\n      // check if it should be visible\r\n      if ( visibilityStatus === true ) {\r\n        d3.select(\"#loading-info\").classed(\"hidden\", false);\r\n      } else {\r\n        d3.select(\"#loading-info\").classed(\"hidden\", true);\r\n      }\r\n    }\r\n    if ( h < 150 ) {\r\n      d3.select(\"#loadingInfo_msgBox\").classed(\"hidden\", true);\r\n    } else {\r\n      d3.select(\"#loadingInfo_msgBox\").classed(\"hidden\", false);\r\n    }\r\n    if ( h < 80 ) {\r\n      d3.select(\"#progressBarContext\").classed(\"hidden\", true);\r\n      d3.select(\"#layoutLoadingProgressBarContainer\").style(\"height\", \"20px\");\r\n    } else {\r\n      d3.select(\"#progressBarContext\").classed(\"hidden\", false);\r\n      d3.select(\"#layoutLoadingProgressBarContainer\").style(\"height\", \"50px\");\r\n    }\r\n  };\r\n  \r\n  loadingModule.getMessageVisibilityStatus = function (){\r\n    return visibilityStatus;\r\n  };\r\n  \r\n  loadingModule.getProgressBarMode = function (){\r\n    return progressBarMode;\r\n  };\r\n  \r\n  loadingModule.successfullyLoadedOntology = function (){\r\n    return loadingWasSuccessFul;\r\n  };\r\n  \r\n  loadingModule.missingImportsWarning = function (){\r\n    return missingImportsWarning;\r\n  };\r\n  \r\n  loadingModule.setOntologyMenu = function ( m ){\r\n    ontologyMenu = m;\r\n  };\r\n  \r\n  loadingModule.showErrorDetailsMessage = function (){\r\n    loadingModule.showLoadingIndicator();\r\n    loadingModule.expandDetails();\r\n    d3.select(\"#loadingIndicator_closeButton\").classed(\"hidden\", true);\r\n    loadingModule.scrollDownDetails();\r\n  };\r\n  \r\n  loadingModule.showWarningDetailsMessage = function (){\r\n    d3.select(\"#currentLoadingStep\").style(\"color\", \"#ff0\");\r\n    loadingModule.showLoadingIndicator();\r\n    loadingModule.expandDetails();\r\n    d3.select(\"#loadingIndicator_closeButton\").classed(\"hidden\", false);\r\n    loadingModule.scrollDownDetails();\r\n  };\r\n  \r\n  loadingModule.scrollDownDetails = function (){\r\n    var scrollingElement = d3.select(\"#loadingInfo-container\").node();\r\n    scrollingElement.scrollTop = scrollingElement.scrollHeight;\r\n  };\r\n  \r\n  loadingModule.hideLoadingIndicator = function (){\r\n    d3.select(\"#loading-info\").classed(\"hidden\", true);\r\n    visibilityStatus = false;\r\n  };\r\n  \r\n  loadingModule.showLoadingIndicator = function (){\r\n    d3.select(\"#loading-info\").classed(\"hidden\", false);\r\n    visibilityStatus = true;\r\n    \r\n  };\r\n  \r\n  /** -- SETUP -- **/\r\n  loadingModule.setup = function (){\r\n    // create connections for close and details button;\r\n    loadingInfoContainer.classed(\"hidden\", !showLoadingDetails);\r\n    detailsButton.on(\"click\", function (){\r\n      showLoadingDetails = !showLoadingDetails;\r\n      loadingInfoContainer.classed(\"hidden\", !showLoadingDetails);\r\n      detailsButton.classed(\"accordion-trigger-active\", showLoadingDetails);\r\n    });\r\n    \r\n    closeButton.on(\"click\", function (){\r\n      menuContainer.classed(\"hidden\", true);\r\n    });\r\n    loadingModule.setBusyMode();\r\n  };\r\n  \r\n  loadingModule.updateSize = function (){\r\n    showLoadingDetails = !(loadingInfoContainer.classed(\"hidden\"));\r\n    loadingInfoContainer.classed(\"hidden\", !showLoadingDetails);\r\n    detailsButton.classed(\"accordion-trigger-active\", showLoadingDetails);\r\n  };\r\n  \r\n  loadingModule.getDetailsState = function (){\r\n    return showLoadingDetails;\r\n  };\r\n  \r\n  loadingModule.expandDetails = function (){\r\n    showLoadingDetails = true;\r\n    loadingInfoContainer.classed(\"hidden\", !showLoadingDetails);\r\n    detailsButton.classed(\"accordion-trigger-active\", showLoadingDetails);\r\n  };\r\n  \r\n  loadingModule.collapseDetails = function (){\r\n    showLoadingDetails = false;\r\n    loadingInfoContainer.classed(\"hidden\", !showLoadingDetails);\r\n    detailsButton.classed(\"accordion-trigger-active\", showLoadingDetails);\r\n  };\r\n  \r\n  loadingModule.setBusyMode = function (){\r\n    d3.select(\"#currentLoadingStep\").style(\"color\", \"#fff\");\r\n    d3.select(\"#progressBarValue\").node().innherHTML = \"\";\r\n    d3.select(\"#progressBarValue\").style(\"width\", \"20%\");\r\n    d3.select(\"#progressBarValue\").classed(\"busyProgressBar\", true);\r\n    progressBarMode = PROGRESS_BAR_BUSY;\r\n  };\r\n  \r\n  loadingModule.setSuccessful = function (){\r\n    d3.select(\"#currentLoadingStep\").style(\"color\", \"#0f0\");\r\n  };\r\n  \r\n  loadingModule.setErrorMode = function (){\r\n    d3.select(\"#currentLoadingStep\").style(\"color\", \"#f00\");\r\n    d3.select(\"#progressBarValue\").style(\"width\", \"0%\");\r\n    d3.select(\"#progressBarValue\").classed(\"busyProgressBar\", false);\r\n    d3.select(\"#progressBarValue\").node().innherHTML = \"\";\r\n    progressBarMode = PROGRESS_BAR_ERROR;\r\n  };\r\n  \r\n  loadingModule.setPercentMode = function (){\r\n    d3.select(\"#currentLoadingStep\").style(\"color\", \"#fff\");\r\n    d3.select(\"#progressBarValue\").classed(\"busyProgressBar\", false);\r\n    d3.select(\"#progressBarValue\").node().innherHTML = \"0%\";\r\n    d3.select(\"#progressBarValue\").style(\"width\", \"0%\");\r\n    progressBarMode = PROGRESS_BAR_PERCENT;\r\n  };\r\n  \r\n  loadingModule.setPercentValue = function ( val ){\r\n    d3.select(\"#progressBarValue\").node().innherHTML = val;\r\n  };\r\n  \r\n  loadingModule.emptyGraphContentError = function (){\r\n    graph.clearGraphData();\r\n    ontologyMenu.append_message_toLastBulletPoint(\"<span style='color:red;'>failed</span>\");\r\n    ontologyMenu.append_message_toLastBulletPoint(\"<br><span style=\\\"color:red;\\\">Error: Received empty graph</span>\");\r\n    loadingWasSuccessFul = false;\r\n    graph.handleOnLoadingError();\r\n    loadingModule.setErrorMode();\r\n  };\r\n  \r\n  loadingModule.isThreadCanceled = function (){\r\n    \r\n  };\r\n  \r\n  loadingModule.initializeLoader = function ( storeCache ){\r\n    if ( storeCache === true && graph.getCachedJsonObj() !== null ) {\r\n      // save cached ontology;\r\n      var cachedContent = JSON.stringify(graph.getCachedJsonObj());\r\n      var cachedName = ontologyIdentifierFromURL;\r\n      ontologyMenu.setCachedOntology(cachedName, cachedContent);\r\n    }\r\n    conversion_sessionId = -10000;\r\n    ontologyMenu.setConversionID(conversion_sessionId);\r\n    ontologyMenu.stopLoadingTimer();\r\n    graph.clearGraphData();\r\n    loadingModule.setBusyMode();\r\n    loadingModule.showLoadingIndicator();\r\n    loadingModule.collapseDetails();\r\n    missingImportsWarning = false;\r\n    d3.select(\"#loadingIndicator_closeButton\").classed(\"hidden\", true);\r\n    ontologyMenu.clearDetailInformation();\r\n  };\r\n  \r\n  /** ------------------ URL Interpreter -------------- **/\r\n  loadingModule.parseUrlAndLoadOntology = function ( storeCache ){\r\n    var autoStore = true;\r\n    if ( storeCache === false ) {\r\n      autoStore = false;\r\n    }\r\n    \r\n    graph.clearAllGraphData();\r\n    loadingModule.initializeLoader(autoStore);\r\n    var urlString = String(location);\r\n    var parameterArray = identifyParameter(urlString);\r\n    ontologyIdentifierFromURL = DEFAULT_JSON_NAME;\r\n    loadGraphOptions(parameterArray); // identifies and loads configuration values\r\n    var loadingMethod = identifyOntologyLoadingMethod(ontologyIdentifierFromURL);\r\n    d3.select(\"#progressBarValue\").node().innerHTML = \" \";\r\n    switch ( loadingMethod ) {\r\n      case 0:\r\n        loadingModule.from_presetOntology(ontologyIdentifierFromURL);\r\n        break;\r\n      case 1:\r\n        loadingModule.from_FileUpload(ontologyIdentifierFromURL);\r\n        break;\r\n      case 2:\r\n        loadingModule.from_JSON_URL(ontologyIdentifierFromURL);\r\n        break;\r\n      case 3:\r\n        loadingModule.from_IRI_URL(ontologyIdentifierFromURL);\r\n        break;\r\n      default:\r\n        console.log(\"Could not identify loading method , or not IMPLEMENTED YET\");\r\n    }\r\n  };\r\n  \r\n  /** ------------------- LOADING --------------------- **/\r\n  // the loading module splits into 3 branches\r\n  // 1] PresetOntology Loading\r\n  // 2] File Upload\r\n  // 3] Load From URL / IRI\r\n  \r\n  loadingModule.from_JSON_URL = function ( fileName ){\r\n    var filename = decodeURIComponent(fileName.slice(\"url=\".length));\r\n    ontologyIdentifierFromURL = filename;\r\n    \r\n    var ontologyContent = \"\";\r\n    if ( ontologyMenu.cachedOntology(filename) ) {\r\n      ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + filename);\r\n      ontologyContent = ontologyMenu.cachedOntology(filename);\r\n      loadingWasSuccessFul = true; // cached Ontology should be true;\r\n      parseOntologyContent(ontologyContent);\r\n      \r\n    } else {\r\n      // involve the o2v conveter;\r\n      ontologyMenu.append_message(\"Retrieving ontology from JSON URL \" + filename);\r\n      requestServerTimeStampForJSON_URL(ontologyMenu.callbackLoad_JSON_FromURL, [\"read?json=\" + filename, filename]);\r\n    }\r\n  };\r\n  \r\n  function requestServerTimeStampForJSON_URL( callback, parameter ){\r\n    d3.xhr(\"serverTimeStamp\", \"application/text\", function ( error, request ){\r\n      if ( error ) {\r\n        // could not get server timestamp -> no connection to owl2vowl\r\n        ontologyMenu.append_bulletPoint(\"Could not establish connection to OWL2VOWL service\");\r\n        fallbackForJSON_URL(callback, parameter);\r\n      } else {\r\n        conversion_sessionId = request.responseText;\r\n        ontologyMenu.setConversionID(conversion_sessionId);\r\n        parameter.push(conversion_sessionId);\r\n        callback(parameter);\r\n      }\r\n    });\r\n    \r\n  }\r\n  \r\n  loadingModule.requestServerTimeStampForDirectInput = function ( callback, text ){\r\n    d3.xhr(\"serverTimeStamp\", \"application/text\", function ( error, request ){\r\n      if ( error ) {\r\n        // could not get server timestamp -> no connection to owl2vowl\r\n        ontologyMenu.append_bulletPoint(\"Could not establish connection to OWL2VOWL service\");\r\n        loadingModule.setErrorMode();\r\n        ontologyMenu.append_message_toLastBulletPoint(\"<br><span style='color:red'>Could not connect to OWL2VOWL service </span>\");\r\n        loadingModule.showErrorDetailsMessage();\r\n        d3.select(\"#progressBarValue\").style(\"width\", \"0%\");\r\n        d3.select(\"#progressBarValue\").classed(\"busyProgressBar\", false);\r\n        d3.select(\"#progressBarValue\").text(\"0%\");\r\n        \r\n      } else {\r\n        conversion_sessionId = request.responseText;\r\n        ontologyMenu.setConversionID(conversion_sessionId);\r\n        callback(text, [\"conversionID\" + conversion_sessionId, conversion_sessionId]);\r\n      }\r\n    });\r\n  };\r\n  \r\n  loadingModule.from_IRI_URL = function ( fileName ){\r\n    // owl2vowl converters the given ontology url and returns json file;\r\n    var filename = decodeURIComponent(fileName.slice(\"iri=\".length));\r\n    ontologyIdentifierFromURL = filename;\r\n    \r\n    var ontologyContent = \"\";\r\n    if ( ontologyMenu.cachedOntology(filename) ) {\r\n      ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + filename);\r\n      ontologyContent = ontologyMenu.cachedOntology(filename);\r\n      loadingWasSuccessFul = true; // cached Ontology should be true;\r\n      parseOntologyContent(ontologyContent);\r\n    } else {\r\n      // involve the o2v conveter;\r\n      var encoded = encodeURIComponent(filename);\r\n      ontologyMenu.append_bulletPoint(\"Retrieving ontology from IRI: \" + filename);\r\n      requestServerTimeStampForIRI_Converte(ontologyMenu.callbackLoad_Ontology_FromIRI, [\"convert?iri=\" + encoded, filename]);\r\n    }\r\n  };\r\n  \r\n  loadingModule.fromFileDrop = function ( fileName, file ){\r\n    d3.select(\"#progressBarValue\").node().innerHTML = \" \";\r\n    loadingModule.initializeLoader(false);\r\n    \r\n    ontologyMenu.append_bulletPoint(\"Retrieving ontology from dropped file: \" + fileName);\r\n    var ontologyContent = \"\";\r\n    \r\n    // two options here\r\n    //1] Direct Json Upload\r\n    if ( fileName.match(/\\.json$/) ) {\r\n      ontologyMenu.setConversionID(-10000);\r\n      var reader = new FileReader();\r\n      reader.readAsText(file);\r\n      reader.onload = function (){\r\n        ontologyContent = reader.result;\r\n        ontologyIdentifierFromURL = fileName;\r\n        parseOntologyContent(ontologyContent);\r\n      };\r\n    } else {\r\n      //2] File Upload to OWL2VOWL Converter\r\n      // 1) check if we can get a timeStamp;\r\n      var parameterArray = [file, fileName];\r\n      requestServerTimeStamp(ontologyMenu.callbackLoadFromOntology, parameterArray);\r\n    }\r\n  };\r\n  \r\n  \r\n  loadingModule.from_FileUpload = function ( fileName ){\r\n    loadingModule.setBusyMode();\r\n    var filename = decodeURIComponent(fileName.slice(\"file=\".length));\r\n    ontologyIdentifierFromURL = filename;\r\n    var ontologyContent = \"\";\r\n    if ( ontologyMenu.cachedOntology(filename) ) {\r\n      ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + filename);\r\n      ontologyContent = ontologyMenu.cachedOntology(filename);\r\n      loadingWasSuccessFul = true; // cached Ontology should be true;\r\n      parseOntologyContent(ontologyContent);\r\n      \r\n    } else {\r\n      // d3.select(\"#currentLoadingStep\").node().innerHTML=\"Loading ontology from file \"+ filename;\r\n      ontologyMenu.append_bulletPoint(\"Retrieving ontology from file: \" + filename);\r\n      // get the file\r\n      var selectedFile = d3.select(\"#file-converter-input\").property(\"files\")[0];\r\n      // No selection -> this was triggered by the iri. Unequal names -> reuploading another file\r\n      if ( !selectedFile || (filename && (filename !== selectedFile.name)) ) {\r\n        ontologyMenu.append_message_toLastBulletPoint(\"<br><span style=\\\"color:red;\\\">No cached version of \\\"\" + filename + \"\\\" was found.</span><br>Please reupload the file.\");\r\n        loadingModule.setErrorMode();\r\n        d3.select(\"#progressBarValue\").classed(\"busyProgressBar\", false);\r\n        graph.handleOnLoadingError();\r\n        return;\r\n      } else {\r\n        filename = selectedFile.name;\r\n      }\r\n\r\n\r\n// two options here\r\n//1] Direct Json Upload\r\n      if ( filename.match(/\\.json$/) ) {\r\n        ontologyMenu.setConversionID(-10000);\r\n        var reader = new FileReader();\r\n        reader.readAsText(selectedFile);\r\n        reader.onload = function (){\r\n          ontologyContent = reader.result;\r\n          ontologyIdentifierFromURL = filename;\r\n          parseOntologyContent(ontologyContent);\r\n        };\r\n      } else {\r\n//2] File Upload to OWL2VOWL Converter\r\n        // 1) check if we can get a timeStamp;\r\n        var parameterArray = [selectedFile, filename];\r\n        requestServerTimeStamp(ontologyMenu.callbackLoadFromOntology, parameterArray);\r\n      }\r\n    }\r\n  };\r\n  \r\n  function fallbackForJSON_URL( callback, parameter ){\r\n    ontologyMenu.append_message_toLastBulletPoint(\"<br>Trying to convert with other communication protocol.\");\r\n    callback(parameter);\r\n    \r\n  }\r\n  \r\n  function fallbackConversion( parameter ){\r\n    ontologyMenu.append_message_toLastBulletPoint(\"<br>Trying to convert with other communication protocol.\");\r\n    var file = parameter[0];\r\n    var name = parameter[1];\r\n    var formData = new FormData();\r\n    formData.append(\"ontology\", file);\r\n    \r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"POST\", \"convert\", true);\r\n    var ontologyContent = \"\";\r\n    xhr.onload = function (){\r\n      if ( xhr.status === 200 ) {\r\n        ontologyContent = xhr.responseText;\r\n        ontologyMenu.setCachedOntology(name, ontologyContent);\r\n        ontologyIdentifierFromURL = name;\r\n        missingImportsWarning = true; // using this variable for warnings\r\n        ontologyMenu.append_message_toLastBulletPoint(\"<br>Success, <span style='color:yellow'>but you are using a deprecated OWL2VOWL service!<span>\");\r\n        parseOntologyContent(ontologyContent);\r\n      }\r\n    };\r\n    \r\n    // check what this thing is doing;\r\n    xhr.onreadystatechange = function (){\r\n      if ( xhr.readyState === 4 && xhr.status === 0 ) {\r\n        ontologyMenu.append_message_toLastBulletPoint(\"<br>Old protocol also failed to establish connection to OWL2VOWL service!\");\r\n        loadingModule.setErrorMode();\r\n        ontologyMenu.append_bulletPoint(\"Failed to load ontology\");\r\n        ontologyMenu.append_message_toLastBulletPoint(\"<br><span style='color:red'>Could not connect to OWL2VOWL service </span>\");\r\n        loadingModule.showErrorDetailsMessage();\r\n      }\r\n    };\r\n    xhr.send(formData);\r\n  }\r\n  \r\n  function requestServerTimeStampForIRI_Converte( callback, parameterArray ){\r\n    d3.xhr(\"serverTimeStamp\", \"application/text\", function ( error, request ){\r\n      loadingModule.setBusyMode();\r\n      if ( error ) {\r\n        // could not get server timestamp -> no connection to owl2vowl\r\n        ontologyMenu.append_bulletPoint(\"Could not establish connection to OWL2VOWL service\");\r\n        loadingModule.setErrorMode();\r\n        ontologyMenu.append_bulletPoint(\"Failed to load ontology\");\r\n        ontologyMenu.append_message_toLastBulletPoint(\"<br><span style='color:red'>Could not connect to OWL2VOWL service </span>\");\r\n        loadingModule.showErrorDetailsMessage();\r\n      } else {\r\n        conversion_sessionId = request.responseText;\r\n        ontologyMenu.setConversionID(conversion_sessionId);\r\n        // update paramater for new communication paradigm\r\n        parameterArray[0] = parameterArray[0] + \"&sessionId=\" + conversion_sessionId;\r\n        parameterArray.push(conversion_sessionId);\r\n        callback(parameterArray);\r\n      }\r\n    });\r\n  }\r\n  \r\n  function requestServerTimeStamp( callback, parameterArray ){\r\n    d3.xhr(\"serverTimeStamp\", \"application/text\", function ( error, request ){\r\n      if ( error ) {\r\n        // could not get server timestamp -> no connection to owl2vowl\r\n        ontologyMenu.append_bulletPoint(\"Could not establish connection to OWL2VOWL service\");\r\n        fallbackConversion(parameterArray); // tries o2v version0.3.4 communication\r\n      } else {\r\n        conversion_sessionId = request.responseText;\r\n        ontologyMenu.setConversionID(conversion_sessionId);\r\n        console.log(\"Request Session ID:\" + conversion_sessionId);\r\n        callback(parameterArray[0], parameterArray[1], conversion_sessionId);\r\n      }\r\n    });\r\n  }\r\n  \r\n  loadingModule.directInput = function ( text ){\r\n    ontologyMenu.clearDetailInformation();\r\n    parseOntologyContent(text);\r\n  };\r\n  \r\n  loadingModule.loadFromOWL2VOWL = function ( ontoContent, filename ){\r\n    loadingWasSuccessFul = false;\r\n    \r\n    var old = d3.select(\"#bulletPoint_container\").node().innerHTML;\r\n    if ( old.indexOf(\"(with warnings)\") !== -1 ) {\r\n      missingImportsWarning = true;\r\n    }\r\n    \r\n    if ( ontologyMenu.cachedOntology(ontoContent) ) {\r\n      ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + filename);\r\n      parseOntologyContent(ontoContent);\r\n    } else { // set parse the ontology content;\r\n      parseOntologyContent(ontoContent);\r\n    }\r\n  };\r\n  \r\n  loadingModule.from_presetOntology = function ( selectedOntology ){\r\n    ontologyMenu.append_bulletPoint(\"Retrieving ontology: \" + selectedOntology);\r\n    loadPresetOntology(selectedOntology);\r\n  };\r\n  \r\n  function loadPresetOntology( ontology ){\r\n    // check if already cached in ontology menu?\r\n    var f2r;\r\n    var loadingNewOntologyForEditor=false;\r\n    if ( ontology.indexOf(\"new_ontology\") !== -1 ) {\r\n      loadingModule.hideLoadingIndicator();\r\n      graph.showEditorHintIfNeeded();\r\n      f2r = \"./data/new_ontology.json\";\r\n      loadingNewOntologyForEditor=true;\r\n    }\r\n    \r\n    loadingWasSuccessFul = false;\r\n    var ontologyContent = \"\";\r\n    if ( ontologyMenu.cachedOntology(ontology) ) {\r\n      ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + ontology);\r\n      ontologyContent = ontologyMenu.cachedOntology(ontology);\r\n      loadingWasSuccessFul = true; // cached Ontology should be true;\r\n      loadingModule.showLoadingIndicator();\r\n      parseOntologyContent(ontologyContent);\r\n      \r\n    } else {\r\n      // read the file name\r\n      \r\n      var fileToRead = \"./data/\" + ontology + \".json\";\r\n      if ( f2r ) {\r\n        fileToRead = f2r;\r\n      } // overwrite the newOntology Index\r\n      // read file\r\n      d3.xhr(fileToRead, \"application/json\", function ( error, request ){\r\n        var loadingSuccessful = !error;\r\n        if ( loadingSuccessful ) {\r\n          ontologyContent = request.responseText;\r\n          parseOntologyContent(ontologyContent);\r\n        } else {\r\n\r\n          if (loadingNewOntologyForEditor){\r\n            ontologyContent = '{\\n' +\r\n              '  \"_comment\": \"Empty ontology for WebVOWL Editor\",\\n' +\r\n              '  \"header\": {\\n' +\r\n              '    \"languages\": [\\n' +\r\n              '      \"en\"\\n' +\r\n              '    ],\\n' +\r\n              '    \"baseIris\": [\\n' +\r\n              '      \"http://www.w3.org/2000/01/rdf-schema\"\\n' +\r\n              '    ],\\n' +\r\n              '    \"iri\": \"http://visualdataweb.org/newOntology/\",\\n' +\r\n              '    \"title\": {\\n' +\r\n              '      \"en\": \"New ontology\"\\n' +\r\n              '    },\\n' +\r\n              '    \"description\": {\\n' +\r\n              '      \"en\": \"New ontology description\"\\n' +\r\n              '    }\\n' +\r\n              '  },\\n' +\r\n              '  \"namespace\": [],\\n' +\r\n              '  \"metrics\": {\\n' +\r\n              '    \"classCount\": 0,\\n' +\r\n              '    \"datatypeCount\": 0,\\n' +\r\n              '    \"objectPropertyCount\": 0,\\n' +\r\n              '    \"datatypePropertyCount\": 0,\\n' +\r\n              '    \"propertyCount\": 0,\\n' +\r\n              '    \"nodeCount\": 0,\\n' +\r\n              '    \"individualCount\": 0\\n' +\r\n              '  }\\n' +\r\n              '}\\n';\r\n            parseOntologyContent(ontologyContent);\r\n          }else{\r\n          // some error occurred\r\n          ontologyMenu.append_bulletPoint(\"Failed to load: \" + ontology);\r\n          if (error.status===0){ // assumption this is CORS error when running locally (error status == 0)\r\n            ontologyMenu.append_message_toLastBulletPoint(\" <span style='color: red'>ERROR STATUS:</span> \" + error.status);\r\n            if (window.location.toString().startsWith(\"file:/\")){\r\n              ontologyMenu.append_message_toLastBulletPoint(\"<br><p>WebVOWL runs in a local instance.</p>\");\r\n              ontologyMenu.append_message_toLastBulletPoint(\"<p>CORS prevents to automatically load files on host system.</p>\");\r\n              ontologyMenu.append_message_toLastBulletPoint(\"<p>You can load preprocessed ontologies (i.e. VOWL-JSON files) using the upload feature in the ontology menu or by dragging the files and dropping them on the canvas.</p>\");\r\n              ontologyMenu.append_message_toLastBulletPoint(\"<p><i>Hint: </i>Note that the conversion of ontologies into the VOWL-JSON format is not part of WebVOWL but requires an additional converter such as OWL2VOWL.</p>\");\r\n              ontologyMenu.append_message_toLastBulletPoint(\"<p>Ontologies can be created using the editor mode (i.e. activate editing mode in <b>Modes</b> menu and create a new ontology using the <b>Ontology</b> menu.</p>\");\r\n            }\r\n          }else {\r\n            ontologyMenu.append_message_toLastBulletPoint(\" <span style='color: red'>ERROR STATUS:</span> \" + error.status);\r\n          }\r\n\r\n\r\n\r\n          graph.handleOnLoadingError();\r\n          loadingModule.setErrorMode();\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  \r\n  /** -- PARSE JSON CONTENT -- **/\r\n  function parseOntologyContent( content ){\r\n    \r\n    ontologyMenu.append_bulletPoint(\"Reading ontology graph ... \");\r\n    var _loader = ontologyMenu.getLoadingFunction();\r\n    _loader(content, ontologyIdentifierFromURL, \"noAlternativeNameYet\");\r\n  }\r\n  \r\n  loadingModule.notValidJsonFile = function (){\r\n    graph.clearGraphData();\r\n    ontologyMenu.append_message_toLastBulletPoint(\" <span style='color:red;'>failed</span>\");\r\n    ontologyMenu.append_message_toLastBulletPoint(\"<br><span style='color:red;'>Error: Received empty graph</span>\");\r\n    loadingWasSuccessFul = false;\r\n    graph.handleOnLoadingError();\r\n    \r\n  };\r\n  \r\n  loadingModule.validJsonFile = function (){\r\n    ontologyMenu.append_message_toLastBulletPoint(\"done\");\r\n    loadingWasSuccessFul = true;\r\n  };\r\n  \r\n  \r\n  /** --- HELPER FUNCTIONS **/\r\n  \r\n  function identifyParameter( url ){\r\n    var numParameters = (url.match(/#/g) || []).length;\r\n    // create parameters array\r\n    var paramArray = [];\r\n    if ( numParameters > 0 ) {\r\n      var tokens = url.split(\"#\");\r\n      // skip the first token since it is the address of the server\r\n      for ( var i = 1; i < tokens.length; i++ ) {\r\n        if ( tokens[i].length === 0 ) {\r\n          // this token belongs actually to the last paramArray\r\n          paramArray[paramArray.length - 1] = paramArray[paramArray.length - 1] + \"#\";\r\n        } else {\r\n          paramArray.push(tokens[i]);\r\n        }\r\n      }\r\n    }\r\n    return paramArray;\r\n  }\r\n  \r\n  \r\n  function loadGraphOptions( parameterArray ){\r\n    var optString = \"opts=\";\r\n    \r\n    function loadDefaultConfig(){\r\n      graph.options().setOptionsFromURL(graph.options().defaultConfig(), false);\r\n    }\r\n    \r\n    function loadCustomConfig( opts ){\r\n      var changeEditingFlag = false;\r\n      var defObj = graph.options().defaultConfig();\r\n      for ( var i = 0; i < opts.length; i++ ) {\r\n        var keyVal = opts[i].split('=');\r\n        if ( keyVal[0] === \"editorMode\" ) {\r\n          changeEditingFlag = true;\r\n        }\r\n        defObj[keyVal[0]] = keyVal[1];\r\n      }\r\n      graph.options().setOptionsFromURL(defObj, changeEditingFlag);\r\n    }\r\n    \r\n    function identifyOptions( paramArray ){\r\n      if ( paramArray[0].indexOf(optString) >= 0 ) {\r\n        // parse the parameters;\r\n        var parameterLength = paramArray[0].length;\r\n        var givenOptionsStr = paramArray[0].substr(5, parameterLength - 6);\r\n        var optionsArray = givenOptionsStr.split(';');\r\n        loadCustomConfig(optionsArray);\r\n      } else {\r\n        ontologyIdentifierFromURL = paramArray[0];\r\n        loadDefaultConfig();\r\n      }\r\n    }\r\n    \r\n    function identifyOptionsAndOntology( paramArray ){\r\n      \r\n      if ( paramArray[0].indexOf(optString) >= 0 ) {\r\n        // parse the parameters;\r\n        var parameterLength = paramArray[0].length;\r\n        var givenOptionsStr = paramArray[0].substr(5, parameterLength - 6);\r\n        var optionsArray = givenOptionsStr.split(';');\r\n        loadCustomConfig(optionsArray);\r\n      } else {\r\n        loadDefaultConfig();\r\n      }\r\n      ontologyIdentifierFromURL = paramArray[1];\r\n    }\r\n    \r\n    switch ( parameterArray.length ) {\r\n      case 0:\r\n        loadDefaultConfig();\r\n        break;\r\n      case 1:\r\n        identifyOptions(parameterArray);\r\n        break;\r\n      case 2:\r\n        identifyOptionsAndOntology(parameterArray);\r\n        break;\r\n      default :\r\n        console.log(\"To many input parameters , loading default config\");\r\n        loadDefaultConfig();\r\n        ontologyIdentifierFromURL = \"ERROR_TO_MANY_INPUT_PARAMETERS\";\r\n    }\r\n  }\r\n  \r\n  \r\n  function identifyOntologyLoadingMethod( url ){\r\n    var iriKey = \"iri=\";\r\n    var urlKey = \"url=\";\r\n    var fileKey = \"file=\";\r\n    \r\n    var method = -1;\r\n    if ( url.substr(0, fileKey.length) === fileKey ) {\r\n      method = FILE_UPLOAD;\r\n    } else if ( url.substr(0, urlKey.length) === urlKey ) {\r\n      method = JSON_URL;\r\n    } else if ( url.substr(0, iriKey.length) === iriKey ) {\r\n      method = IRI_URL;\r\n    } else {\r\n      method = PREDEFINED;\r\n    }\r\n    return method;\r\n  }\r\n  \r\n  return loadingModule;\r\n}\r\n;\r\n\r\n\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/loadingModule.js\n// module id = 338\n// module chunks = 1","module.exports = function ( graph ){\r\n  /** variable defs **/\r\n  var warningModule = {};\r\n  var superContainer = d3.select(\"#WarningErrorMessages\");\r\n  var _messageContainers = [];\r\n  var _messageContext = [];\r\n  var _visibleStatus = [];\r\n  \r\n  var _filterHintId;\r\n  var _editorHintId;\r\n  var _messageId = -1;\r\n  superContainer.style(\"display\", \"inline-block\");\r\n  var cssStyleIndex = 0;\r\n  var styleSelectorIndex = 2;\r\n  \r\n\r\n  // helper for standalone webvowl in chrome\r\n  function createCSSSelector( name, rules ){\r\n    var style = document.createElement('style');\r\n    style.type = 'text/css';\r\n    document.getElementsByTagName('head')[0].appendChild(style);\r\n    if ( !(style.sheet || {}).insertRule )\r\n      (style.styleSheet || style.sheet).addRule(name, rules);\r\n    else\r\n      style.sheet.insertRule(name + \"{\" + rules + \"}\", 0);\r\n  }\r\n  \r\n  \r\n  function findCSS_Index(){\r\n    createCSSSelector(\"@keyframes msg_CollapseAnimation\", \" 0% { top: 0; } 100% { top: -400px;}\");\r\n    console.log(document.styleSheets );\r\n  }\r\n  \r\n  findCSS_Index();\r\n  \r\n  warningModule.addMessageBox = function (){\r\n    \r\n    // add a container;\r\n    _messageId++;\r\n    var messageContainer = d3.select(\"#WarningErrorMessages\").append(\"div\");\r\n    messageContainer.node().id = \"messageContainerId_\" + _messageId;\r\n    \r\n    var messageContext = messageContainer.append(\"div\");\r\n    messageContext.node().id = \"messageContextId_\" + _messageId;\r\n    messageContext.style(\"top\", \"0\");\r\n    messageContainer.style(\"position\", \"relative\");\r\n    messageContainer.style(\"width\", \"100%\");\r\n    //save in array\r\n    _messageContainers.push(messageContainer);\r\n    _messageContext.push(messageContext);\r\n    \r\n    // add animation to the container\r\n    messageContainer.node().addEventListener(\"animationend\", _msgContainer_animationEnd);\r\n    \r\n    // set visible flag that is used in end of animation\r\n    _visibleStatus[_messageId] = true;\r\n    return _messageId;\r\n  };\r\n  \r\n  function _msgContainer_animationEnd(){\r\n    var containerId = this.id;\r\n    var tokens = containerId.split(\"_\")[1];\r\n    var mContainer = d3.select(\"#\" + containerId);\r\n    // get number of children\r\n    mContainer.classed(\"hidden\", !_visibleStatus[tokens]);\r\n    // clean up DOM\r\n    if ( !_visibleStatus[tokens] ) {\r\n      mContainer.remove();\r\n      _messageContext[tokens] = null;\r\n      _messageContainers[tokens] = null;\r\n    }\r\n    // remove event listener\r\n    var c = d3.select(this);\r\n    // c.node().removeEventListener(\"animationend\",_msgContainer_animationEnd);\r\n  }\r\n  \r\n  warningModule.createMessageContext = function ( id ){\r\n    var warningContainer = _messageContext[id];\r\n    var moduleContainer = _messageContainers[id];\r\n    var generalHint = warningContainer.append('div');\r\n    generalHint.node().innerHTML = \"\";\r\n    _editorHintId = id;\r\n    /** Editing mode activated. You can now modify an existing ontology or create a new one via the <em>ontology</em> menu. You can save any ontology using the <em>export</em> menu (and exporting it as TTL file).**/\r\n    generalHint.node().innerHTML += \"Editing mode activated.<br>\" +\r\n      \"You can now modify an existing ontology or create a new one via the <em>ontology</em> menu.<br>\" +\r\n      \"You can save any ontology using the <em>export</em> menu (and exporting it as TTL file).\";\r\n    \r\n    generalHint.style(\"padding\", \"5px\");\r\n    generalHint.style(\"line-height\", \"1.2em\");\r\n    generalHint.style(\"font-size\", \"1.2em\");\r\n    \r\n    \r\n    var ul = warningContainer.append('ul');\r\n    ul.append('li').node().innerHTML = \"Create a class with <b>double click / tap</b> on empty canvas area.\";\r\n    ul.append('li').node().innerHTML = \"Edit names with <b>double click / tap</b> on element.</li>\";\r\n    ul.append('li').node().innerHTML = \"Selection of default constructors is provided in the left sidebar.\";\r\n    ul.append('li').node().innerHTML = \"Additional editing functionality is provided in the right sidebar.\";\r\n    \r\n    \r\n    var gotItButton = warningContainer.append(\"label\");\r\n    gotItButton.node().id = \"killWarningErrorMessages_\" + id;\r\n    gotItButton.node().innerHTML = \"Got It\";\r\n    gotItButton.on(\"click\", warningModule.closeMessage);\r\n    \r\n    moduleContainer.classed(\"hidden\", false);\r\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_ExpandAnimation\");\r\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\r\n  };\r\n  \r\n  warningModule.showMessage = function ( id ){\r\n    var moduleContainer = _messageContainers[id];\r\n    moduleContainer.classed(\"hidden\", false);\r\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_ExpandAnimation\");\r\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\r\n  };\r\n  \r\n  warningModule.closeMessage = function ( id ){\r\n    var nId;\r\n    if ( id === undefined ) {\r\n      var givenId = this.id;\r\n      nId = givenId.split(\"_\")[1];\r\n    } else {\r\n      nId = id;\r\n    }\r\n    if ( id && id.indexOf(\"_\") !== -1 ) {\r\n      nId = id.split(\"_\")[1];\r\n    }\r\n    _visibleStatus[nId] = false;\r\n    // get module;\r\n    var moduleContainer = _messageContainers[nId];\r\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_CollapseAnimation\");\r\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\r\n    \r\n    var m_height = moduleContainer.node().getBoundingClientRect().height;\r\n    \r\n    // find my id in the children\r\n    var pNode = moduleContainer.node().parentNode;\r\n    \r\n    var followingChildren = [];\r\n    var pChild = pNode.children;\r\n    var pChild_len = pChild.length;\r\n    var containerId = moduleContainer.node().id;\r\n    var found_me = false;\r\n    for ( var i = 0; i < pChild_len; i++ ) {\r\n      if ( found_me === true ) {\r\n        followingChildren.push(pChild[i].id);\r\n      }\r\n      \r\n      if ( containerId === pChild[i].id ) {\r\n        found_me = true;\r\n      }\r\n    }\r\n    \r\n    for ( var fc = 0; fc < followingChildren.length; fc++ ) {\r\n      var child = d3.select(\"#\" + followingChildren[fc]);\r\n      // get the document style and overwrite it;\r\n      var superCss = document.styleSheets[styleSelectorIndex].cssRules[cssStyleIndex];\r\n      // remove the existing 0% and 100% rules\r\n      superCss.deleteRule(\"0%\");\r\n      superCss.deleteRule(\"100%\");\r\n      \r\n      superCss.appendRule(\"0%   {top: 0;}\");\r\n      superCss.appendRule(\"100% {top: -\" + m_height + \"px;\");\r\n      \r\n      child.style(\"-webkit-animation-name\", \"msg_CollapseAnimation\");\r\n      child.style(\"-webkit-animation-duration\", \"0.5s\");\r\n      child.node().addEventListener(\"animationend\", _child_animationEnd);\r\n    }\r\n  };\r\n  \r\n  function _child_animationEnd(){\r\n    var c = d3.select(this);\r\n    c.style(\"-webkit-animation-name\", \"\");\r\n    c.style(\"-webkit-animation-duration\", \"\");\r\n    c.node().removeEventListener(\"animationend\", _child_animationEnd);\r\n  }\r\n  \r\n  warningModule.closeFilterHint = function (){\r\n    if ( _messageContainers[_filterHintId] ) {\r\n      _messageContainers[_filterHintId].classed(\"hidden\", true);\r\n      _messageContainers[_filterHintId].remove();\r\n      _messageContainers[_filterHintId] = null;\r\n      _messageContext[_filterHintId] = null;\r\n      _visibleStatus[_filterHintId] = false;\r\n    }\r\n  };\r\n  \r\n  warningModule.showEditorHint = function (){\r\n    var id = warningModule.addMessageBox();\r\n    warningModule.createMessageContext(id);\r\n  };\r\n\r\n  warningModule.showExporterWarning=function (){\r\n    warningModule.showWarning(\"Can not export ontology\", \"Detected unsupported ontology axioms, (e.g. owl:Union)\", \"Ontology is not exported\", 1, false);\r\n  };\r\n\r\n  \r\n  \r\n  warningModule.responseWarning = function ( header, reason, action, callback, parameterArray, forcedWarning ){\r\n    var id = warningModule.addMessageBox();\r\n    var warningContainer = _messageContext[id];\r\n    var moduleContainer = _messageContainers[id];\r\n    _visibleStatus[id] = true;\r\n    d3.select(\"#blockGraphInteractions\").classed(\"hidden\", false);\r\n    var graphWidth = 0.5 * graph.options().width();\r\n    \r\n    if ( header.length > 0 ) {\r\n      var head = warningContainer.append(\"div\");\r\n      head.style(\"padding\", \"5px\");\r\n      var titleHeader = head.append(\"div\");\r\n      // some classes\r\n      titleHeader.style(\"display\", \"inline-flex\");\r\n      titleHeader.node().innerHTML = \"<b>Warning:</b>\";\r\n      titleHeader.style(\"padding-right\", \"3px\");\r\n      var msgHeader = head.append(\"div\");\r\n      // some classes\r\n      msgHeader.style(\"display\", \"inline-flex\");\r\n      msgHeader.style(\"max-width\", graphWidth + \"px\");\r\n      \r\n      msgHeader.node().innerHTML = header;\r\n    }\r\n    if ( reason.length > 0 ) {\r\n      var reasonContainer = warningContainer.append(\"div\");\r\n      reasonContainer.style(\"padding\", \"5px\");\r\n      var reasonHeader = reasonContainer.append(\"div\");\r\n      // some classes\r\n      reasonHeader.style(\"display\", \"inline-flex\");\r\n      reasonHeader.style(\"padding-right\", \"3px\");\r\n      \r\n      reasonHeader.node().innerHTML = \"<b>Reason:</b>\";\r\n      var msgReason = reasonContainer.append(\"div\");\r\n      // some classes\r\n      msgReason.style(\"display\", \"inline-flex\");\r\n      msgReason.style(\"max-width\", graphWidth + \"px\");\r\n      msgReason.node().innerHTML = reason;\r\n    }\r\n    if ( action.length > 0 ) {\r\n      var actionContainer = warningContainer.append(\"div\");\r\n      actionContainer.style(\"padding\", \"5px\");\r\n      var actionHeader = actionContainer.append(\"div\");\r\n      // some classes\r\n      actionHeader.style(\"display\", \"inline-flex\");\r\n      actionHeader.style(\"padding-right\", \"8px\");\r\n      actionHeader.node().innerHTML = \"<b>Action:</b>\";\r\n      var msgAction = actionContainer.append(\"div\");\r\n      // some classes\r\n      msgAction.style(\"display\", \"inline-flex\");\r\n      msgAction.style(\"max-width\", graphWidth + \"px\");\r\n      msgAction.node().innerHTML = action;\r\n    }\r\n    \r\n    var gotItButton = warningContainer.append(\"label\");\r\n    gotItButton.node().id = \"killWarningErrorMessages_\" + id;\r\n    gotItButton.node().innerHTML = \"Continue\";\r\n    gotItButton.on(\"click\", function (){\r\n      warningModule.closeMessage(this.id);\r\n      d3.select(\"#blockGraphInteractions\").classed(\"hidden\", true);\r\n      callback(parameterArray[0], parameterArray[1], parameterArray[2], parameterArray[3]);\r\n    });\r\n    warningContainer.append(\"span\").node().innerHTML = \"|\";\r\n    var cancelButton = warningContainer.append(\"label\");\r\n    cancelButton.node().id = \"cancelButton_\" + id;\r\n    cancelButton.node().innerHTML = \"Cancel\";\r\n    cancelButton.on(\"click\", function (){\r\n      warningModule.closeMessage(this.id);\r\n      d3.select(\"#blockGraphInteractions\").classed(\"hidden\", true);\r\n    });\r\n    moduleContainer.classed(\"hidden\", false);\r\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_ExpandAnimation\");\r\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\r\n  };\r\n  \r\n  warningModule.showFilterHint = function (){\r\n    var id = warningModule.addMessageBox();\r\n    var warningContainer = _messageContext[id];\r\n    var moduleContainer = _messageContainers[id];\r\n    _visibleStatus[id] = true;\r\n    \r\n    _filterHintId = id;\r\n    var generalHint = warningContainer.append('div');\r\n    /** Editing mode activated. You can now modify an existing ontology or create a new one via the <em>ontology</em> menu. You can save any ontology using the <em>export</em> menu (and exporting it as TTL file).**/\r\n    generalHint.node().innerHTML = \"Collapsing filter activated.<br>\" +\r\n      \"The number of visualized elements has been automatically reduced.<br>\" +\r\n      \"Use the degree of collapsing slider in the <em>filter</em> menu to adjust the visualization.<br><br>\" +\r\n      \"<em>Note:</em> A performance decrease could be experienced with a growing amount of visual elements in the graph.\";\r\n    \r\n    \r\n    generalHint.style(\"padding\", \"5px\");\r\n    generalHint.style(\"line-height\", \"1.2em\");\r\n    generalHint.style(\"font-size\", \"1.2em\");\r\n    \r\n    var gotItButton = warningContainer.append(\"label\");\r\n    gotItButton.node().id = \"killFilterMessages_\" + id;\r\n    gotItButton.node().innerHTML = \"Got It\";\r\n    gotItButton.on(\"click\", warningModule.closeMessage);\r\n    \r\n    moduleContainer.classed(\"hidden\", false);\r\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_ExpandAnimation\");\r\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\r\n  };\r\n  \r\n  warningModule.showMultiFileUploadWarning = function (){\r\n    var id = warningModule.addMessageBox();\r\n    var warningContainer = _messageContext[id];\r\n    var moduleContainer = _messageContainers[id];\r\n    _visibleStatus[id] = true;\r\n    \r\n    _filterHintId = id;\r\n    var generalHint = warningContainer.append('div');\r\n    \r\n    generalHint.node().innerHTML = \"Uploading multiple files is not supported.<br>\";\r\n    \r\n    generalHint.style(\"padding\", \"5px\");\r\n    generalHint.style(\"line-height\", \"1.2em\");\r\n    generalHint.style(\"font-size\", \"1.2em\");\r\n    \r\n    var gotItButton = warningContainer.append(\"label\");\r\n    gotItButton.node().id = \"killFilterMessages_\" + id;\r\n    gotItButton.node().innerHTML = \"Got It\";\r\n    gotItButton.on(\"click\", warningModule.closeMessage);\r\n    \r\n    moduleContainer.classed(\"hidden\", false);\r\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_ExpandAnimation\");\r\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\r\n  };\r\n  \r\n  warningModule.showWarning = function ( header, reason, action, type, forcedWarning, additionalOpts ){\r\n    var id = warningModule.addMessageBox();\r\n    var warningContainer = _messageContext[id];\r\n    var moduleContainer = _messageContainers[id];\r\n    _visibleStatus[id] = true;\r\n    \r\n    // add new one;\r\n    var graphWidth = 0.5 * graph.options().width();\r\n    \r\n    if ( header.length > 0 ) {\r\n      var head = warningContainer.append(\"div\");\r\n      head.style(\"padding\", \"5px\");\r\n      var titleHeader = head.append(\"div\");\r\n      // some classes\r\n      titleHeader.style(\"display\", \"inline-flex\");\r\n      titleHeader.node().innerHTML = \"<b>Warning:</b>\";\r\n      titleHeader.style(\"padding-right\", \"3px\");\r\n      var msgHeader = head.append(\"div\");\r\n      // some classes\r\n      msgHeader.style(\"display\", \"inline-flex\");\r\n      msgHeader.style(\"max-width\", graphWidth + \"px\");\r\n      \r\n      msgHeader.node().innerHTML = header;\r\n    }\r\n    if ( reason.length > 0 ) {\r\n      var reasonContainer = warningContainer.append(\"div\");\r\n      reasonContainer.style(\"padding\", \"5px\");\r\n      var reasonHeader = reasonContainer.append(\"div\");\r\n      // some classes\r\n      reasonHeader.style(\"display\", \"inline-flex\");\r\n      reasonHeader.style(\"padding-right\", \"3px\");\r\n      \r\n      reasonHeader.node().innerHTML = \"<b>Reason:</b>\";\r\n      var msgReason = reasonContainer.append(\"div\");\r\n      // some classes\r\n      msgReason.style(\"display\", \"inline-flex\");\r\n      msgReason.style(\"max-width\", graphWidth + \"px\");\r\n      msgReason.node().innerHTML = reason;\r\n    }\r\n    if ( action.length > 0 ) {\r\n      var actionContainer = warningContainer.append(\"div\");\r\n      actionContainer.style(\"padding\", \"5px\");\r\n      var actionHeader = actionContainer.append(\"div\");\r\n      // some classes\r\n      actionHeader.style(\"display\", \"inline-flex\");\r\n      actionHeader.style(\"padding-right\", \"8px\");\r\n      actionHeader.node().innerHTML = \"<b>Action:</b>\";\r\n      var msgAction = actionContainer.append(\"div\");\r\n      // some classes\r\n      msgAction.style(\"display\", \"inline-flex\");\r\n      msgAction.style(\"max-width\", graphWidth + \"px\");\r\n      msgAction.node().innerHTML = action;\r\n    }\r\n    \r\n    var gotItButton;\r\n    if ( type === 1 ) {\r\n      gotItButton = warningContainer.append(\"label\");\r\n      gotItButton.node().id = \"killWarningErrorMessages_\" + id;\r\n      gotItButton.node().innerHTML = \"Got It\";\r\n      gotItButton.on(\"click\", warningModule.closeMessage);\r\n    }\r\n    \r\n    if ( type === 2 ) {\r\n      gotItButton = warningContainer.append(\"label\");\r\n      gotItButton.node().id = \"killWarningErrorMessages_\" + id;\r\n      gotItButton.node().innerHTML = \"Got It\";\r\n      gotItButton.on(\"click\", warningModule.closeMessage);\r\n      warningContainer.append(\"span\").node().innerHTML = \"|\";\r\n      var zoomToElementButton = warningContainer.append(\"label\");\r\n      zoomToElementButton.node().id = \"zoomElementThing_\" + id;\r\n      zoomToElementButton.node().innerHTML = \"Zoom to element \";\r\n      zoomToElementButton.on(\"click\", function (){\r\n        // assume the additional Element is for halo;\r\n        graph.zoomToElementInGraph(additionalOpts);\r\n      });\r\n      warningContainer.append(\"span\").node().innerHTML = \"|\";\r\n      var ShowElementButton = warningContainer.append(\"label\");\r\n      ShowElementButton.node().id = \"showElementThing_\" + id;\r\n      ShowElementButton.node().innerHTML = \"Indicate element\";\r\n      ShowElementButton.on(\"click\", function (){\r\n        // assume the additional Element is for halo;\r\n        if ( additionalOpts.halo() === false ) {\r\n          additionalOpts.drawHalo();\r\n          graph.updatePulseIds([additionalOpts.id()]);\r\n        } else {\r\n          additionalOpts.removeHalo();\r\n          additionalOpts.drawHalo();\r\n          graph.updatePulseIds([additionalOpts.id()]);\r\n        }\r\n      });\r\n    }\r\n    moduleContainer.classed(\"hidden\", false);\r\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_ExpandAnimation\");\r\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\r\n    moduleContainer.classed(\"hidden\", false);\r\n  };\r\n  \r\n  return warningModule;\r\n};\r\n\r\n\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/warningModule.js\n// module id = 339\n// module chunks = 1","module.exports = function ( graph ){\r\n  /** variable defs **/\r\n  var directInputModule = {};\r\n  var inputContainer = d3.select(\"#DirectInputContent\");\r\n  inputContainer.style(\"top\", \"0\");\r\n  inputContainer.style(\"position\", \"absolute\");\r\n  var textArea = d3.select(\"#directInputTextArea\");\r\n  var visibleContainer = false;\r\n  \r\n  inputContainer.style(\"border\", \"1px solid black\");\r\n  inputContainer.style(\"padding\", \"5px\");\r\n  inputContainer.style(\"background\", \"#fff\");\r\n  \r\n  \r\n  // connect upload and close button;\r\n  directInputModule.handleDirectUpload = function (){\r\n    \r\n    var text = textArea.node().value;\r\n    var jsonOBJ;\r\n    try {\r\n      jsonOBJ = JSON.parse(text);\r\n      graph.options().loadingModule().directInput(text);\r\n      // close if successful\r\n      if ( jsonOBJ.class.length > 0 ) {\r\n        directInputModule.setDirectInputMode(false);\r\n      }\r\n    }\r\n    catch ( e ) {\r\n      try {\r\n        // Initialize;\r\n        graph.options().loadingModule().initializeLoader();\r\n        graph.options().loadingModule().requestServerTimeStampForDirectInput(\r\n          graph.options().ontologyMenu().callbackLoad_Ontology_From_DirectInput, text\r\n        );\r\n      } catch ( error2 ) {\r\n        console.log(\"Error \" + error2);\r\n        d3.select(\"#Error_onLoad\").classed(\"hidden\", false);\r\n        d3.select(\"#Error_onLoad\").node().innerHTML = \"Failed to convert the input!\";\r\n      }\r\n    }\r\n  };\r\n  \r\n  directInputModule.handleCloseButton = function (){\r\n    directInputModule.setDirectInputMode(false);\r\n  };\r\n  \r\n  directInputModule.updateLayout = function (){\r\n    var w = graph.options().width();\r\n    var h = graph.options().height();\r\n    textArea.style(\"width\", 0.4 * w + \"px\");\r\n    textArea.style(\"height\", 0.7 * h + \"px\");\r\n  };\r\n  \r\n  directInputModule.setDirectInputMode = function ( val ){\r\n    if ( !val ) {\r\n      visibleContainer = !visibleContainer;\r\n    }\r\n    else {\r\n      visibleContainer = val;\r\n    }\r\n    // update visibility;\r\n    directInputModule.updateLayout();\r\n    d3.select(\"#Error_onLoad\").classed(\"hidden\", true);\r\n    inputContainer.classed(\"hidden\", !visibleContainer);\r\n  };\r\n  \r\n  \r\n  d3.select(\"#directUploadBtn\").on(\"click\", directInputModule.handleDirectUpload);\r\n  d3.select(\"#close_directUploadBtn\").on(\"click\", directInputModule.handleCloseButton);\r\n  \r\n  return directInputModule;\r\n};\r\n\r\n\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/directInputModule.js\n// module id = 340\n// module chunks = 1"],"sourceRoot":""}