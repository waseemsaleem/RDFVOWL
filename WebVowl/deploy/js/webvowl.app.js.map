{"version":3,"sources":["webpack:///webpack/bootstrap d12aa8a440c938c99b93?11d8","webpack:///./src/app/js/entry.js","webpack:///external \"d3\"?c0c4","webpack:///./~/lodash/_baseGetTag.js?0d07","webpack:///./~/lodash/_Symbol.js?dfe5","webpack:///./~/lodash/_root.js?c0bd","webpack:///./~/lodash/_freeGlobal.js?e849","webpack:///./~/lodash/_getRawTag.js?9b8e","webpack:///./~/lodash/_objectToString.js?e901","webpack:///./~/lodash/isSymbol.js?7ab9","webpack:///./~/lodash/isObjectLike.js?36be","webpack:///./~/lodash/isArray.js?0d20","webpack:///./~/lodash/_arrayMap.js?3223","webpack:///./~/lodash/toString.js?a8fe","webpack:///./~/lodash/_baseToString.js?9b51","webpack:///./src/app/css/toolstyle.css","webpack:///./src/app/js/browserWarning.js","webpack:///./src/app/js/app.js","webpack:///./src/app/js/menu/exportMenu.js","webpack:///./src/app/js/menu/exportTTLModule.js","webpack:///./src/app/js/menu/filterMenu.js","webpack:///./src/app/js/menu/gravityMenu.js","webpack:///./src/app/js/menu/modeMenu.js","webpack:///./src/app/js/menu/debugMenu.js","webpack:///./src/app/js/menu/ontologyMenu.js","webpack:///./~/lodash/unescape.js","webpack:///./~/lodash/_unescapeHtmlChar.js","webpack:///./~/lodash/_basePropertyOf.js","webpack:///./src/app/js/menu/pauseMenu.js","webpack:///./src/app/js/menu/resetMenu.js","webpack:///./src/app/js/menu/searchMenu.js","webpack:///./src/app/js/menu/navigationMenu.js","webpack:///./src/app/js/menu/zoomSlider.js","webpack:///./src/app/js/sidebar.js","webpack:///./src/app/js/leftSidebar.js","webpack:///./src/app/js/editSidebar.js","webpack:///./src/app/js/menu/configMenu.js","webpack:///./src/app/js/loadingModule.js","webpack:///./src/app/js/warningModule.js","webpack:///./src/app/js/directInputModule.js"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;ACtCA;AACA;;AAEA;;;;;;;;ACHA,qB;;;;;;;ACAA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC3BA;;AAEA;AACA;;AAEA;;;;;;;;ACLA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;;;ACRA;AACA;;AAEA;;;;;;;;;ACHA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC7CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;;ACrBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC3BA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpCA,0C;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDAAgD;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,GAAG,SAAS,GAAG;AAChD;AACA;AACA;AACA,IAAG;AACH;AACA,0CAAyC,GAAG,SAAS,GAAG;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gC;;;;;;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA4B;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAA4B;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,uEAAsE;AACtE;AACA;AACA;AACA,4DAA2D;AAC3D;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA,SAAQ;AACR;AACA;AACA,SAAQ;;AAER;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,+CAA8C;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gEAA+D;AAC/D;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAuC;;AAEvC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iEAAgE;AAChE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,mDAAkD;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,GAAG,SAAS,GAAG;AAClD;AACA;AACA;AACA,MAAK;AACL;AACA,4CAA2C,GAAG,SAAS,GAAG;AAC1D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;AChmBA;AACA;AACA;AACA;AACA;;AAEA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA,qCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,iCAAgC;AAChC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA8B;AAC9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA,oDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,mBAAkB,mBAAmB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,cAAa;AACb,mCAAkC;;;AAGlC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAgB,gBAAgB;AAChC;AACA;;AAEA;AACA;AACA,QAAO;AACP,+CAA8C;AAC9C;AACA;;AAEA;AACA;;AAEA;AACA,oCAAmC,6DAA6D;AAChG;AACA;AACA,MAAK;AACL,uCAAsC,kCAAkC;AACxE,mDAAkD,8BAA8B;AAChF,+DAA8D,8BAA8B;AAC5F,2CAA0C,mCAAmC;AAC7E,+CAA8C,wCAAwC;AACtF;AACA;AACA;AACA,MAAK;AACL,kEAAiE,8BAA8B;AAC/F,iDAAgD,8BAA8B;AAC9E,wDAAuD,8BAA8B;AACrF,+DAA8D,8BAA8B;AAC5F,2DAA0D,8BAA8B;AACxF,4CAA2C,8BAA8B;AACzE,0CAAyC,8BAA8B;AACvE,4DAA2D,gCAAgC;AAC3F,qFAAoF,8BAA8B;AAClH;AACA;AACA;AACA,MAAK,GAAG,mCAAmC;AAC3C,qDAAoD,gCAAgC;AACpF,qEAAoE,8BAA8B;AAClG,2CAA0C,gCAAgC;AAC1E,2DAA0D,8BAA8B;AACxF,iDAAgD,mCAAmC;AACnF,wCAAuC,mCAAmC;AAC1E,kDAAiD,uCAAuC;AACxF,sCAAqC,uCAAuC;AAC5E,2DAA0D,qCAAqC;AAC/F,wCAAuC,gCAAgC;AACvE,0CAAyC,yCAAyC;AAClF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;;AAEA,qBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAgB;;AAEhB;AACA,qCAAoC,WAAW;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,iCAAgC;AAChC;AACA;;;AAGA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,qBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,qDAAoD;AACpD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAiC;AACjC;AACA;;AAEA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,qBAAqB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,kDAAiD;AACjD,mDAAkD;AAClD,qDAAoD;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA;AACA;AACA,iBAAgB,0BAA0B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,iBAAgB,yBAAyB;AACzC;AACA,mBAAkB,0BAA0B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mCAAkC;AAClC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,KAAK;AACvC,mCAAkC,OAAO;AACzC,uCAAsC,uGAAuG;AAC7I,mCAAkC,OAAO;AACzC;AACA,mCAAkC,QAAQ;AAC1C,gCAA+B,KAAK;AACpC,gCAA+B,OAAO;AACtC,oCAAmC,uGAAuG;AAC1I,gCAA+B,OAAO;AACtC,2BAA0B,SAAS;AACnC,6BAA4B,QAAQ;AACpC;AACA,6BAA4B,OAAO;AACnC,+BAA8B,iBAAiB;AAC/C,iCAAgC,gGAAgG;AAChI,2BAA0B,OAAO;AACjC,yBAAwB,SAAS;AACjC;;;AAGA,8CAA6C,cAAc,MAAM,OAAO;AACxE,sBAAqB,eAAe,MAAM,OAAO;AACjD,sBAAqB,wBAAwB,MAAM,OAAO;AAC1D,sBAAqB,uBAAuB,MAAM,OAAO;AACzD,sBAAqB,0BAA0B,MAAM,OAAO;AAC5D,sBAAqB,kBAAkB,MAAM,OAAO;AACpD,sBAAqB,eAAe,MAAM,OAAO;AACjD,sBAAqB,YAAY,MAAM,OAAO;AAC9C,sBAAqB,kBAAkB,MAAM,OAAO;AACpD,sBAAqB,YAAY,MAAM,OAAO;AAC9C,gBAAe,OAAO;AACtB,oBAAmB,aAAa,GAAG;;AAEnC,gBAAe,YAAY;AAC3B,0GAAyG;AACzG,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,qBAAoB,YAAY,WAAW,IAAI,GAAG,aAAa;;;AAG/D,6BAA4B,wBAAwB,0FAA0F,EAAE;AAChJ,6BAA4B,wBAAwB,0FAA0F,EAAE;AAChJ,6BAA4B,wBAAwB,oGAAoG,EAAE;;AAE1J,6BAA4B,kBAAkB,0FAA0F,EAAE;;;AAG1I,6BAA4B,gBAAgB;AAC5C,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D;AACA,+BAA8B;;AAE9B,6BAA4B,iBAAiB;AAC7C,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D;AACA,+BAA8B;;;AAG9B,6BAA4B,iBAAiB;AAC7C,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D,mFAAkF;;AAElF,6BAA4B,uBAAuB;AACnD,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D,2FAA0F;;;AAG1F,6BAA4B,iBAAiB;AAC7C,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D,0FAAyF;;;AAGzF,6BAA4B,0BAA0B;AACtD;AACA,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D;AACA,+BAA8B;;AAE9B,6BAA4B,oBAAoB;AAChD;AACA,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D;AACA,+BAA8B;;;AAG9B,6BAA4B,4BAA4B;AACxD;AACA;AACA,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D,+BAA8B;;AAE9B,6BAA4B,uBAAuB;AACnD,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D;AACA;AACA,+BAA8B;;AAE9B,6BAA4B,gBAAgB;AAC5C,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D,+EAA8E;;AAE9E,6BAA4B,qBAAqB;AACjD,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D,+EAA8E;;;AAG9E,6BAA4B,2BAA2B;AACvD,cAAa,WAAW,MAAM,GAAG,yBAAyB;AAC1D;AACA;AACA,sBAAqB,6BAA6B;;AAElD;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,kDAAiD;AACjD,mDAAkD;AAClD;;AAEA;AACA;AACA,iBAAgB,kBAAkB;AAClC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2GAA0G;AAC1G,6FAA4F;;;AAG5F;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uIAAsI;AACtI,QAAO;AACP;AACA,gIAA+H;AAC/H;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,uFAAuF,yBAAyB;AAChM;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6IAA4I;AAC5I,UAAS;AACT;AACA,sIAAqI;AACrI;AACA;;;AAGA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,4BAA2B,QAAQ,KAAK,8BAA8B;AACtE;AACA,2BAA0B,mBAAmB;AAC7C;AACA,oCAAmC,QAAQ,KAAK,8BAA8B;AAC9E,cAAa;AACb,oCAAmC,qCAAqC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qCAAoC,qBAAqB,MAAM,gBAAgB;AAC/E;AACA;AACA;AACA,qCAAoC,qBAAqB,MAAM,OAAO;AACtE;AACA;;AAEA;AACA;AACA;AACA;AACA,4JAA2J,4CAA4C;AACvM;AACA;AACA;AACA,8JAA6J;AAC7J,sHAAqH;AACrH,uHAAsH;AACtH,iIAAgI;AAChI,0FAAyF,UAAU,MAAM,GAAG;AAC5G,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,qFAAqF,4CAA4C;AACjN;AACA;AACA;AACA,8JAA6J;AAC7J,sHAAqH;AACrH,uHAAsH;AACtH,iIAAgI;AAChI,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,qFAAqF,GAAG;AACxK,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,qFAAqF,4CAA4C;AACjN;AACA;AACA;AACA;AACA,8JAA6J;AAC7J,iHAAgH;AAChH,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,sEAAsE,SAAS;AAC/J,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,qFAAqF,4CAA4C;AACjN;AACA;AACA;AACA,8JAA6J;AAC7J,sHAAqH;AACrH,uHAAsH;AACtH,iIAAgI;;AAEhI;AACA,yLAAwL;;AAExL;AACA,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,oFAAoF,SAAS;AAC7K,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,qFAAqF,4CAA4C;;AAEjN;;;AAGA;;AAEA,MAAK;AACL,iBAAgB,yBAAyB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,2BAA0B,mBAAmB;AAC7C;AACA;AACA,oCAAmC,qCAAqC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC,yBAAyB,MAAM,gBAAgB;AACnF;AACA;AACA;AACA,qCAAoC,yBAAyB,MAAM,OAAO;AAC1E;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,kKAAiK;AACjK,2HAA0H;AAC1H,4HAA2H;AAC3H,oCAAmC,WAAW,MAAM,GAAG,yBAAyB,uFAAuF;AACvK;AACA;AACA;AACA,yBAAwB;AACxB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iCAAgC,2BAA2B;AAC3D;AACA;AACA,0CAAyC,6CAA6C;AACtF,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,6BAA6B,MAAM,oBAAoB;AAC7F;AACA;AACA;AACA,uCAAsC,6BAA6B,MAAM,OAAO;AAChF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,oLAAmL,gDAAgD;AACnO;AACA;AACA;AACA;;AAEA,oKAAmK,4CAA4C;;AAE/M,QAAO;AACP,oKAAmK,4CAA4C;AAC/M;AACA;;AAEA,yBAAwB,YAAY,GAAG,SAAS,OAAO;;AAEvD;AACA,mCAAkC;AAClC;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACx7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,yBAAyB;AACzC;AACA;AACA;;AAEA,iBAAgB,8BAA8B;AAC9C;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kDAAiD;AACjD;AACA,qBAAoB,8BAA8B;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,6CAA4C;AAC5C;AACA,qBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAsB,kBAAkB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB;AACnB,qBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,sFAAqF;AACrF;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,0FAAyF;AACzF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wEAAuE;AACvE;AACA;AACA,wEAAuE;AACvE;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,yBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;;AAEA;AACA;AACA,qEAAoE;AACpE;;AAEA,wBAAuB,+BAA+B;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;;;AAGvB;;;AAGA;AACA;AACA;AACA,iBAAgB,qBAAqB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,yBAAyB;AACzC;;AAEA;AACA;AACA,6EAA4E;AAC5E,+GAA8G;AAC9G;AACA;AACA;AACA,mDAAkD;AAClD;AACA;;AAEA;AACA,6EAA4E;AAC5E,+GAA8G;AAC9G;AACA;AACA;AACA,mDAAkD;AAClD;AACA;;AAEA;AACA;AACA,mEAAkE;;;AAGlE;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAqB;AACrB;AACA;;AAEA;;;AAGA;AACA;AACA;;;AAGA,qBAAoB;;;AAGpB;;AAEA,8FAA6F;AAC7F;;AAEA;AACA;AACA,wBAAuB,wBAAwB;AAC/C;AACA,0FAAyF;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAwE;AACxE;AACA;AACA,yEAAwE;AACxE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wEAAuE;AACvE;AACA;AACA,wEAAuE;AACvE;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAgF;AAChF;AACA;AACA,+EAA8E;AAC9E;;AAEA;;AAEA;AACA,kDAAiD;AACjD;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB,sBAAsB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA,sEAAqE;AACrE;AACA;AACA;AACA;;AAEA;AACA;AACA,gDAA+C;AAC/C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB,4EAA2E;AAC3E;AACA;AACA;AACA;AACA,uBAAsB,gCAAgC;AACtD;AACA;AACA,wEAAuE;AACvE;AACA,MAAK;AACL,iBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,MAAK,gBAAgB;AACrB;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,mGAAkG;AAClG;AACA;AACA,6GAA4G;AAC5G;AACA;AACA;AACA;;AAEA;AACA,uBAAsB,+BAA+B;AACrD;AACA;AACA;AACA;AACA,gDAA+C;AAC/C;AACA,QAAO;AACP;AACA;;AAEA,MAAK;AACL;AACA,kGAAiG;AACjG,oDAAmD;AACnD;AACA;AACA,oFAAmF;AACnF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mGAAkG;AAClG;AACA;AACA,6GAA4G;AAC5G;AACA;AACA;AACA;AACA;AACA,uBAAsB,+BAA+B;AACrD;AACA;AACA;AACA;AACA,gDAA+C;AAC/C;AACA,QAAO;AACP;AACA;;AAEA,MAAK;AACL;AACA,kGAAiG;AACjG,oDAAmD;AACnD;AACA;AACA,oFAAmF;AACnF;AACA;;AAEA;AACA;;;;;;;;AC7kBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,2DAA2D;;AAElF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,qBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,yBAAyB;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;;;;;;;;;AC/RA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB;AACtB;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,eAAc,qCAAqC;AACnD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;;;AAGA;AACA;;;;;;;;;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAAyB;AACzB,8BAA6B;;AAE7B,oBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,wCAAuC;AACvC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,wCAAuC;AACvC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc,iDAAiD;;AAE/D;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oDAAmD,gBAAgB;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;AC/PA;AACA,qBAAoB;AACpB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;;AAGA,QAAO;AACP;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;;;AAGP;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;ACpJA;;AAEA;;AAEA,wBAAuB;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA,2EAA0E,cAAc;AACxF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA,qBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACzpBA;AACA;;AAEA;AACA,8CAA6C;AAC7C;;AAEA;AACA,8BAA6B;AAC7B,UAAS,QAAQ,QAAQ,UAAU,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACjCA;;AAEA;AACA;AACA,SAAQ;AACR,QAAO;AACP,QAAO;AACP,UAAS;AACT,SAAQ;AACR;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,OAAO;AACpB;AACA;;AAEA;;;;;;;;ACpBA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,eAAc,gBAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;;;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB;AACpB;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;;;AAGA;AACA;;;;;;;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAwC;;;AAGxC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB,gBAAgB;AACpC;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,4BAA4B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA,iBAAgB,8BAA8B;AAC9C;AACA;AACA;AACA,uBAAsB,gCAAgC;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2GAA0G,EAAE,4CAA4C,EAAE,eAAe,EAAE,gHAAgH,EAAE;AAC7R;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,iBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,qBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C,YAAY,oBAAoB,mBAAmB;AAC7F;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA,iBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA,uBAAsB,oBAAoB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAwB,UAAU;AAClC;AACA;AACA;AACA;AACA;;AAEA,uBAAsB,UAAU;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,gBAAgB;AACpC;AACA;AACA;;AAEA;AACA;;;;;;;;;ACjgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAgB,gBAAgB;AAChC;AACA;;AAEA;AACA;AACA,iBAAgB,gBAAgB;AAChC;AACA;;AAEA;AACA,iBAAgB,gBAAgB;AAChC;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C;AAC/C,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2DAA0D;AAC1D;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;;AAEA;AACA;;;;;;;;;AC9PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACjHA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,+CAA8C;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAoC;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;;;;;;;AC1lBA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;;;AAGA;AACA,qBAAoB,sBAAsB;AAC1C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAgB,6BAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAgB,+BAA+B;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,gCAAgC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;AC3QA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;;AAEA;AACA;AACA;AACA,qBAAoB,+BAA+B;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,+CAA8C;AAC9C;AACA,MAAK;AACL,kDAAiD;AACjD;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,6CAA4C,eAAe;AAC3D;AACA,iDAAgD;;AAEhD;AACA,MAAK;AACL;AACA,gDAA+C,kBAAkB;AACjE;AACA,mDAAkD;AAClD;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;;;AAGT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qDAAoD,eAAe;AACnE;AACA,yDAAwD;;AAExD;AACA,YAAW;AACX;AACA,wDAAuD,kBAAkB;AACzE;AACA,2DAA0D;AAC1D;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qDAAoD,eAAe;AACnE;AACA,yDAAwD;;AAExD;AACA,YAAW;AACX;AACA,wDAAuD,kBAAkB;AACzE;AACA,2DAA0D;AAC1D;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,uDAAsD;AACtD;AACA,YAAW;AACX,0DAAyD;AACzD;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA,uDAAsD;AACtD;AACA,YAAW;AACX,0DAAyD;AACzD;AACA;AACA,UAAS;;;AAGT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,QAAO;AACP;AACA;AACA,QAAO;;AAEP;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,6DAA4D;AAC5D,6DAA4D;AAC5D;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,2GAA0G,EAAE,4CAA4C,EAAE,eAAe,EAAE,gHAAgH,EAAE;AAC7R;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,qBAAqB;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,mBAAkB,qBAAqB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D;AAC1D,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,gBAAgB;AAClC;;AAEA,mBAAkB,8BAA8B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;;AAGP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,gBAAgB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,6BAA6B;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,iCAAiC;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;;;;;;;;ACpzCA;AACA,sBAAqB;AACrB;;;AAGA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;;;;;;;;ACpIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kCAAiC;AACjC;;AAEA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2EAA0E;AAC1E,gFAA+E;AAC/E;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAO;AACP;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oFAAmF;AACnF;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK,OAAO;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;;AAEA,MAAK;AACL;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,iCAAgC;AAChC;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA,qBAAoB;AACpB,oCAAmC;AACnC;AACA,qBAAoB;AACpB,mBAAkB;AAClB;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB,iBAAgB;AAChB;AACA,YAAW;AACX;AACA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;;;AAIA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,4EAA2E;AAC3E,+EAA8E;AAC9E;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,mBAAmB;AACzC;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oDAAmD;AACnD;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,oDAAmD;AACnD;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;ACntBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA,uCAAsC,cAAc;AACpD;;;AAGA;AACA,iEAAgE,QAAQ,EAAE,OAAO,cAAc;AAC/F;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAoB,gBAAgB;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,sBAAqB,+BAA+B;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAiC,QAAQ;AACzC,kCAAiC,yBAAyB;;AAE1D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;ACxaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA","file":"js/webvowl.app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d12aa8a440c938c99b93","require(\"../css/toolstyle.css\");\nrequire(\"./browserWarning\");\n\nmodule.exports = require(\"./app\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/entry.js\n// module id = 0\n// module chunks = 1","module.exports = d3;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"d3\"\n// module id = 6\n// module chunks = 0 1","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseGetTag.js\n// module id = 91\n// module chunks = 0 1","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Symbol.js\n// module id = 92\n// module chunks = 0 1","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_root.js\n// module id = 93\n// module chunks = 0 1","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_freeGlobal.js\n// module id = 94\n// module chunks = 0 1","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getRawTag.js\n// module id = 95\n// module chunks = 0 1","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_objectToString.js\n// module id = 96\n// module chunks = 0 1","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isSymbol.js\n// module id = 103\n// module chunks = 0 1","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isObjectLike.js\n// module id = 104\n// module chunks = 0 1","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isArray.js\n// module id = 112\n// module chunks = 0 1","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayMap.js\n// module id = 154\n// module chunks = 0 1","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/toString.js\n// module id = 219\n// module chunks = 0 1","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseToString.js\n// module id = 220\n// module chunks = 0 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/css/toolstyle.css\n// module id = 319\n// module chunks = 1","/* Taken from here: http://stackoverflow.com/a/17907562 */\nfunction getInternetExplorerVersion(){\n  var ua,\n    re,\n    rv = -1;\n  \n  // check for edge\n  var isEdge = /(?:\\b(MS)?IE\\s+|\\bTrident\\/7\\.0;.*\\s+rv:|\\bEdge\\/)(\\d+)/.test(navigator.userAgent);\n  if ( isEdge ) {\n    rv = parseInt(\"12\");\n    return rv;\n  }\n  \n  var isIE11 = /Trident.*rv[ :]*11\\./.test(navigator.userAgent);\n  if ( isIE11 ) {\n    rv = parseInt(\"11\");\n    return rv;\n  }\n  if ( navigator.appName === \"Microsoft Internet Explorer\" ) {\n    ua = navigator.userAgent;\n    re = new RegExp(\"MSIE ([0-9]{1,}[\\\\.0-9]{0,})\");\n    if ( re.exec(ua) !== null ) {\n      rv = parseFloat(RegExp.$1);\n    }\n  } else if ( navigator.appName === \"Netscape\" ) {\n    ua = navigator.userAgent;\n    re = new RegExp(\"Trident/.*rv:([0-9]{1,}[\\\\.0-9]{0,})\");\n    if ( re.exec(ua) !== null ) {\n      rv = parseFloat(RegExp.$1);\n    }\n  }\n  return rv;\n}\n\nfunction showBrowserWarningIfRequired(){\n  var version = getInternetExplorerVersion();\n  console.log(\"Browser Version =\" + version);\n  if ( version > 0 && version <= 11 ) {\n    d3.select(\"#browserCheck\").classed(\"hidden\", false);\n    d3.select(\"#killWarning\").classed(\"hidden\", true);\n    d3.select(\"#optionsArea\").classed(\"hidden\", true);\n    d3.select(\"#logo\").classed(\"hidden\", true);\n  }\n  if ( version == 12 ) {\n    d3.select(\"#logo\").classed(\"hidden\", false);\n    d3.select(\"#browserCheck\").classed(\"hidden\", false);\n    // connect the button;\n    var pb_kill = d3.select(\"#killWarning\");\n    pb_kill.on(\"click\", function (){\n      console.log(\"hide the warning please\");\n      d3.select(\"#browserCheck\").classed(\"hidden\", true);\n      d3.select(\"#logo\").style(\"padding\", \"10px\");\n    });\n  }\n  else {\n    d3.select(\"#logo\").classed(\"hidden\", false);\n    d3.select(\"#browserCheck\").classed(\"hidden\", true);\n  }\n  \n}\n\nmodule.exports = showBrowserWarningIfRequired;\nshowBrowserWarningIfRequired();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/browserWarning.js\n// module id = 321\n// module chunks = 1","String.prototype.replaceAll = function ( search, replacement ){\n  var target = this;\n  return target.split(search).join(replacement);\n};\nmodule.exports = function (){\n  var newOntologyCounter = 1;\n  var app = {},\n    graph = webvowl.graph(),\n    options = graph.graphOptions(),\n    languageTools = webvowl.util.languageTools(),\n    GRAPH_SELECTOR = \"#graph\",\n    // Modules for the webvowl app\n    exportMenu = require(\"./menu/exportMenu\")(graph),\n    filterMenu = require(\"./menu/filterMenu\")(graph),\n    gravityMenu = require(\"./menu/gravityMenu\")(graph),\n    modeMenu = require(\"./menu/modeMenu\")(graph),\n    debugMenu = require(\"./menu/debugMenu\")(graph),\n    ontologyMenu = require(\"./menu/ontologyMenu\")(graph),\n    pauseMenu = require(\"./menu/pauseMenu\")(graph),\n    resetMenu = require(\"./menu/resetMenu\")(graph),\n    searchMenu = require(\"./menu/searchMenu\")(graph),\n    navigationMenu = require(\"./menu/navigationMenu\")(graph),\n    zoomSlider = require(\"./menu/zoomSlider\")(graph),\n    sidebar = require(\"./sidebar\")(graph),\n    leftSidebar = require(\"./leftSidebar\")(graph),\n    editSidebar = require(\"./editSidebar\")(graph),\n    configMenu = require(\"./menu/configMenu\")(graph),\n    loadingModule = require(\"./loadingModule\")(graph),\n    warningModule = require(\"./warningModule\")(graph),\n    directInputMod = require(\"./directInputModule\")(graph),\n    \n    \n    // Graph modules\n    colorExternalsSwitch = webvowl.modules.colorExternalsSwitch(graph),\n    compactNotationSwitch = webvowl.modules.compactNotationSwitch(graph),\n    datatypeFilter = webvowl.modules.datatypeFilter(),\n    disjointFilter = webvowl.modules.disjointFilter(),\n    focuser = webvowl.modules.focuser(graph),\n    emptyLiteralFilter = webvowl.modules.emptyLiteralFilter(),\n    nodeDegreeFilter = webvowl.modules.nodeDegreeFilter(filterMenu),\n    nodeScalingSwitch = webvowl.modules.nodeScalingSwitch(graph),\n    objectPropertyFilter = webvowl.modules.objectPropertyFilter(),\n    pickAndPin = webvowl.modules.pickAndPin(),\n    selectionDetailDisplayer = webvowl.modules.selectionDetailsDisplayer(sidebar.updateSelectionInformation),\n    statistics = webvowl.modules.statistics(),\n    subclassFilter = webvowl.modules.subclassFilter(),\n    setOperatorFilter = webvowl.modules.setOperatorFilter();\n  \n  \n  app.getOptions = function (){\n    return webvowl.opts;\n  };\n  app.getGraph = function (){\n    return webvowl.gr;\n  };\n  // app.afterInitializationCallback=undefined;\n  \n  \n  var executeFileDrop = false;\n  var wasMessageToShow = false;\n  var firstTime = false;\n  \n  function addFileDropEvents( selector ){\n    var node = d3.select(selector);\n    \n    node.node().ondragover = function ( e ){\n      e.preventDefault();\n\n      d3.select(\"#dragDropContainer\").classed(\"hidden\", false);\n      // get svg size\n      var w = graph.options().width();\n      var h = graph.options().height();\n      \n      // get event position; (using clientX and clientY);\n      var cx = e.clientX;\n      var cy = e.clientY;\n      \n      if ( firstTime === false ) {\n        var state = d3.select(\"#loading-info\").classed(\"hidden\");\n        wasMessageToShow = !state;\n        firstTime = true;\n        d3.select(\"#loading-info\").classed(\"hidden\", true); // hide it so it does not conflict with drop event\n        var bb=d3.select(\"#drag_msg\").node().getBoundingClientRect();\n        var hs = bb.height;\n        var ws = bb.width;\n        \n        var icon_scale=Math.min(hs,ws);\n        icon_scale/=100;\n        \n        d3.select(\"#drag_icon_group\").attr(\"transform\", \"translate ( \" + 0.25 * ws + \" \" + 0.25 * hs + \")\");\n        d3.select(\"#drag_icon\").attr(\"transform\",\"matrix (\"+icon_scale+\",0,0,\"+icon_scale+\",0,0)\");\n        d3.select(\"#drag_icon_drop\").attr(\"transform\",\"matrix (\"+icon_scale+\",0,0,\"+icon_scale+\",0,0)\");\n      }\n      \n      \n      if ( (cx > 0.25 * w && cx < 0.75 * w) && (cy > 0.25 * h && cy < 0.75 * h) ) {\n        \n        d3.select(\"#drag_msg_text\").node().innerHTML = \"Drop it here.\";\n        d3.select(\"#drag_msg\").style(\"background-color\", \"#67bc0f\");\n        d3.select(\"#drag_msg\").style(\"color\", \"#000000\");\n        executeFileDrop = true;\n        // d3.select(\"#drag_svg\").transition()\n        //   .duration(100)\n        //   // .attr(\"-webkit-transform\", \"rotate(90)\")\n        //   // .attr(\"-moz-transform\",    \"rotate(90)\")\n        //   // .attr(\"-o-transform\",      \"rotate(90)\")\n        //   .attr(\"transform\",         \"rotate(90)\");\n  \n        d3.select(\"#drag_icon\").classed(\"hidden\",true);\n        d3.select(\"#drag_icon_drop\").classed(\"hidden\",false);\n  \n  \n      } else {\n        d3.select(\"#drag_msg_text\").node().innerHTML = \"Drag ontology file here.\";\n        d3.select(\"#drag_msg\").style(\"background-color\", \"#fefefe\");\n        d3.select(\"#drag_msg\").style(\"color\", \"#000000\");\n        executeFileDrop = false;\n  \n        d3.select(\"#drag_icon\").classed(\"hidden\",false);\n        d3.select(\"#drag_icon_drop\").classed(\"hidden\",true);\n        \n        \n        // d3.select(\"#drag_svg\").transition()\n        //   .duration(100)\n        //   // .attr(\"-webkit-transform\", \"rotate(0)\")\n        //   // .attr(\"-moz-transform\",    \"rotate(0)\")\n        //   // .attr(\"-o-transform\",      \"rotate(0)\")\n        //   .attr(\"transform\",         \"rotate(0)\");\n        //\n      }\n      \n    };\n    node.node().ondrop = function ( ev ){\n      ev.preventDefault();\n      firstTime = false;\n      if ( executeFileDrop ) {\n        if ( ev.dataTransfer.items ) {\n          if ( ev.dataTransfer.items.length === 1 ) {\n            if ( ev.dataTransfer.items[0].kind === 'file' ) {\n              var file = ev.dataTransfer.items[0].getAsFile();\n              graph.options().loadingModule().fromFileDrop(file.name, file);\n            }\n          }\n          else {\n            //  >> WARNING not multiple file uploaded;\n            graph.options().warningModule().showMultiFileUploadWarning();\n          }\n        }\n      }\n      d3.select(\"#dragDropContainer\").classed(\"hidden\", true);\n    };\n    \n    node.node().ondragleave = function ( e ){\n      var w = graph.options().width();\n      var h = graph.options().height();\n      \n      // get event position; (using clientX and clientY);\n      var cx = e.clientX;\n      var cy = e.clientY;\n      \n      var hidden = false;\n      firstTime = false;\n      \n      if ( cx < 0.1 * w || cx > 0.9 * w ) hidden = true;\n      if ( cy < 0.1 * h || cy > 0.9 * h ) hidden = true;\n      d3.select(\"#dragDropContainer\").classed(\"hidden\", hidden);\n      \n      d3.select(\"#loading-info\").classed(\"hidden\", !wasMessageToShow); // show it again\n      // check if it should be visible\n      var should_show=graph.options().loadingModule().getMessageVisibilityStatus();\n      if (should_show===false){\n        d3.select(\"#loading-info\").classed(\"hidden\", true); // hide it\n      }\n    };\n    \n  }\n  \n  \n  app.initialize = function (){\n    addFileDropEvents(GRAPH_SELECTOR);\n    \n    window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function ( f ){\n        return setTimeout(f, 1000 / 60);\n      }; // simulate calling code 60\n    window.cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame || function ( requestID ){\n        clearTimeout(requestID);\n      }; //fall back\n    \n    options.graphContainerSelector(GRAPH_SELECTOR);\n    options.selectionModules().push(focuser);\n    options.selectionModules().push(selectionDetailDisplayer);\n    options.selectionModules().push(pickAndPin);\n    \n    options.filterModules().push(emptyLiteralFilter);\n    options.filterModules().push(statistics);\n    \n    options.filterModules().push(nodeDegreeFilter);\n    options.filterModules().push(datatypeFilter);\n    options.filterModules().push(objectPropertyFilter);\n    options.filterModules().push(subclassFilter);\n    options.filterModules().push(disjointFilter);\n    options.filterModules().push(setOperatorFilter);\n    options.filterModules().push(nodeScalingSwitch);\n    options.filterModules().push(compactNotationSwitch);\n    options.filterModules().push(colorExternalsSwitch);\n    \n    d3.select(window).on(\"resize\", adjustSize);\n    \n    exportMenu.setup();\n    gravityMenu.setup();\n    filterMenu.setup(datatypeFilter, objectPropertyFilter, subclassFilter, disjointFilter, setOperatorFilter, nodeDegreeFilter);\n    modeMenu.setup(pickAndPin, nodeScalingSwitch, compactNotationSwitch, colorExternalsSwitch);\n    pauseMenu.setup();\n    sidebar.setup();\n    loadingModule.setup();\n    leftSidebar.setup();\n    editSidebar.setup();\n    debugMenu.setup();\n    var agentVersion = getInternetExplorerVersion();\n    if ( agentVersion > 0 && agentVersion <= 11 ) {\n      console.log(\"Agent version \" + agentVersion);\n      console.log(\"This agent is not supported\");\n      d3.select(\"#browserCheck\").classed(\"hidden\", false);\n      d3.select(\"#killWarning\").classed(\"hidden\", true);\n      d3.select(\"#optionsArea\").classed(\"hidden\", true);\n      d3.select(\"#logo\").classed(\"hidden\", true);\n    } else {\n      d3.select(\"#logo\").classed(\"hidden\", false);\n      if ( agentVersion === 12 ) {\n        // allow Mircosoft Edge Browser but with warning\n        d3.select(\"#browserCheck\").classed(\"hidden\", false);\n        d3.select(\"#killWarning\").classed(\"hidden\", false);\n      } else {\n        d3.select(\"#browserCheck\").classed(\"hidden\", true);\n      }\n      \n      resetMenu.setup([gravityMenu, filterMenu, modeMenu, focuser, selectionDetailDisplayer, pauseMenu]);\n      searchMenu.setup();\n      navigationMenu.setup();\n      zoomSlider.setup();\n      \n      // give the options the pointer to the some menus for import and export\n      options.literalFilter(emptyLiteralFilter);\n      options.nodeDegreeFilter(nodeDegreeFilter);\n      options.loadingModule(loadingModule);\n      options.filterMenu(filterMenu);\n      options.modeMenu(modeMenu);\n      options.gravityMenu(gravityMenu);\n      options.pausedMenu(pauseMenu);\n      options.pickAndPinModule(pickAndPin);\n      options.resetMenu(resetMenu);\n      options.searchMenu(searchMenu);\n      options.ontologyMenu(ontologyMenu);\n      options.navigationMenu(navigationMenu);\n      options.sidebar(sidebar);\n      options.leftSidebar(leftSidebar);\n      options.editSidebar(editSidebar);\n      options.exportMenu(exportMenu);\n      options.graphObject(graph);\n      options.zoomSlider(zoomSlider);\n      options.warningModule(warningModule);\n      options.directInputModule(directInputMod);\n      options.datatypeFilter(datatypeFilter);\n      options.objectPropertyFilter(objectPropertyFilter);\n      options.subclassFilter(subclassFilter);\n      options.setOperatorFilter(setOperatorFilter);\n      options.disjointPropertyFilter(disjointFilter);\n      options.focuserModule(focuser);\n      options.colorExternalsModule(colorExternalsSwitch);\n      options.compactNotationModule(compactNotationSwitch);\n      \n      ontologyMenu.setup(loadOntologyFromText);\n      configMenu.setup();\n      \n      leftSidebar.showSidebar(0);\n      leftSidebar.hideCollapseButton(true);\n      \n      \n      graph.start();\n      \n      var modeOp = d3.select(\"#modeOfOperationString\");\n      modeOp.style(\"font-size\", \"0.6em\");\n      modeOp.style(\"font-style\", \"italic\");\n      \n      adjustSize();\n      var defZoom;\n      var w = graph.options().width();\n      var h = graph.options().height();\n      defZoom = Math.min(w, h) / 1000;\n      \n      var hideDebugOptions = true;\n      if ( hideDebugOptions === false ) {\n        graph.setForceTickFunctionWithFPS();\n      }\n      \n      graph.setDefaultZoom(defZoom);\n      d3.selectAll(\".debugOption\").classed(\"hidden\", hideDebugOptions);\n      \n      // prevent backspace reloading event\n      var htmlBody = d3.select(\"body\");\n      d3.select(document).on(\"keydown\", function ( e ){\n        if ( d3.event.keyCode === 8 && d3.event.target === htmlBody.node() ) {\n          // we could add here an alert\n          d3.event.preventDefault();\n        }\n        // using ctrl+Shift+d as debug option\n        if ( d3.event.ctrlKey && d3.event.shiftKey && d3.event.keyCode === 68 ) {\n          graph.options().executeHiddenDebugFeatuers();\n          d3.event.preventDefault();\n        }\n      });\n      if ( d3.select(\"#maxLabelWidthSliderOption\") ) {\n        var setValue = !graph.options().dynamicLabelWidth();\n        d3.select(\"#maxLabelWidthSlider\").node().disabled = setValue;\n        d3.select(\"#maxLabelWidthvalueLabel\").classed(\"disabledLabelForSlider\", setValue);\n        d3.select(\"#maxLabelWidthDescriptionLabel\").classed(\"disabledLabelForSlider\", setValue);\n      }\n      \n      d3.select(\"#blockGraphInteractions\").style(\"position\", \"absolute\")\n        .style(\"top\", \"0\")\n        .style(\"background-color\", \"#bdbdbd\")\n        .style(\"opacity\", \"0.5\")\n        .style(\"pointer-events\", \"auto\")\n        .style(\"width\", graph.options().width() + \"px\")\n        .style(\"height\", graph.options().height() + \"px\")\n        .on(\"click\", function (){\n          d3.event.preventDefault();\n          d3.event.stopPropagation();\n        })\n        .on(\"dblclick\", function (){\n          d3.event.preventDefault();\n          d3.event.stopPropagation();\n        });\n      \n      d3.select(\"#direct-text-input\").on(\"click\", function (){\n        directInputMod.setDirectInputMode();\n      });\n      d3.select(\"#blockGraphInteractions\").node().draggable = false;\n      options.prefixModule(webvowl.util.prefixTools(graph));\n      adjustSize();\n      sidebar.updateOntologyInformation(undefined, statistics);\n      loadingModule.parseUrlAndLoadOntology(); // loads automatically the ontology provided by the parameters\n      options.debugMenu(debugMenu);\n      debugMenu.updateSettings();\n      \n      // connect the reloadCachedVersionButton\n      d3.select(\"#reloadSvgIcon\").on(\"click\", function (){\n        if ( d3.select(\"#reloadSvgIcon\").node().disabled === true ) {\n          graph.options().ontologyMenu().clearCachedVersion();\n          return;\n        }\n        d3.select(\"#reloadCachedOntology\").classed(\"hidden\", true);\n        graph.options().ontologyMenu().reloadCachedOntology();\n        \n      });\n      // add the initialized objects\n      webvowl.opts = options;\n      webvowl.gr = graph;\n      \n    }\n  };\n  \n  \n  function loadOntologyFromText( jsonText, filename, alternativeFilename ){\n    d3.select(\"#reloadCachedOntology\").classed(\"hidden\", true);\n    pauseMenu.reset();\n    graph.options().navigationMenu().hideAllMenus();\n    \n    if ( (jsonText === undefined && filename === undefined) || (jsonText.length === 0) ) {\n      loadingModule.notValidJsonFile();\n      return;\n    }\n    graph.editorMode(); // updates the checkbox\n    var data;\n    if ( jsonText ) {\n      // validate JSON FILE\n      var validJSON;\n      try {\n        data = JSON.parse(jsonText);\n        validJSON = true;\n      } catch ( e ) {\n        validJSON = false;\n      }\n      if ( validJSON === false ) {\n        // the server output is not a valid json file\n        loadingModule.notValidJsonFile();\n        return;\n      }\n      \n      if ( !filename ) {\n        // First look if an ontology title exists, otherwise take the alternative filename\n        var ontologyNames = data.header ? data.header.title : undefined;\n        var ontologyName = languageTools.textInLanguage(ontologyNames);\n        \n        if ( ontologyName ) {\n          filename = ontologyName;\n        } else {\n          filename = alternativeFilename;\n        }\n      }\n    }\n    \n    \n    // check if we have graph data\n    var classCount = 0;\n    if ( data.class !== undefined ) {\n      classCount = data.class.length;\n    }\n    \n    var loadEmptyOntologyForEditing = false;\n    if ( location.hash.indexOf(\"#new_ontology\") !== -1 ) {\n      loadEmptyOntologyForEditing = true;\n      newOntologyCounter++;\n      d3.select(\"#empty\").node().href = \"#opts=editorMode=true;#new_ontology\" + newOntologyCounter;\n    }\n    if ( classCount === 0 && graph.editorMode() === false && loadEmptyOntologyForEditing === false ) {\n      // generate message for the user;\n      loadingModule.emptyGraphContentError();\n    } else {\n      loadingModule.validJsonFile();\n      ontologyMenu.setCachedOntology(filename, jsonText);\n      exportMenu.setJsonText(jsonText);\n      options.data(data);\n      graph.options().loadingModule().setPercentMode();\n      if ( loadEmptyOntologyForEditing === true ) {\n        graph.editorMode(true);\n        \n      }\n      graph.load();\n      sidebar.updateOntologyInformation(data, statistics);\n      exportMenu.setFilename(filename);\n      graph.updateZoomSliderValueFromOutside();\n      adjustSize();\n      \n      var flagOfCheckBox = d3.select(\"#editorModeModuleCheckbox\").node().checked;\n      graph.editorMode(flagOfCheckBox);// update gui\n      \n    }\n  }\n  \n  function adjustSize(){\n    var graphContainer = d3.select(GRAPH_SELECTOR),\n      svg = graphContainer.select(\"svg\"),\n      height = window.innerHeight - 40,\n      width = window.innerWidth - (window.innerWidth * 0.22);\n    \n    if ( sidebar.getSidebarVisibility() === \"0\" ) {\n      height = window.innerHeight - 40;\n      width = window.innerWidth;\n    }\n    \n    directInputMod.updateLayout();\n    d3.select(\"#blockGraphInteractions\").style(\"width\", window.innerWidth + \"px\");\n    d3.select(\"#blockGraphInteractions\").style(\"height\", window.innerHeight + \"px\");\n    \n    d3.select(\"#WarningErrorMessagesContainer\").style(\"width\", width + \"px\");\n    d3.select(\"#WarningErrorMessagesContainer\").style(\"height\", height + \"px\");\n    \n    d3.select(\"#WarningErrorMessages\").style(\"max-height\", (height - 12) + \"px\");\n    \n    graphContainer.style(\"height\", height + \"px\");\n    svg.attr(\"width\", width)\n      .attr(\"height\", height);\n    \n    options.width(width)\n      .height(height);\n    \n    graph.updateStyle();\n    \n    if ( isTouchDevice() === true ) {\n      if ( graph.isEditorMode() === true )\n        d3.select(\"#modeOfOperationString\").node().innerHTML = \"touch able device detected\";\n      graph.setTouchDevice(true);\n      \n    } else {\n      if ( graph.isEditorMode() === true )\n        d3.select(\"#modeOfOperationString\").node().innerHTML = \"point & click device detected\";\n      graph.setTouchDevice(false);\n    }\n    \n    d3.select(\"#loadingInfo-container\").style(\"height\", 0.5 * (height - 80) + \"px\");\n    loadingModule.checkForScreenSize();\n    \n    adjustSliderSize();\n    // update also the padding options of loading and the logo positions;\n    var warningDiv = d3.select(\"#browserCheck\");\n    if ( warningDiv.classed(\"hidden\") === false ) {\n      var offset = 10 + warningDiv.node().getBoundingClientRect().height;\n      d3.select(\"#logo\").style(\"padding\", offset + \"px 10px\");\n    } else {\n      // remove the dynamic padding from the logo element;\n      d3.select(\"#logo\").style(\"padding\", \"10px\");\n    }\n    \n    // scrollbar tests;\n    var element = d3.select(\"#menuElementContainer\").node();\n    var maxScrollLeft = element.scrollWidth - element.clientWidth;\n    var leftButton = d3.select(\"#scrollLeftButton\");\n    var rightButton = d3.select(\"#scrollRightButton\");\n    if ( maxScrollLeft > 0 ) {\n      // show both and then check how far is bar;\n      rightButton.classed(\"hidden\", false);\n      leftButton.classed(\"hidden\", false);\n      navigationMenu.updateScrollButtonVisibility();\n    } else {\n      // hide both;\n      rightButton.classed(\"hidden\", true);\n      leftButton.classed(\"hidden\", true);\n    }\n    \n    // adjust height of the leftSidebar element;\n    editSidebar.updateElementWidth();\n    \n    \n    var hs = d3.select(\"#drag_msg\").node().getBoundingClientRect().height;\n    var ws = d3.select(\"#drag_msg\").node().getBoundingClientRect().width;\n    d3.select(\"#drag_icon_group\").attr(\"transform\", \"translate ( \" + 0.25 * ws + \" \" + 0.25 * hs + \")\");\n    \n  }\n  \n  function adjustSliderSize(){\n    // TODO: refactor and put this into the slider it self\n    var height = window.innerHeight - 40;\n    var fullHeight = height;\n    var zoomOutPos = height - 30;\n    var sliderHeight = 150;\n    \n    // assuming DOM elements are generated in the index.html\n    // todo: refactor for independent usage of graph and app\n    if ( fullHeight < 150 ) {\n      // hide the slider button;\n      d3.select(\"#zoomSliderParagraph\").classed(\"hidden\", true);\n      d3.select(\"#zoomOutButton\").classed(\"hidden\", true);\n      d3.select(\"#zoomInButton\").classed(\"hidden\", true);\n      d3.select(\"#centerGraphButton\").classed(\"hidden\", true);\n      return;\n    }\n    d3.select(\"#zoomSliderParagraph\").classed(\"hidden\", false);\n    d3.select(\"#zoomOutButton\").classed(\"hidden\", false);\n    d3.select(\"#zoomInButton\").classed(\"hidden\", false);\n    d3.select(\"#centerGraphButton\").classed(\"hidden\", false);\n    \n    var zoomInPos = zoomOutPos - 20;\n    var centerPos = zoomInPos - 20;\n    if ( fullHeight < 280 ) {\n      // hide the slider button;\n      d3.select(\"#zoomSliderParagraph\").classed(\"hidden\", true);//var sliderPos=zoomOutPos-sliderHeight;\n      d3.select(\"#zoomOutButton\").style(\"top\", zoomOutPos + \"px\");\n      d3.select(\"#zoomInButton\").style(\"top\", zoomInPos + \"px\");\n      d3.select(\"#centerGraphButton\").style(\"top\", centerPos + \"px\");\n      return;\n    }\n    \n    var sliderPos = zoomOutPos - sliderHeight;\n    zoomInPos = sliderPos - 20;\n    centerPos = zoomInPos - 20;\n    d3.select(\"#zoomSliderParagraph\").classed(\"hidden\", false);\n    d3.select(\"#zoomOutButton\").style(\"top\", zoomOutPos + \"px\");\n    d3.select(\"#zoomInButton\").style(\"top\", zoomInPos + \"px\");\n    d3.select(\"#centerGraphButton\").style(\"top\", centerPos + \"px\");\n    d3.select(\"#zoomSliderParagraph\").style(\"top\", sliderPos + \"px\");\n  }\n  \n  function isTouchDevice(){\n    try {\n      document.createEvent(\"TouchEvent\");\n      return true;\n    } catch ( e ) {\n      return false;\n    }\n  }\n  \n  \n  function getInternetExplorerVersion(){\n    var ua,\n      re,\n      rv = -1;\n    \n    // check for edge\n    var isEdge = /(?:\\b(MS)?IE\\s+|\\bTrident\\/7\\.0;.*\\s+rv:|\\bEdge\\/)(\\d+)/.test(navigator.userAgent);\n    if ( isEdge ) {\n      rv = parseInt(\"12\");\n      return rv;\n    }\n    \n    var isIE11 = /Trident.*rv[ :]*11\\./.test(navigator.userAgent);\n    if ( isIE11 ) {\n      rv = parseInt(\"11\");\n      return rv;\n    }\n    if ( navigator.appName === \"Microsoft Internet Explorer\" ) {\n      ua = navigator.userAgent;\n      re = new RegExp(\"MSIE ([0-9]{1,}[\\\\.0-9]{0,})\");\n      if ( re.exec(ua) !== null ) {\n        rv = parseFloat(RegExp.$1);\n      }\n    } else if ( navigator.appName === \"Netscape\" ) {\n      ua = navigator.userAgent;\n      re = new RegExp(\"Trident/.*rv:([0-9]{1,}[\\\\.0-9]{0,})\");\n      if ( re.exec(ua) !== null ) {\n        rv = parseFloat(RegExp.$1);\n      }\n    }\n    return rv;\n  }\n  \n  return app;\n}\n;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/app.js\n// module id = 322\n// module chunks = 1","/**\n * Contains the logic for the export button.\n * @returns {{}}\n */\nmodule.exports = function ( graph ){\n  \n  var exportMenu = {},\n    exportSvgButton,\n    exportFilename,\n    exportJsonButton,\n    exportTurtleButton,\n    exportTexButton,\n    copyButton,\n    exportableJsonText;\n  \n  var exportTTLModule = require(\"./exportTTLModule\")(graph);\n  \n  \n  String.prototype.replaceAll = function ( search, replacement ){\n    var target = this;\n    return target.split(search).join(replacement);\n  };\n  \n  \n  /**\n   * Adds the export button to the website.\n   */\n  exportMenu.setup = function (){\n    exportSvgButton = d3.select(\"#exportSvg\")\n      .on(\"click\", exportSvg);\n    exportJsonButton = d3.select(\"#exportJson\")\n      .on(\"click\", exportJson);\n    \n    copyButton = d3.select(\"#copyBt\")\n      .on(\"click\", copyUrl);\n    \n    exportTexButton = d3.select(\"#exportTex\")\n      .on(\"click\", exportTex);\n    \n    exportTurtleButton = d3.select(\"#exportTurtle\")\n      .on(\"click\", exportTurtle);\n    \n    var menuEntry = d3.select(\"#m_export\");\n    menuEntry.on(\"mouseover\", function (){\n      var searchMenu = graph.options().searchMenu();\n      searchMenu.hideSearchEntries();\n      exportMenu.exportAsUrl();\n    });\n  };\n  function exportTurtle(){\n    var success = exportTTLModule.requestExport();\n    var result = exportTTLModule.resultingTTL_Content();\n    var ontoTitle = \"NewOntology\";\n    console.log(\"Exporter was successful: \" + success);\n    if ( success ) {\n      // console.log(\"The result is : \" + result);\n      // var ontoTitle=graph.options().getGeneralMetaObjectProperty('title');\n      // if (ontoTitle===undefined || ontoTitle.length===0)\n      // \tontoTitle=\"NewOntology\";\n      // else{\n      // \t// language object -.-\n      //    ontoTitle.replace(\" \",\"_\")\n      // }\n      \n      // TODO: show TEXT in warning module?\n      \n      \n      // // write the data\n      var dataURI = \"data:text/json;charset=utf-8,\" + encodeURIComponent(result);\n      \n      exportTurtleButton.attr(\"href\", dataURI)\n        .attr(\"download\", ontoTitle + \".ttl\");\n      \n      // okay restore old href?\n      //  exportTurtleButton.attr(\"href\", oldHref);\n    } else {\n      console.log(\"ShowWarning!\");\n      graph.options().warningModule().showExporterWarning();\n      console.log(\"Stay on the page! \" + window.location.href);\n      exportTurtleButton.attr(\"href\", window.location.href);\n      d3.event.preventDefault(); // prevent the href to be called ( reloads the page otherwise )\n    }\n  }\n  \n  exportMenu.setFilename = function ( filename ){\n    exportFilename = filename || \"export\";\n  };\n  \n  exportMenu.setJsonText = function ( jsonText ){\n    exportableJsonText = jsonText;\n  };\n  \n  function copyUrl(){\n    d3.select(\"#exportedUrl\").node().focus();\n    d3.select(\"#exportedUrl\").node().select();\n    document.execCommand(\"copy\");\n    graph.options().navigationMenu().hideAllMenus();\n    d3.event.preventDefault(); // prevent the href to be called ( reloads the page otherwise )\n  }\n  \n  function prepareOptionString( defOpts, currOpts ){\n    var setOptions = 0;\n    var optsString = \"opts=\";\n    \n    for ( var name in defOpts ) {\n      // define key and value ;\n      if ( defOpts.hasOwnProperty(name) ) {// for travis warning\n        var def_value = defOpts[name];\n        var cur_value = currOpts[name];\n        if ( def_value !== cur_value ) {\n          optsString += name + \"=\" + cur_value + \";\";\n          setOptions++;\n        }\n      }\n    }\n    optsString += \"\";\n    if ( setOptions === 0 ) {\n      return \"\";\n    }\n    return optsString;\n  }\n  \n  exportMenu.exportAsUrl = function (){\n    var currObj = {};\n    currObj.sidebar = graph.options().sidebar().getSidebarVisibility();\n    \n    // identify default value given by ontology;\n    var defOntValue = graph.options().filterMenu().getDefaultDegreeValue();\n    var currentValue = graph.options().filterMenu().getDegreeSliderValue();\n    if ( parseInt(defOntValue) === parseInt(currentValue) ) {\n      currObj.doc = -1;\n    } else {\n      currObj.doc = currentValue;\n    }\n    \n    currObj.cd = graph.options().classDistance();\n    currObj.dd = graph.options().datatypeDistance();\n    if ( graph.editorMode() === true ) {\n      currObj.editorMode = \"true\";\n    } else {\n      currObj.editorMode = \"false\";\n    }\n    currObj.filter_datatypes = String(graph.options().filterMenu().getCheckBoxValue(\"datatypeFilterCheckbox\"));\n    currObj.filter_sco = String(graph.options().filterMenu().getCheckBoxValue(\"subclassFilterCheckbox\"));\n    currObj.filter_disjoint = String(graph.options().filterMenu().getCheckBoxValue(\"disjointFilterCheckbox\"));\n    currObj.filter_setOperator = String(graph.options().filterMenu().getCheckBoxValue(\"setoperatorFilterCheckbox\"));\n    currObj.filter_objectProperties = String(graph.options().filterMenu().getCheckBoxValue(\"objectPropertyFilterCheckbox\"));\n    currObj.mode_dynamic = String(graph.options().dynamicLabelWidth());\n    currObj.mode_scaling = String(graph.options().modeMenu().getCheckBoxValue(\"nodescalingModuleCheckbox\"));\n    currObj.mode_compact = String(graph.options().modeMenu().getCheckBoxValue(\"compactnotationModuleCheckbox\"));\n    currObj.mode_colorExt = String(graph.options().modeMenu().getCheckBoxValue(\"colorexternalsModuleCheckbox\"));\n    currObj.mode_multiColor = String(graph.options().modeMenu().colorModeState());\n    currObj.mode_pnp = String(graph.options().modeMenu().getCheckBoxValue(\"pickandpinModuleCheckbox\"));\n    currObj.debugFeatures = String(!graph.options().getHideDebugFeatures());\n    currObj.rect = 0;\n    \n    var defObj = graph.options().initialConfig();\n    var optsString = prepareOptionString(defObj, currObj);\n    var urlString = String(location);\n    var htmlElement;\n    // when everything is default then there is nothing to write\n    if ( optsString.length === 0 ) {\n      // building up parameter list;\n      \n      // remove the all options form location\n      var hashCode = location.hash;\n      urlString = urlString.split(hashCode)[0];\n      \n      var lPos = hashCode.lastIndexOf(\"#\");\n      if ( lPos === -1 ) {\n        htmlElement = d3.select(\"#exportedUrl\").node();\n        htmlElement.value = String(location);\n        htmlElement.title = String(location);\n        return;  // nothing to change in the location String\n      }\n      var newURL = hashCode.slice(lPos, hashCode.length);\n      htmlElement = d3.select(\"#exportedUrl\").node();\n      htmlElement.value = urlString + newURL;\n      htmlElement.title = urlString + newURL;\n      return;\n    }\n    \n    // generate the options string;\n    var numParameters = (urlString.match(/#/g) || []).length;\n    var newUrlString;\n    if ( numParameters === undefined || numParameters === 0 ) {\n      newUrlString = urlString + \"#\" + optsString;\n    }\n    if ( numParameters > 0 ) {\n      var tokens = urlString.split(\"#\");\n      var i;\n      if ( tokens[1].indexOf(\"opts=\") >= 0 ) {\n        tokens[1] = optsString;\n        newUrlString = tokens[0];\n      } else {\n        newUrlString = tokens[0] + \"#\";\n        newUrlString += optsString;\n      }\n      // append parameters\n      for ( i = 1; i < tokens.length; i++ ) {\n        if ( tokens[i].length > 0 ) {\n          newUrlString += \"#\" + tokens[i];\n        }\n      }\n    }\n    // building up parameter list;\n    htmlElement = d3.select(\"#exportedUrl\").node();\n    htmlElement.value = newUrlString;\n    htmlElement.title = newUrlString;\n    \n  };\n  \n  function exportSvg(){\n    graph.options().navigationMenu().hideAllMenus();\n    // Get the d3js SVG element\n    var graphSvg = d3.select(graph.options().graphContainerSelector()).select(\"svg\"),\n      graphSvgCode,\n      escapedGraphSvgCode,\n      dataURI;\n    \n    // inline the styles, so that the exported svg code contains the css rules\n    inlineVowlStyles();\n    hideNonExportableElements();\n    \n    graphSvgCode = graphSvg.attr(\"version\", 1.1)\n      .attr(\"xmlns\", \"http://www.w3.org/2000/svg\")\n      .node().parentNode.innerHTML;\n    \n    // Insert the reference to VOWL\n    graphSvgCode = \"<!-- Created with WebVOWL (version \" + webvowl.version + \")\" +\n      \", http://vowl.visualdataweb.org -->\\n\" + graphSvgCode;\n    \n    escapedGraphSvgCode = escapeUnicodeCharacters(graphSvgCode);\n    //btoa(); Creates a base-64 encoded ASCII string from a \"string\" of binary data.\n    dataURI = \"data:image/svg+xml;base64,\" + btoa(escapedGraphSvgCode);\n    \n    \n    exportSvgButton.attr(\"href\", dataURI)\n      .attr(\"download\", exportFilename + \".svg\");\n    \n    // remove graphic styles for interaction to go back to normal\n    removeVowlInlineStyles();\n    showNonExportableElements();\n    graph.lazyRefresh();\n  }\n  \n  function escapeUnicodeCharacters( text ){\n    var textSnippets = [],\n      i, textLength = text.length,\n      character,\n      charCode;\n    \n    for ( i = 0; i < textLength; i++ ) {\n      character = text.charAt(i);\n      charCode = character.charCodeAt(0);\n      \n      if ( charCode < 128 ) {\n        textSnippets.push(character);\n      } else {\n        textSnippets.push(\"&#\" + charCode + \";\");\n      }\n    }\n    \n    return textSnippets.join(\"\");\n  }\n  \n  function inlineVowlStyles(){\n    setStyleSensitively(\".text\", [{ name: \"font-family\", value: \"Helvetica, Arial, sans-serif\" }, {\n      name: \"font-size\",\n      value: \"12px\"\n    }]);\n    setStyleSensitively(\".subtext\", [{ name: \"font-size\", value: \"9px\" }]);\n    setStyleSensitively(\".text.instance-count\", [{ name: \"fill\", value: \"#666\" }]);\n    setStyleSensitively(\".external + text .instance-count\", [{ name: \"fill\", value: \"#aaa\" }]);\n    setStyleSensitively(\".cardinality\", [{ name: \"font-size\", value: \"10px\" }]);\n    setStyleSensitively(\".text, .embedded\", [{ name: \"pointer-events\", value: \"none\" }]);\n    setStyleSensitively(\".class, .object, .disjoint, .objectproperty, .disjointwith, .equivalentproperty, .transitiveproperty, .functionalproperty, .inversefunctionalproperty, .symmetricproperty, .allvaluesfromproperty, .somevaluesfromproperty\", [{\n      name: \"fill\",\n      value: \"#acf\"\n    }]);\n    setStyleSensitively(\".label .datatype, .datatypeproperty\", [{ name: \"fill\", value: \"#9c6\" }]);\n    setStyleSensitively(\".rdf, .rdfproperty\", [{ name: \"fill\", value: \"#c9c\" }]);\n    setStyleSensitively(\".literal, .node .datatype\", [{ name: \"fill\", value: \"#fc3\" }]);\n    setStyleSensitively(\".deprecated, .deprecatedproperty\", [{ name: \"fill\", value: \"#ccc\" }]);\n    setStyleSensitively(\".external, .externalproperty\", [{ name: \"fill\", value: \"#36c\" }]);\n    setStyleSensitively(\"path, .nofill\", [{ name: \"fill\", value: \"none\" }]);\n    setStyleSensitively(\"marker path\", [{ name: \"fill\", value: \"#000\" }]);\n    setStyleSensitively(\".class, path, line, .fineline\", [{ name: \"stroke\", value: \"#000\" }]);\n    setStyleSensitively(\".white, .subclass, .subclassproperty, .external + text\", [{ name: \"fill\", value: \"#fff\" }]);\n    setStyleSensitively(\".class.hovered, .property.hovered, .cardinality.hovered, .cardinality.focused, circle.pin, .filled.hovered, .filled.focused\", [{\n      name: \"fill\",\n      value: \"#f00\"\n    }, { name: \"cursor\", value: \"pointer\" }]);\n    setStyleSensitively(\".focused, path.hovered\", [{ name: \"stroke\", value: \"#f00\" }]);\n    setStyleSensitively(\".indirect-highlighting, .feature:hover\", [{ name: \"fill\", value: \"#f90\" }]);\n    setStyleSensitively(\".values-from\", [{ name: \"stroke\", value: \"#69c\" }]);\n    setStyleSensitively(\".symbol, .values-from.filled\", [{ name: \"fill\", value: \"#69c\" }]);\n    setStyleSensitively(\".class, path, line\", [{ name: \"stroke-width\", value: \"2\" }]);\n    setStyleSensitively(\".fineline\", [{ name: \"stroke-width\", value: \"1\" }]);\n    setStyleSensitively(\".dashed, .anonymous\", [{ name: \"stroke-dasharray\", value: \"8\" }]);\n    setStyleSensitively(\".dotted\", [{ name: \"stroke-dasharray\", value: \"3\" }]);\n    setStyleSensitively(\"rect.focused, circle.focused\", [{ name: \"stroke-width\", value: \"4px\" }]);\n    setStyleSensitively(\".nostroke\", [{ name: \"stroke\", value: \"none\" }]);\n    setStyleSensitively(\"marker path\", [{ name: \"stroke-dasharray\", value: \"100\" }]);\n  }\n  \n  function setStyleSensitively( selector, styles ){\n    var elements = d3.selectAll(selector);\n    if ( elements.empty() ) {\n      return;\n    }\n    \n    styles.forEach(function ( style ){\n      elements.each(function (){\n        var element = d3.select(this);\n        if ( !shouldntChangeInlineCss(element, style.name) ) {\n          element.style(style.name, style.value);\n        }\n      });\n    });\n  }\n  \n  function shouldntChangeInlineCss( element, style ){\n    return style === \"fill\" && hasBackgroundColorSet(element);\n  }\n  \n  function hasBackgroundColorSet( element ){\n    var data = element.datum();\n    if ( data === undefined ) {\n      return false;\n    }\n    return data.backgroundColor && !!data.backgroundColor();\n  }\n  \n  /**\n   * For example the pin of the pick&pin module should be invisible in the exported graphic.\n   */\n  function hideNonExportableElements(){\n    d3.selectAll(\".hidden-in-export\").style(\"display\", \"none\");\n  }\n  \n  function removeVowlInlineStyles(){\n    d3.selectAll(\".text, .subtext, .text.instance-count, .external + text .instance-count, .cardinality, .text, .embedded, .class, .object, .disjoint, .objectproperty, .disjointwith, .equivalentproperty, .transitiveproperty, .functionalproperty, .inversefunctionalproperty, .symmetricproperty, .allvaluesfromproperty, .somevaluesfromproperty, .label .datatype, .datatypeproperty, .rdf, .rdfproperty, .literal, .node .datatype, .deprecated, .deprecatedproperty, .external, .externalproperty, path, .nofill, .symbol, .values-from.filled, marker path, .class, path, line, .fineline, .white, .subclass, .subclassproperty, .external + text, .class.hovered, .property.hovered, .cardinality.hovered, .cardinality.focused, circle.pin, .filled.hovered, .filled.focused, .focused, path.hovered, .indirect-highlighting, .feature:hover, .values-from, .class, path, line, .fineline, .dashed, .anonymous, .dotted, rect.focused, circle.focused, .nostroke, marker path\")\n      .each(function (){\n        var element = d3.select(this);\n        \n        var inlineStyles = element.node().style;\n        for ( var styleName in inlineStyles ) {\n          if ( inlineStyles.hasOwnProperty(styleName) ) {\n            if ( shouldntChangeInlineCss(element, styleName) ) {\n              continue;\n            }\n            element.style(styleName, null);\n          }\n        }\n        \n        if ( element.datum && element.datum() !== undefined && element.datum().type ) {\n          if ( element.datum().type() === \"rdfs:subClassOf\" ) {\n            element.style(\"fill\", null);\n          }\n        }\n      });\n    \n    // repair svg icons in the menu;\n    var scrollContainer = d3.select(\"#menuElementContainer\").node();\n    var controlElements = scrollContainer.children;\n    var numEntries = controlElements.length;\n    \n    for ( var i = 0; i < numEntries; i++ ) {\n      var currentMenu = controlElements[i].id;\n      d3.select(\"#\" + currentMenu).select(\"path\").style(\"stroke-width\", \"0\");\n      d3.select(\"#\" + currentMenu).select(\"path\").style(\"fill\", \"#fff\");\n    }\n    \n    d3.select(\"#magnifyingGlass\").style(\"stroke-width\", \"0\");\n    d3.select(\"#magnifyingGlass\").style(\"fill\", \"#666\");\n    \n  }\n  \n  function showNonExportableElements(){\n    d3.selectAll(\".hidden-in-export\").style(\"display\", null);\n  }\n  \n  exportMenu.createJSON_exportObject = function (){\n    var i, j, k; // an index variable for the for-loops\n    \n    /** get data for exporter **/\n      if (!graph.options().data()) {return {};} // return an empty json object\n      // extract onotology information;\n    var unfilteredData = graph.getUnfilteredData();\n    var ontologyComment = graph.options().data()._comment;\n    var metaObj = graph.options().getGeneralMetaObject();\n    var header = graph.options().data().header;\n    \n    if ( metaObj.iri && metaObj.iri !== header.iri ) {\n      header.iri = metaObj.iri;\n    }\n    if ( metaObj.title && metaObj.title !== header.title ) {\n      header.title = metaObj.title;\n    }\n    if ( metaObj.version && metaObj.version !== header.version ) {\n      header.version = metaObj.version;\n    }\n    if ( metaObj.author && metaObj.author !== header.author ) {\n      header.author = metaObj.author;\n    }\n    if ( metaObj.description && metaObj.description !== header.description ) {\n      header.description = metaObj.description;\n    }\n    \n    \n    var exportText = {};\n    exportText._comment = ontologyComment;\n    exportText.header = header;\n    exportText.namespace = graph.options().data().namespace;\n    if ( exportText.namespace === undefined ) {\n      exportText.namespace = []; // just an empty namespace array\n    }\n    // we do have now the unfiltered data which needs to be transfered to class/classAttribute and property/propertyAttribute\n    \n    \n    // var classAttributeString='classAttribute:[ \\n';\n    var nodes = unfilteredData.nodes;\n    var nLen = nodes.length; // hope for compiler unroll\n    var classObjects = [];\n    var classAttributeObjects = [];\n    for ( i = 0; i < nLen; i++ ) {\n      var classObj = {};\n      var classAttr = {};\n      classObj.id = nodes[i].id();\n      classObj.type = nodes[i].type();\n      classObjects.push(classObj);\n      \n      // define the attributes object\n      classAttr.id = nodes[i].id();\n      classAttr.iri = nodes[i].iri();\n      classAttr.baseIri = nodes[i].baseIri();\n      classAttr.label = nodes[i].label();\n      \n      if ( nodes[i].attributes().length > 0 ) {\n        classAttr.attributes = nodes[i].attributes();\n      }\n      if ( nodes[i].comment() ) {\n        classAttr.comment = nodes[i].comment();\n      }\n      if ( nodes[i].annotations() ) {\n        classAttr.annotations = nodes[i].annotations();\n      }\n      if ( nodes[i].description() ) {\n        classAttr.description = nodes[i].description();\n      }\n      \n      \n      if ( nodes[i].individuals().length > 0 ) {\n        var classIndividualElements = [];\n        var nIndividuals = nodes[i].individuals();\n        for ( j = 0; j < nIndividuals.length; j++ ) {\n          var indObj = {};\n          indObj.iri = nIndividuals[j].iri();\n          indObj.baseIri = nIndividuals[j].baseIri();\n          indObj.labels = nIndividuals[j].label();\n          if ( nIndividuals[j].annotations() ) {\n            indObj.annotations = nIndividuals[j].annotations();\n          }\n          if ( nIndividuals[j].description() ) {\n            indObj.description = nIndividuals[j].description();\n          }\n          if ( nIndividuals[j].comment() ) {\n            indObj.comment = nIndividuals[j].comment();\n          }\n          classIndividualElements.push(indObj);\n        }\n        classAttr.individuals = classIndividualElements;\n      }\n      \n      var equalsForAttributes = undefined;\n      if ( nodes[i].equivalents().length > 0 ) {\n        equalsForAttributes = [];\n        var equals = nodes[i].equivalents();\n        for ( j = 0; j < equals.length; j++ ) {\n          var eqObj = {};\n          var eqAttr = {};\n          eqObj.id = equals[j].id();\n          equalsForAttributes.push(equals[j].id());\n          eqObj.type = equals[j].type();\n          classObjects.push(eqObj);\n          \n          eqAttr.id = equals[j].id();\n          eqAttr.iri = equals[j].iri();\n          eqAttr.baseIri = equals[j].baseIri();\n          eqAttr.label = equals[j].label();\n          \n          if ( equals[j].attributes().length > 0 ) {\n            eqAttr.attributes = equals[j].attributes();\n          }\n          if ( equals[j].comment() ) {\n            eqAttr.comment = equals[j].comment();\n          }\n          if ( equals[j].individuals().length > 0 ) {\n            eqAttr.individuals = equals[j].individuals();\n          }\n          if ( equals[j].annotations() ) {\n            eqAttr.annotations = equals[j].annotations();\n          }\n          if ( equals[j].description() ) {\n            eqAttr.description = equals[j].description();\n          }\n          \n          if ( equals[j].individuals().length > 0 ) {\n            var e_classIndividualElements = [];\n            var e_nIndividuals = equals[i].individuals();\n            for ( k = 0; k < e_nIndividuals.length; k++ ) {\n              var e_indObj = {};\n              e_indObj.iri = e_nIndividuals[k].iri();\n              e_indObj.baseIri = e_nIndividuals[k].baseIri();\n              e_indObj.labels = e_nIndividuals[k].label();\n              \n              if ( e_nIndividuals[k].annotations() ) {\n                e_indObj.annotations = e_nIndividuals[k].annotations();\n              }\n              if ( e_nIndividuals[k].description() ) {\n                e_indObj.description = e_nIndividuals[k].description();\n              }\n              if ( e_nIndividuals[k].comment() ) {\n                e_indObj.comment = e_nIndividuals[k].comment();\n              }\n              e_classIndividualElements.push(e_indObj);\n            }\n            eqAttr.individuals = e_classIndividualElements;\n          }\n          \n          classAttributeObjects.push(eqAttr);\n        }\n      }\n      if ( equalsForAttributes && equalsForAttributes.length > 0 ) {\n        classAttr.equivalent = equalsForAttributes;\n      }\n      \n      // classAttr.subClasses=nodes[i].subClasses(); // not needed\n      // classAttr.instances=nodes[i].instances();\n      \n      //\n      // .complement(element.complement)\n      // .disjointUnion(element.disjointUnion)\n      // .description(element.description)\n      // .equivalents(element.equivalent)\n      // .intersection(element.intersection)\n      // .type(element.type) Ignore, because we predefined it\n      // .union(element.union)\n      classAttributeObjects.push(classAttr);\n    }\n    \n    /** -- properties -- **/\n    var properties = unfilteredData.properties;\n    var pLen = properties.length; // hope for compiler unroll\n    var propertyObjects = [];\n    var propertyAttributeObjects = [];\n    \n    for ( i = 0; i < pLen; i++ ) {\n      var pObj = {};\n      var pAttr = {};\n      pObj.id = properties[i].id();\n      pObj.type = properties[i].type();\n      propertyObjects.push(pObj);\n      \n      // // define the attributes object\n      pAttr.id = properties[i].id();\n      pAttr.iri = properties[i].iri();\n      pAttr.baseIri = properties[i].baseIri();\n      pAttr.label = properties[i].label();\n      \n      if ( properties[i].attributes().length > 0 ) {\n        pAttr.attributes = properties[i].attributes();\n      }\n      if ( properties[i].comment() ) {\n        pAttr.comment = properties[i].comment();\n      }\n      \n      if ( properties[i].annotations() ) {\n        pAttr.annotations = properties[i].annotations();\n      }\n      if ( properties[i].maxCardinality() ) {\n        pAttr.maxCardinality = properties[i].maxCardinality();\n      }\n      if ( properties[i].minCardinality() ) {\n        pAttr.minCardinality = properties[i].minCardinality();\n      }\n      if ( properties[i].cardinality() ) {\n        pAttr.cardinality = properties[i].cardinality();\n      }\n      if ( properties[i].description() ) {\n        pAttr.description = properties[i].description();\n      }\n      \n      pAttr.domain = properties[i].domain().id();\n      pAttr.range = properties[i].range().id();\n      // sub properties;\n      if ( properties[i].subproperties() ) {\n        var subProps = properties[i].subproperties();\n        var subPropsIdArray = [];\n        for ( j = 0; j < subProps.length; j++ ) {\n          if ( subProps[j].id )\n            subPropsIdArray.push(subProps[j].id());\n        }\n        pAttr.subproperty = subPropsIdArray;\n      }\n      \n      // super properties\n      if ( properties[i].superproperties() ) {\n        var superProps = properties[i].superproperties();\n        var superPropsIdArray = [];\n        for ( j = 0; j < superProps.length; j++ ) {\n          if ( superProps[j].id )\n            superPropsIdArray.push(superProps[j].id());\n        }\n        pAttr.superproperty = superPropsIdArray;\n      }\n      \n      // check for inverse element\n      if ( properties[i].inverse() ) {\n        if ( properties[i].inverse().id )\n          pAttr.inverse = properties[i].inverse().id();\n      }\n      propertyAttributeObjects.push(pAttr);\n    }\n    \n    exportText.class = classObjects;\n    exportText.classAttribute = classAttributeObjects;\n    exportText.property = propertyObjects;\n    exportText.propertyAttribute = propertyAttributeObjects;\n    \n    \n    var nodeElements = graph.graphNodeElements();  // get visible nodes\n    var propElements = graph.graphLabelElements(); // get visible labels\n    // var jsonObj = JSON.parse(exportableJsonText);\t   // reparse the original input json\n    \n    /** modify comment **/\n    var comment = exportText._comment;\n    var additionalString = \" [Additional Information added by WebVOWL Exporter Version: \" + \"@@WEBVOWL_VERSION\" + \"]\";\n    // adding new string to comment only if it does not exist\n    if ( comment.indexOf(additionalString) === -1 ) {\n      exportText._comment = comment + \" [Additional Information added by WebVOWL Exporter Version: \" + \"@@WEBVOWL_VERSION\" + \"]\";\n    }\n    \n    var classAttribute = exportText.classAttribute;\n    var propAttribute = exportText.propertyAttribute;\n    /**  remove previously stored variables **/\n    for ( i = 0; i < classAttribute.length; i++ ) {\n      var classObj_del = classAttribute[i];\n      delete classObj_del.pos;\n      delete classObj_del.pinned;\n    }\n    var propertyObj;\n    for ( i = 0; i < propAttribute.length; i++ ) {\n      propertyObj = propAttribute[i];\n      delete propertyObj.pos;\n      delete propertyObj.pinned;\n    }\n    /**  add new variables to jsonObj  **/\n    // class attribute variables\n    nodeElements.each(function ( node ){\n      var nodeId = node.id();\n      for ( i = 0; i < classAttribute.length; i++ ) {\n        var classObj = classAttribute[i];\n        if ( classObj.id === nodeId ) {\n          // store relative positions\n          classObj.pos = [parseFloat(node.x.toFixed(2)), parseFloat(node.y.toFixed(2))];\n          if ( node.pinned() )\n            classObj.pinned = true;\n          break;\n        }\n      }\n    });\n    // property attribute variables\n    for ( j = 0; j < propElements.length; j++ ) {\n      var correspondingProp = propElements[j].property();\n      for ( i = 0; i < propAttribute.length; i++ ) {\n        propertyObj = propAttribute[i];\n        if ( propertyObj.id === correspondingProp.id() ) {\n          propertyObj.pos = [parseFloat(propElements[j].x.toFixed(2)), parseFloat(propElements[j].y.toFixed(2))];\n          if ( propElements[j].pinned() )\n            propertyObj.pinned = true;\n          break;\n        }\n      }\n    }\n    /** create the variable for settings and set their values **/\n    exportText.settings = {};\n    \n    // Global Settings\n    var zoom = graph.scaleFactor();\n    var paused = graph.paused();\n    var translation = [parseFloat(graph.translation()[0].toFixed(2)), parseFloat(graph.translation()[1].toFixed(2))];\n    exportText.settings.global = {};\n    exportText.settings.global.zoom = zoom.toFixed(2);\n    exportText.settings.global.translation = translation;\n    exportText.settings.global.paused = paused;\n    \n    // shared variable declaration\n    var cb_text;\n    var isEnabled;\n    var cb_obj;\n    \n    // Gravity Settings\n    var classDistance = graph.options().classDistance();\n    var datatypeDistance = graph.options().datatypeDistance();\n    exportText.settings.gravity = {};\n    exportText.settings.gravity.classDistance = classDistance;\n    exportText.settings.gravity.datatypeDistance = datatypeDistance;\n    \n    // Filter Settings\n    var fMenu = graph.options().filterMenu();\n    var fContainer = fMenu.getCheckBoxContainer();\n    var cbCont = [];\n    for ( i = 0; i < fContainer.length; i++ ) {\n      cb_text = fContainer[i].checkbox.attr(\"id\");\n      isEnabled = fContainer[i].checkbox.property(\"checked\");\n      cb_obj = {};\n      cb_obj.id = cb_text;\n      cb_obj.checked = isEnabled;\n      cbCont.push(cb_obj);\n    }\n    var degreeSliderVal = fMenu.getDegreeSliderValue();\n    exportText.settings.filter = {};\n    exportText.settings.filter.checkBox = cbCont;\n    exportText.settings.filter.degreeSliderValue = degreeSliderVal;\n    \n    // Modes Settings\n    var mMenu = graph.options().modeMenu();\n    var mContainer = mMenu.getCheckBoxContainer();\n    var cb_modes = [];\n    for ( i = 0; i < mContainer.length; i++ ) {\n      cb_text = mContainer[i].attr(\"id\");\n      isEnabled = mContainer[i].property(\"checked\");\n      cb_obj = {};\n      cb_obj.id = cb_text;\n      cb_obj.checked = isEnabled;\n      cb_modes.push(cb_obj);\n    }\n    var colorSwitchState = mMenu.colorModeState();\n    exportText.settings.modes = {};\n    exportText.settings.modes.checkBox = cb_modes;\n    exportText.settings.modes.colorSwitchState = colorSwitchState;\n    \n    var exportObj = {};\n    // todo: [ ] find better way for ordering the objects\n    // hack for ordering of objects, so settings is after metrics\n    exportObj._comment = exportText._comment;\n    exportObj.header = exportText.header;\n    exportObj.namespace = exportText.namespace;\n    exportObj.metrics = exportText.metrics;\n    exportObj.settings = exportText.settings;\n    exportObj.class = exportText.class;\n    exportObj.classAttribute = exportText.classAttribute;\n    exportObj.property = exportText.property;\n    exportObj.propertyAttribute = exportText.propertyAttribute;\n    \n    return exportObj;\n  };\n  \n  function exportJson(){\n    graph.options().navigationMenu().hideAllMenus();\n    /**  check if there is data **/\n    if ( !exportableJsonText ) {\n      alert(\"No graph data available.\");\n      // Stop the redirection to the path of the href attribute\n      d3.event.preventDefault();\n      return;\n    }\n    \n    var exportObj = exportMenu.createJSON_exportObject();\n    \n    // make a string again;\n    var exportText = JSON.stringify(exportObj, null, '  ');\n    // write the data\n    var dataURI = \"data:text/json;charset=utf-8,\" + encodeURIComponent(exportText);\n    var jsonExportFileName = exportFilename;\n    \n    if ( !jsonExportFileName.endsWith(\".json\") )\n      jsonExportFileName += \".json\";\n    exportJsonButton.attr(\"href\", dataURI)\n      .attr(\"download\", jsonExportFileName);\n  }\n  \n  var curveFunction = d3.svg.line()\n    .x(function ( d ){\n      return d.x;\n    })\n    .y(function ( d ){\n      return d.y;\n    })\n    .interpolate(\"cardinal\");\n  var loopFunction = d3.svg.line()\n    .x(function ( d ){\n      return d.x;\n    })\n    .y(function ( d ){\n      return d.y;\n    })\n    .interpolate(\"cardinal\")\n    .tension(-1);\n  \n  function exportTex(){\n    var zoom = graph.scaleFactor();\n    var grTranslate = graph.translation();\n    var bbox = graph.getBoundingBoxForTex();\n    var comment = \" %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\\n\";\n    comment += \" %        Generated with the experimental alpha version of the TeX exporter of WebVOWL (version 1.1.3) %%% \\n\";\n    comment += \" %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\\n\\n\";\n    comment += \" %   The content can be used as import in other TeX documents. \\n\";\n    comment += \" %   Parent document has to use the following packages   \\n\";\n    comment += \" %   \\\\usepackage{tikz}  \\n\";\n    comment += \" %   \\\\usepackage{helvet}  \\n\";\n    comment += \" %   \\\\usetikzlibrary{decorations.markings,decorations.shapes,decorations,arrows,automata,backgrounds,petri,shapes.geometric}  \\n\";\n    comment += \" %   \\\\usepackage{xcolor}  \\n\\n\";\n    comment += \" %%%%%%%%%%%%%%% Example Parent Document %%%%%%%%%%%%%%%%%%%%%%%\\n\";\n    comment += \" %\\\\documentclass{article} \\n\";\n    comment += \" %\\\\usepackage{tikz} \\n\";\n    comment += \" %\\\\usepackage{helvet} \\n\";\n    comment += \" %\\\\usetikzlibrary{decorations.markings,decorations.shapes,decorations,arrows,automata,backgrounds,petri,shapes.geometric} \\n\";\n    comment += \" %\\\\usepackage{xcolor} \\n\\n\";\n    comment += \" %\\\\begin{document} \\n\";\n    comment += \" %\\\\section{Example} \\n\";\n    comment += \" %  This is an example. \\n\";\n    comment += \" %  \\\\begin{figure} \\n\";\n    comment += \" %    \\\\input{<THIS_FILE_NAME>} % << tex file name for the graph \\n\";\n    comment += \" %    \\\\caption{A generated graph with TKIZ using alpha version of the TeX exporter of WebVOWL (version 1.1.3) } \\n\";\n    comment += \" %  \\\\end{figure} \\n\";\n    comment += \" %\\\\end{document} \\n\";\n    comment += \" %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\\n\\n\";\n    \n    \n    var texString = comment + \"\\\\definecolor{imageBGCOLOR}{HTML}{FFFFFF} \\n\" +\n      \"\\\\definecolor{owlClassColor}{HTML}{AACCFF}\\n\" +\n      \"\\\\definecolor{owlObjectPropertyColor}{HTML}{AACCFF}\\n\" +\n      \"\\\\definecolor{owlExternalClassColor}{HTML}{AACCFF}\\n\" +\n      \"\\\\definecolor{owlDatatypePropertyColor}{HTML}{99CC66}\\n\" +\n      \"\\\\definecolor{owlDatatypeColor}{HTML}{FFCC33}\\n\" +\n      \"\\\\definecolor{owlThingColor}{HTML}{FFFFFF}\\n\" +\n      \"\\\\definecolor{valuesFrom}{HTML}{6699CC}\\n\" +\n      \"\\\\definecolor{rdfPropertyColor}{HTML}{CC99CC}\\n\" +\n      \"\\\\definecolor{unionColor}{HTML}{6699cc}\\n\" +\n      \"\\\\begin{center} \\n\" +\n      \"\\\\resizebox{\\\\linewidth}{!}{\\n\" +\n      \n      \"\\\\begin{tikzpicture}[framed]\\n\" +\n      \"\\\\clip (\" + bbox[0] + \"pt , \" + bbox[1] + \"pt ) rectangle (\" + bbox[2] + \"pt , \" + bbox[3] + \"pt);\\n\" +\n      \"\\\\tikzstyle{dashed}=[dash pattern=on 4pt off 4pt] \\n\" +\n      \"\\\\tikzstyle{dotted}=[dash pattern=on 2pt off 2pt] \\n\" +\n      \"\\\\fontfamily{sans-serif}{\\\\fontsize{12}{12}\\\\selectfont}\\n \\n\";\n    \n    \n    texString += \"\\\\tikzset{triangleBlack/.style = {fill=black, draw=black, line width=1pt,scale=0.7,regular polygon, regular polygon sides=3} }\\n\";\n    texString += \"\\\\tikzset{triangleWhite/.style = {fill=white, draw=black, line width=1pt,scale=0.7,regular polygon, regular polygon sides=3} }\\n\";\n    texString += \"\\\\tikzset{triangleBlue/.style  = {fill=valuesFrom, draw=valuesFrom, line width=1pt,scale=0.7,regular polygon, regular polygon sides=3} }\\n\";\n    \n    texString += \"\\\\tikzset{Diamond/.style = {fill=white, draw=black, line width=2pt,scale=1.2,regular polygon, regular polygon sides=4} }\\n\";\n    \n    \n    texString += \"\\\\tikzset{Literal/.style={rectangle,align=center,\\n\" +\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\n      \"black, draw=black, dashed, line width=1pt, fill=owlDatatypeColor, minimum width=80pt,\\n\" +\n      \"minimum height = 20pt}}\\n\\n\";\n    \n    texString += \"\\\\tikzset{Datatype/.style={rectangle,align=center,\\n\" +\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\n      \"black, draw=black, line width=1pt, fill=owlDatatypeColor, minimum width=80pt,\\n\" +\n      \"minimum height = 20pt}}\\n\\n\";\n    \n    \n    texString += \"\\\\tikzset{owlClass/.style={circle, inner sep=0mm,align=center, \\n\" +\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\n      \"black, draw=black, line width=1pt, fill=owlClassColor, minimum size=101pt}}\\n\\n\";\n    \n    texString += \"\\\\tikzset{anonymousClass/.style={circle, inner sep=0mm,align=center, \\n\" +\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\n      \"black, dashed, draw=black, line width=1pt, fill=owlClassColor, minimum size=101pt}}\\n\\n\";\n    \n    \n    texString += \"\\\\tikzset{owlThing/.style={circle, inner sep=0mm,align=center,\\n\" +\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\n      \"black, dashed, draw=black, line width=1pt, fill=owlThingColor, minimum size=62pt}}\\n\\n\";\n    \n    \n    texString += \"\\\\tikzset{owlObjectProperty/.style={rectangle,align=center,\\n\" +\n      \"inner sep=0mm,\\n\" +\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\n      \"fill=owlObjectPropertyColor, minimum width=80pt,\\n\" +\n      \"minimum height = 25pt}}\\n\\n\";\n    \n    texString += \"\\\\tikzset{rdfProperty/.style={rectangle,align=center,\\n\" +\n      \"inner sep=0mm,\\n\" +\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\n      \"fill=rdfPropertyColor, minimum width=80pt,\\n\" +\n      \"minimum height = 25pt}}\\n\\n\";\n    \n    \n    texString += \"\\\\tikzset{owlDatatypeProperty/.style={rectangle,align=center,\\n\" +\n      \"fill=owlDatatypePropertyColor, minimum width=80pt,\\n\" +\n      \"inner sep=0mm,\\n\" +\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\n      \"minimum height = 25pt}}\\n\\n\";\n    \n    texString += \"\\\\tikzset{rdfsSubClassOf/.style={rectangle,align=center,\\n\" +\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\n      \"inner sep=0mm,\\n\" +\n      \"fill=imageBGCOLOR, minimum width=80pt,\\n\" +\n      \"minimum height = 25pt}}\\n\\n\";\n    \n    texString += \"\\\\tikzset{unionOf/.style={circle, inner sep=0mm,align=center,\\n\" +\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\n      \"black, draw=black, line width=1pt, fill=unionColor, minimum size=25pt}}\\n\\n\";\n    \n    texString += \"\\\\tikzset{disjointWith/.style={circle, inner sep=0mm,align=center,\\n\" +\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\n      \"black, draw=black, line width=1pt, fill=unionColor, minimum size=20pt}}\\n\\n\";\n    \n    \n    texString += \"\\\\tikzset{owlEquivalentClass/.style={circle,align=center,\\n\" +\n      \"font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },\\n\" +\n      \"inner sep=0mm,\\n\" +\n      \"black, solid, draw=black, line width=3pt, fill=owlExternalClassColor, minimum size=101pt,\\n\" +\n      \"postaction = {draw,line width=1pt, white}}}\\n\\n\";\n    \n    // draw a bounding box;\n    \n    // get bbox coordinates;\n    \n    \n    graph.options().navigationMenu().hideAllMenus();\n    /**  check if there is data **/\n    if ( !exportableJsonText ) {\n      alert(\"No graph data available.\");\n      // Stop the redirection to the path of the href attribute\n      d3.event.preventDefault();\n      return;\n    }\n    \n    var i = 0, identifier;\n    \n    /** get data for exporter **/\n    var nodeElements = graph.graphNodeElements();  // get visible nodes\n    var propElements = graph.graphLabelElements(); // get visible labels\n    var links = graph.graphLinkElements();\n    \n    // export only nodes;\n    // draw Links;\n    for ( i = 0; i < links.length; i++ ) {\n      var link = links[i];\n      // console.log(\"\\n****************\\nInverstigating Link for property \"+link.property().labelForCurrentLanguage());\n      \n      var prop = link.property();\n      var dx, dy, px, py, rx, ry;\n      var colorStr = \"black\";\n      var linkDomainIntersection;\n      var linkRangeIntersection;\n      var center;\n      var linkStyle = \"\";\n      var isLoop = \"\";\n      var curvePoint;\n      var pathStart;\n      var pathEnd;\n      var controlPoints;\n      var len;\n      var ahAngle;\n      var pathLen;\n      var markerOffset = 7;\n      \n      var arrowType = \"triangleBlack\";\n      var linkWidth = \",line width=2pt\";\n      if ( prop.linkType ) {\n        if ( prop.linkType() === \"dotted\" ) {\n          //stroke-dasharray: 3;\n          linkStyle = \", dotted \";\n          arrowType = \"triangleWhite\";\n        }\n        if ( prop.linkType() === \"dashed\" ) {\n          //stroke-dasharray: 3;\n          linkStyle = \", dashed \";\n        }\n        \n        if ( prop.linkType() === \"values-from\" ) {\n          colorStr = \"valuesFrom\";\n        }\n        \n      }\n      \n      var startX, startY, endX, endY, normX, normY, lg;\n      \n      if ( link.layers().length === 1 && !link.loops() ) {\n        \n        linkDomainIntersection = graph.math().calculateIntersection(link.range(), link.domain(), 1);\n        linkRangeIntersection = graph.math().calculateIntersection(link.domain(), link.range(), 1);\n        center = graph.math().calculateCenter(linkDomainIntersection, linkRangeIntersection);\n        dx = linkDomainIntersection.x;\n        dy = -linkDomainIntersection.y;\n        px = center.x;\n        py = -center.y;\n        rx = linkRangeIntersection.x;\n        ry = -linkRangeIntersection.y;\n        \n        \n        pathStart = linkDomainIntersection;\n        curvePoint = center;\n        pathEnd = linkRangeIntersection;\n        \n        var nx = rx - px;\n        var ny = ry - py;\n        \n        // normalize ;\n        len = Math.sqrt(nx * nx + ny * ny);\n        \n        nx = nx / len;\n        ny = ny / len;\n        \n        ahAngle = Math.atan2(ny, nx) * (180 / Math.PI);\n        normX = nx;\n        normY = ny;\n      }\n      else {\n        if ( link.isLoop() ) {\n          isLoop = \", tension=3\";\n          controlPoints = graph.math().calculateLoopPoints(link);\n          pathStart = controlPoints[0];\n          curvePoint = controlPoints[1];\n          pathEnd = controlPoints[2];\n        } else {\n          curvePoint = link.label();\n          pathStart = graph.math().calculateIntersection(curvePoint, link.domain(), 1);\n          pathEnd = graph.math().calculateIntersection(curvePoint, link.range(), 1);\n        }\n        dx = pathStart.x;\n        dy = -pathStart.y;\n        px = curvePoint.x;\n        py = -curvePoint.y;\n        rx = pathEnd.x;\n        ry = -pathEnd.y;\n      }\n      \n      texString += \"\\\\draw [\" + colorStr + linkStyle + linkWidth + isLoop + \"] plot [smooth] coordinates {(\" +\n        dx + \"pt, \" + dy + \"pt) (\" + px + \"pt, \" + py + \"pt)  (\" + rx + \"pt, \" + ry + \"pt)};\\n\";\n      \n      \n      if ( link.property().markerElement() === undefined ) continue;\n      \n      // add arrow head;\n      \n      \n      if ( link.property().type() === \"owl:someValuesFrom\" || link.property().type() === \"owl:allValuesFrom\" ) {\n        arrowType = \"triangleBlue\";\n      }\n      \n      lg = link.pathObj();\n      pathLen = Math.floor(lg.node().getTotalLength());\n      var p1 = lg.node().getPointAtLength(pathLen - 4);\n      var p2 = lg.node().getPointAtLength(pathLen);\n      var markerCenter = lg.node().getPointAtLength(pathLen - 6);\n      \n      if ( link.property().type() === \"setOperatorProperty\" ) {\n        p1 = lg.node().getPointAtLength(4);\n        p2 = lg.node().getPointAtLength(0);\n        markerCenter = lg.node().getPointAtLength(8);\n        arrowType = \"Diamond\";\n      }\n      \n      startX = p1.x;\n      startY = p1.y;\n      endX = p2.x;\n      endY = p2.y;\n      normX = endX - startX;\n      normY = endY - startY;\n      len = Math.sqrt(normX * normX + normY * normY);\n      normX = normX / len;\n      normY = normY / len;\n      \n      ahAngle = -1.0 * Math.atan2(normY, normX) * (180 / Math.PI);\n      ahAngle -= 90;\n      if ( link.property().type() === \"setOperatorProperty\" ) {\n        ahAngle -= 45;\n      }\n      // console.log(link.property().labelForCurrentLanguage()+ \": \"+normX+ \" \"+normY +\"  \"+ahAngle);\n      rx = markerCenter.x;\n      ry = markerCenter.y;\n      if ( link.layers().length === 1 && !link.loops() ) {\n        // markerOffset=-1*m\n        ry = -1 * ry;\n        texString += \"\\\\node[\" + arrowType + \", rotate=\" + ahAngle + \"] at (\" + rx + \"pt, \" + ry + \"pt)   (single_marker\" + i + \") {};\\n \";\n      } else {\n        ry = -1 * ry;\n        texString += \"\\\\node[\" + arrowType + \", rotate=\" + ahAngle + \"] at (\" + rx + \"pt, \" + ry + \"pt)   (marker\" + i + \") {};\\n \";\n      }\n      \n      // if   (link.isLoop()){\n      //    rotAngle=-10+angle * (180 / Math.PI);\n      // }\n      \n      // add cardinality;\n      var cardinalityText = link.property().generateCardinalityText();\n      if ( cardinalityText && cardinalityText.length > 0 ) {\n        var cardinalityCenter = lg.node().getPointAtLength(pathLen - 18);\n        var cx = cardinalityCenter.x - (10 * normY);\n        var cy = cardinalityCenter.y + (10 * normX); // using orthonormal y Coordinate\n        cy *= -1.0;\n        var textColor = \"black\";\n        if ( cardinalityText.indexOf(\"A\") > -1 ) {\n          cardinalityText = \"$\\\\forall$\";\n        }\n        if ( cardinalityText.indexOf(\"E\") > -1 ) {\n          cardinalityText = \"$\\\\exists$\";\n        }\n        \n        \n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily },text=\" + textColor + \"] at (\" + cx + \"pt, \" + cy + \"pt)   (cardinalityText\" + i + \") {\" + cardinalityText + \"};\\n \";\n      }\n      \n      \n      if ( link.property().inverse() ) {\n        lg = link.pathObj();\n        pathLen = Math.floor(lg.node().getTotalLength());\n        var p1_inv = lg.node().getPointAtLength(4);\n        var p2_inv = lg.node().getPointAtLength(0);\n        var markerCenter_inv = lg.node().getPointAtLength(6);\n        startX = p1_inv.x;\n        startY = p1_inv.y;\n        endX = p2_inv.x;\n        endY = p2_inv.y;\n        normX = endX - startX;\n        normY = endY - startY;\n        len = Math.sqrt(normX * normX + normY * normY);\n        normX = normX / len;\n        normY = normY / len;\n        \n        ahAngle = -1.0 * Math.atan2(normY, normX) * (180 / Math.PI);\n        ahAngle -= 90;\n        //   console.log(\"INV>>\\n \"+link.property().inverse().labelForCurrentLanguage()+ \": \"+normX+ \" \"+normY +\"  \"+ahAngle);\n        rx = markerCenter_inv.x;\n        ry = markerCenter_inv.y;\n        if ( link.layers().length === 1 && !link.loops() ) {\n          // markerOffset=-1*m\n          ry = -1 * ry;\n          texString += \"\\\\node[\" + arrowType + \", rotate=\" + ahAngle + \"] at (\" + rx + \"pt, \" + ry + \"pt)   (INV_single_marker\" + i + \") {};\\n \";\n        } else {\n          ry = -1 * ry;\n          texString += \"\\\\node[\" + arrowType + \", rotate=\" + ahAngle + \"] at (\" + rx + \"pt, \" + ry + \"pt)   (INV_marker\" + i + \") {};\\n \";\n        }\n      }\n      \n      \n    }\n    \n    \n    nodeElements.each(function ( node ){\n      \n      px = node.x;\n      py = -node.y;\n      identifier = node.labelForCurrentLanguage();\n      // console.log(\"Writing : \"+ identifier);\n      if ( identifier === undefined ) identifier = \"\";\n      var qType = \"owlClass\";\n      if ( node.type() === \"owl:Thing\" || node.type() === \"owl:Nothing\" )\n        qType = \"owlThing\";\n      \n      if ( node.type() === \"owl:equivalentClass\" ) {\n        qType = \"owlEquivalentClass\";\n      }\n      var textColorStr = \"\";\n      if ( node.textBlock ) {\n        var txtColor = node.textBlock()._textBlock().style(\"fill\");\n        if ( txtColor === \"rgb(0, 0, 0)\" ) {\n          textColorStr = \", text=black\";\n        }\n        if ( txtColor === \"rgb(255, 255, 255)\" ) {\n          textColorStr = \", text=white\";\n        }\n        \n        \n        var tspans = node.textBlock()._textBlock().node().children;\n        if ( tspans[0] ) {\n          identifier = tspans[0].innerHTML;\n          if ( node.individuals() && node.individuals().length === parseInt(tspans[0].innerHTML) ) {\n            identifier = \"{\\\\color{gray} \" + tspans[0].innerHTML + \" }\";\n          }\n          for ( var t = 1; t < tspans.length; t++ ) {\n            if ( node.individuals() && node.individuals().length === parseInt(tspans[t].innerHTML) ) {\n              identifier += \"\\\\\\\\ {\\\\color{gray} \" + tspans[t].innerHTML + \" }\";\n            } else {\n              identifier += \"\\\\\\\\ {\\\\small \" + tspans[t].innerHTML + \" }\";\n            }\n          }\n        }\n      }\n      if ( node.type() === \"rdfs:Literal\" ) {\n        qType = \"Literal\";\n      }\n      if ( node.type() === \"rdfs:Datatype\" ) {\n        qType = \"Datatype\";\n      }\n      if ( node.attributes().indexOf(\"anonymous\") !== -1 ) {\n        qType = \"anonymousClass\";\n      }\n      \n      \n      if ( node.type() === \"owl:unionOf\" || node.type() === \"owl:complementOf\" || node.type() === \"owl:disjointUnionOf\" || node.type() === \"owl:intersectionOf\" )\n        qType = \"owlClass\";\n      \n      var bgColorStr = \"\";\n      var widthString = \"\";\n      \n      if ( node.type() === \"rdfs:Literal\" || node.type() === \"rdfs:Datatype\" ) {\n        var width = node.width();\n        widthString = \",minimum width=\" + width + \"pt\";\n      }\n      else {\n        widthString = \",minimum size=\" + 2 * node.actualRadius() + \"pt\";\n        \n      }\n      if ( node.backgroundColor() ) {\n        var bgColor = node.backgroundColor();\n        bgColor.toUpperCase();\n        bgColor = bgColor.slice(1, bgColor.length);\n        texString += \"\\\\definecolor{Node\" + i + \"_COLOR}{HTML}{\" + bgColor + \"} \\n \";\n        bgColorStr = \", fill=Node\" + i + \"_COLOR \";\n      }\n      if ( node.attributes().indexOf(\"deprecated\") > -1 ) {\n        texString += \"\\\\definecolor{Node\" + i + \"_COLOR}{HTML}{CCCCCC} \\n \";\n        bgColorStr = \", fill=Node\" + i + \"_COLOR \";\n      }\n      \n      var leftPos = px - 7;\n      var rightPos = px + 7;\n      var txtOffset = py + 20;\n      if ( node.type() !== \"owl:unionOf\" || node.type() !== \"owl:disjointUnionOf\" ) {\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\n      }\n      if ( node.type() === \"owl:unionOf\" ) {\n        // add symbol to it;\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {};\\n\";\n        texString += \"\\\\node[unionOf   , text=black] at (\" + leftPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\n        texString += \"\\\\node[unionOf   , text=black] at (\" + rightPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\n        texString += \"\\\\node[unionOf ,fill=none   , text=black] at (\" + leftPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\n        texString += \"\\\\node[text=black] at (\" + px + \"pt, \" + py + \"pt)  (unionText13) {$\\\\mathbf{\\\\cup}$};\\n\";\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\n      }\n      // OWL DISJOINT UNION OF\n      if ( node.type() === \"owl:disjointUnionOf\" ) {\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {};\\n\";\n        texString += \"\\\\node[unionOf   , text=black] at (\" + leftPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\n        texString += \"\\\\node[unionOf   , text=black] at (\" + rightPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\n        texString += \"\\\\node[unionOf ,fill=none   , text=black] at (\" + leftPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)  (disjointUnoinText\" + i + \") {1};\\n\";\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\n      }\n      // OWL COMPLEMENT OF\n      if ( node.type() === \"owl:complementOf\" ) {\n        // add symbol to it;\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {};\\n\";\n        texString += \"\\\\node[unionOf   , text=black] at (\" + px + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\n        texString += \"\\\\node[font={\\\\fontsize{18pt}{18}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)  (unionText13) {$\\\\neg$};\\n\";\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\n      }\n      // OWL INTERSECTION OF\n      if ( node.type() === \"owl:intersectionOf\" ) {\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)   (Node\" + i + \") {};\\n\";\n        texString += \"\\\\node[unionOf   , text=black] at (\" + leftPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\n        texString += \"\\\\node[unionOf   , text=black] at (\" + rightPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\n        texString += \"\\\\node[unionOf ,fill=none   , text=black] at (\" + leftPos + \"pt, \" + py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\n        \n        // add now the outer colors;\n        texString += \"\\\\filldraw[even odd rule,fill=owlClassColor,line width=1pt] (\" + leftPos + \"pt, \" + py + \"pt) circle (12.5pt)  (\" + rightPos + \"pt, \" + py + \"pt) circle (12.5pt);\\n \";\n        \n        // add texts\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + py + \"pt)  (intersectionText\" + i + \") {$\\\\cap$};\\n\";\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\n        \n      }\n      \n      \n      i++;\n      \n    });\n    for ( i = 0; i < propElements.length; i++ ) {\n      var correspondingProp = propElements[i].property();\n      var p_px = propElements[i].x;\n      var p_py = -propElements[i].y;\n      identifier = correspondingProp.labelForCurrentLanguage();\n      if ( identifier === undefined ) identifier = \"\";\n      var textColorStr = \"\";\n      if ( correspondingProp.textBlock && correspondingProp.textBlock() ) {\n        var txtColor = correspondingProp.textBlock()._textBlock().style(\"fill\");\n        //  console.log(\"PropertyTextColor=\"+txtColor);\n        if ( txtColor === \"rgb(0, 0, 0)\" ) {\n          textColorStr = \", text=black\";\n        }\n        if ( txtColor === \"rgb(255, 255, 255)\" ) {\n          textColorStr = \", text=white\";\n        }\n        var tspans = correspondingProp.textBlock()._textBlock().node().children;\n        \n        // identifier=node.textBlock()._textBlock().text();\n        // console.log(tspans);\n        if ( tspans[0] ) {\n          identifier = tspans[0].innerHTML;\n          \n          for ( var t = 1; t < tspans.length; t++ ) {\n            var spanText = tspans[t].innerHTML;\n            if ( spanText.indexOf(\"(\") > -1 ) {\n              identifier += \"\\\\\\\\ {\\\\small \" + tspans[t].innerHTML + \" }\";\n            }\n            else {\n              identifier += \"\\\\\\\\ \" + tspans[t].innerHTML;\n            }\n          }\n        }\n        else {\n        }\n      }\n      if ( correspondingProp.type() === \"setOperatorProperty\" ) {\n        continue; // this property does not have a label\n      }\n      var qType = \"owlObjectProperty\";\n      if ( correspondingProp.type() === \"owl:DatatypeProperty\" ) {\n        qType = \"owlDatatypeProperty\";\n      }\n      if ( correspondingProp.type() === \"rdfs:subClassOf\" ) {\n        qType = \"rdfsSubClassOf\";\n      }\n      if ( correspondingProp.type() === \"rdf:Property\" ) {\n        qType = \"rdfProperty\";\n      }\n      \n      \n      var bgColorStr = \"\";\n      if ( correspondingProp.backgroundColor() ) {\n        // console.log(\"Found backGround color\");\n        var bgColor = correspondingProp.backgroundColor();\n        //console.log(bgColor);\n        bgColor.toUpperCase();\n        bgColor = bgColor.slice(1, bgColor.length);\n        texString += \"\\\\definecolor{property\" + i + \"_COLOR}{HTML}{\" + bgColor + \"} \\n \";\n        bgColorStr = \", fill=property\" + i + \"_COLOR \";\n      }\n      if ( correspondingProp.attributes().indexOf(\"deprecated\") > -1 ) {\n        texString += \"\\\\definecolor{property\" + i + \"_COLOR}{HTML}{CCCCCC} \\n \";\n        bgColorStr = \", fill=property\" + i + \"_COLOR \";\n      }\n      \n      var widthString = \"\";\n      var width = correspondingProp.textWidth();\n      widthString = \",minimum width=\" + width + \"pt\";\n      \n      \n      // OWL INTERSECTION OF\n      if ( correspondingProp.type() === \"owl:disjointWith\" ) {\n        var leftPos = p_px - 12;\n        var rightPos = p_px + 12;\n        var txtOffset = p_py - 20;\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + p_px + \"pt, \" + p_py + \"pt)   (Node\" + i + \") {};\\n\";\n        texString += \"\\\\node[disjointWith , text=black] at (\" + leftPos + \"pt, \" + p_py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\n        texString += \"\\\\node[disjointWith , text=black] at (\" + rightPos + \"pt, \" + p_py + \"pt)   (SymbolNode\" + i + \") {};\\n\";\n        texString += \"\\\\node[font={\\\\fontsize{12pt}{12}\\\\selectfont \\\\sffamily }\" + textColorStr + \"] at (\" + p_px + \"pt, \" + txtOffset + \"pt)   (Node_text\" + i + \") {\";\n        if ( graph.options().compactNotation() === false ) {\n          texString += \"(disjoint)\";\n        }\n        texString += \"};\\n\";\n        continue;\n      }\n      \n      \n      if ( correspondingProp.inverse() ) {\n        var inv_correspondingProp = correspondingProp.inverse();\n        // create the rendering element for the inverse property;\n        var inv_identifier = inv_correspondingProp.labelForCurrentLanguage();\n        if ( inv_identifier === undefined ) inv_identifier = \"\";\n        var inv_textColorStr = \"\";\n        //console.log(inv_correspondingProp);\n        //console.log(inv_correspondingProp.textBlock());\n        \n        if ( inv_correspondingProp.textBlock && inv_correspondingProp.textBlock() ) {\n          \n          var inv_txtColor = inv_correspondingProp.textBlock()._textBlock().style(\"fill\");\n          //  console.log(\"PropertyTextColor=\"+inv_txtColor);\n          if ( inv_txtColor === \"rgb(0, 0, 0)\" ) {\n            inv_textColorStr = \", text=black\";\n          }\n          if ( inv_txtColor === \"rgb(255, 255, 255)\" ) {\n            inv_textColorStr = \", text=white\";\n          }\n          var inv_tspans = inv_correspondingProp.textBlock()._textBlock().node().children;\n          \n          // identifier=node.textBlock()._textBlock().text();\n          //  console.log(inv_tspans);\n          if ( inv_tspans[0] ) {\n            inv_identifier = inv_tspans[0].innerHTML;\n            \n            for ( var inv_t = 1; inv_t < inv_tspans.length; inv_t++ ) {\n              var ispanText = inv_tspans[inv_t].innerHTML;\n              if ( ispanText.indexOf(\"(\") > -1 ) {\n                inv_identifier += \"\\\\\\\\ {\\\\small \" + inv_tspans[inv_t].innerHTML + \" }\";\n              } else {\n                inv_identifier += \"\\\\\\\\ \" + inv_tspans[inv_t].innerHTML;\n              }\n            }\n          }\n        }\n        var inv_qType = \"owlObjectProperty\";\n        var inv_bgColorStr = \"\";\n        \n        if ( inv_correspondingProp.backgroundColor() ) {\n          //  console.log(\"Found backGround color\");\n          var inv_bgColor = inv_correspondingProp.backgroundColor();\n          //   console.log(inv_bgColor);\n          inv_bgColor.toUpperCase();\n          inv_bgColor = inv_bgColor.slice(1, inv_bgColor.length);\n          texString += \"\\\\definecolor{inv_property\" + i + \"_COLOR}{HTML}{\" + inv_bgColor + \"} \\n \";\n          inv_bgColorStr = \", fill=inv_property\" + i + \"_COLOR \";\n        }\n        if ( inv_correspondingProp.attributes().indexOf(\"deprecated\") > -1 ) {\n          texString += \"\\\\definecolor{inv_property\" + i + \"_COLOR}{HTML}{CCCCCC} \\n \";\n          inv_bgColorStr = \", fill=inv_property\" + i + \"_COLOR \";\n        }\n        \n        var inv_widthString = \"\";\n        var inv_width = inv_correspondingProp.textWidth();\n        \n        var pOY1 = p_py - 14;\n        var pOY2 = p_py + 14;\n        inv_widthString = \",minimum width=\" + inv_width + \"pt\";\n        texString += \"% Createing Inverse Property \\n\";\n        texString += \"\\\\node[\" + inv_qType + \" \" + inv_widthString + \" \" + inv_bgColorStr + \" \" + inv_textColorStr + \"] at (\" + p_px + \"pt, \" + pOY1 + \"pt)   (property\" + i + \") {\" + inv_identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\n        texString += \"% \" + inv_qType + \" vs \" + qType + \"\\n\";\n        texString += \"% \" + inv_widthString + \" vs \" + widthString + \"\\n\";\n        texString += \"% \" + inv_bgColorStr + \" vs \" + bgColorStr + \"\\n\";\n        texString += \"% \" + inv_textColorStr + \" vs \" + textColorStr + \"\\n\";\n        \n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + p_px + \"pt, \" + pOY2 + \"pt)   (property\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\n        \n      } else {\n        texString += \"\\\\node[\" + qType + \" \" + widthString + \" \" + bgColorStr + \" \" + textColorStr + \"] at (\" + p_px + \"pt, \" + p_py + \"pt)   (property\" + i + \") {\" + identifier.replaceAll(\"_\", \"\\\\_ \") + \"};\\n\";\n      }\n    }\n    \n    texString += \"\\\\end{tikzpicture}\\n}\\n \\\\end{center}\\n\";\n    \n    //   console.log(\"Tex Output\\n\"+ texString);\n    var dataURI = \"data:text/json;charset=utf-8,\" + encodeURIComponent(texString);\n    exportTexButton.attr(\"href\", dataURI)\n      .attr(\"download\", exportFilename + \".tex\");\n    \n    \n  }\n  \n  function calculateRadian( angle ){\n    angle = angle % 360;\n    if ( angle < 0 ) {\n      angle = angle + 360;\n    }\n    return (Math.PI * angle) / 180;\n  }\n  \n  function calculateAngle( radian ){\n    return radian * (180 / Math.PI);\n  }\n  \n  return exportMenu;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/exportMenu.js\n// module id = 323\n// module chunks = 1","/**\n * Contains the logic for the export button.\n * @returns {{}}\n */\nmodule.exports = function ( graph ){\n  var exportTTLModule = {};\n  var resultingTTLContent = \"\";\n  var currentNodes;\n  var currentProperties;\n  var currentAxioms;\n  var Map_ID2Node = {};\n  var Map_ID2Prop = {};\n  var prefixModule = webvowl.util.prefixTools(graph);\n  \n  exportTTLModule.requestExport = function (){\n    prefixModule.updatePrefixModel();\n    resultingTTLContent = \"\";\n    currentNodes = graph.getClassDataForTtlExport();\n    var i;\n    for ( i = 0; i < currentNodes.length; i++ ) {\n      Map_ID2Node[currentNodes[i].id()] = currentNodes[i];\n    }\n    currentProperties = graph.getPropertyDataForTtlExport();\n    \n    for ( i = 0; i < currentProperties.length; i++ ) {\n      Map_ID2Prop[currentProperties[i].id()] = currentProperties[i];\n    }\n    \n    \n    prepareHeader();\n    preparePrefixList();\n    prepareOntologyDef();\n    resultingTTLContent += \"#################################################################\\r\\n\\r\\n\";\n    preparePrefixRepresentation();\n    var property_success = exportProperties();\n    var class_success = exportClasses();\n    currentNodes = null;\n    currentProperties = null;\n    Map_ID2Node = {};\n    Map_ID2Prop = {};\n    if ( property_success === false || class_success === false )\n      return false;\n    return true;\n    \n  };\n  \n  function preparePrefixRepresentation(){\n    var i;\n    var allNodes = graph.getUnfilteredData().nodes;\n    var allProps = graph.getUnfilteredData().properties;\n    for ( i = 0; i < allNodes.length; i++ ) {\n      var nodeIRI = prefixModule.getPrefixRepresentationForFullURI(allNodes[i].iri());\n      if ( prefixModule.validURL(nodeIRI) === true )\n        allNodes[i].prefixRepresentation = \"<\" + nodeIRI + \">\";\n      else\n        allNodes[i].prefixRepresentation = nodeIRI;\n    }\n    for ( i = 0; i < allProps.length; i++ ) {\n      var propIRI = prefixModule.getPrefixRepresentationForFullURI(allProps[i].iri());\n      if ( prefixModule.validURL(propIRI) === true )\n        allProps[i].prefixRepresentation = \"<\" + propIRI + \">\";\n      else\n        allProps[i].prefixRepresentation = propIRI;\n    }\n  }\n  \n  function exportProperties(){\n    if ( currentProperties.length === 0 ) return; // we dont need to write that\n    resultingTTLContent += \"###  Property Definitions (Number of Property) \" + currentProperties.length + \" ###\\r\\n\";\n    for ( var i = 0; i < currentProperties.length; i++ ) {\n      \n      resultingTTLContent += \"#  --------------------------- Property \" + i + \"------------------------- \\r\\n\";\n      var addedElement = extractPropertyDescription(currentProperties[i]);\n      resultingTTLContent += addedElement;\n      //@ workaround for not supported elements\n      if ( addedElement.indexOf(\"WHYEMPTYNAME\") !== -1 ) {\n        return false;\n      }\n    }\n    return true;\n  }\n  \n  \n  function exportClasses(){\n    if ( currentNodes.length === 0 ) return; // we dont need to write that\n    resultingTTLContent += \"###  Class Definitions (Number of Classes) \" + currentNodes.length + \" ###\\r\\n\";\n    for ( var i = 0; i < currentNodes.length; i++ ) {\n      // check for node type here and return false\n      resultingTTLContent += \"#  --------------------------- Class  \" + i + \"------------------------- \\r\\n\";\n      var addedElement = extractClassDescription(currentNodes[i]);\n      resultingTTLContent += addedElement;\n      \n      if ( addedElement.indexOf(\"WHYEMPTYNAME\") !== -1 ) {\n        return false;\n      }\n    }\n    return true;\n  }\n  \n  function getPresentAttribute( selectedElement, element ){\n    var attr = selectedElement.attributes();\n    return (attr.indexOf(element) >= 0);\n  }\n  \n  function extractClassDescription( node ){\n    var subject = node.prefixRepresentation;\n    var predicate = \"rdf:type\";\n    var object = node.type();\n    if ( node.type() === \"owl:equivalentClass\" )\n      object = \"owl:Class\";\n    if ( node.type() === \"owl:disjointUnionOf\" )\n      object = \"owl:Class\";\n    if ( node.type() === \"owl:unionOf\" )\n      object = \"owl:Class\";\n    var arrayOfNodes = [];\n    var arrayOfUnionNodes = [];\n    \n    if ( node.union() ) {\n      var union = node.union();\n      for ( var u = 0; u < union.length; u++ ) {\n        var u_node = Map_ID2Node[union[u]];\n        arrayOfUnionNodes.push(u_node);\n      }\n    }\n    \n    if ( node.disjointUnion() ) {\n      var distUnion = node.disjointUnion();\n      for ( var du = 0; du < distUnion.length; du++ ) {\n        var du_node = Map_ID2Node[distUnion[du]];\n        arrayOfNodes.push(du_node);\n      }\n    }\n    \n    var objectDef = subject + \" \" + predicate + \" \" + object;\n    if ( getPresentAttribute(node, \"deprecated\") === true ) {\n      objectDef += \", owl:DeprecatedProperty\";\n    }\n    // equivalent class handeled using type itself!\n    \n    // check for equivalent classes;\n    var indent = getIndent(subject);\n    objectDef += \"; \\r\\n\";\n    for ( var e = 0; e < node.equivalents().length; e++ ) {\n      var eqIRI = prefixModule.getPrefixRepresentationForFullURI(node.equivalents()[e].iri());\n      var eqNode_prefRepresentation = \"\";\n      if ( prefixModule.validURL(eqIRI) === true )\n        eqNode_prefRepresentation = \"<\" + eqIRI + \">\";\n      else\n        eqNode_prefRepresentation = eqIRI;\n      objectDef += indent + \" owl:equivalentClass \" + eqNode_prefRepresentation + \" ;\\r\\n\";\n    }\n    \n    // if (getPresentAttribute(node,\"equivalent\")===true){\n    //     objectDef+=\", owl:EquivalentClass\";\n    // }\n    \n    // add Comments\n    \n    if ( node.commentForCurrentLanguage() ) {\n      \n      objectDef += indent + \" rdfs:comment \\\"\" + node.commentForCurrentLanguage() + \"\\\" ;\\r\\n\";\n    }\n    \n    if ( node.annotations() ) {\n      var annotations = node.annotations();\n      for ( var an in annotations ) {\n        if ( annotations.hasOwnProperty(an) ) {\n          var anArrayObj = annotations[an];\n          var anObj = anArrayObj[0];\n          var an_ident = anObj.identifier;\n          var an_val = anObj.value;\n          \n          if ( an_ident === \"isDefinedBy\" ) {\n            objectDef += indent + \" rdfs:isDefinedBy <\" + an_val + \"> ;\\r\\n\";\n          }\n          if ( an_ident === \"term_status\" ) {\n            objectDef += indent + \" vs:term_status \\\"\" + an_val + \"\\\" ;\\r\\n\";\n          }\n        }\n      }\n    }\n    \n    \n    if ( arrayOfNodes.length > 0 ) {\n      // add disjoint unionOf\n      objectDef += indent + \" owl:disjointUnionOf (\";\n      for ( var duE = 0; duE < arrayOfNodes.length; duE++ ) {\n        var duIri = prefixModule.getPrefixRepresentationForFullURI(arrayOfNodes[duE].iri());\n        var duNode_prefRepresentation = \"\";\n        if ( prefixModule.validURL(duIri) === true )\n          duNode_prefRepresentation = \"<\" + duIri + \">\";\n        else\n          duNode_prefRepresentation = duIri;\n        objectDef += indent + indent + duNode_prefRepresentation + \" \\n\";\n      }\n      objectDef += \") ;\\r\\n\";\n    }\n    \n    if ( arrayOfUnionNodes.length > 0 ) {\n      // add disjoint unionOf\n      objectDef += indent + \" rdfs:subClassOf [ rdf:type owl:Class ; \\r\\n\";\n      objectDef += indent + indent + \" owl:unionOf ( \";\n      \n      for ( var uE = 0; uE < arrayOfUnionNodes.length; uE++ ) {\n        \n        if ( arrayOfUnionNodes[uE] && arrayOfUnionNodes[uE].iri() ) {\n          var uIri = prefixModule.getPrefixRepresentationForFullURI(arrayOfUnionNodes[uE].iri());\n          var uNode_prefRepresentation = \"\";\n          if ( prefixModule.validURL(uIri) === true )\n            uNode_prefRepresentation = \"<\" + uIri + \">\";\n          else\n            uNode_prefRepresentation = uIri;\n          objectDef += indent + indent + indent + uNode_prefRepresentation + \" \\n\";\n        }\n      }\n      objectDef += \") ;\\r\\n\";\n      \n      \n    }\n    \n    \n    var allProps = graph.getUnfilteredData().properties;\n    var myProperties = [];\n    var i;\n    for ( i = 0; i < allProps.length; i++ ) {\n      if ( allProps[i].domain() === node &&\n        (   allProps[i].type() === \"rdfs:subClassOf\" ||\n        allProps[i].type() === \"owl:allValuesFrom\" ||\n        allProps[i].type() === \"owl:someValuesFrom\")\n      ) {\n        myProperties.push(allProps[i]);\n      }\n      // special case disjoint with>> both domain and range get that property\n      if ( (allProps[i].domain() === node) &&\n        allProps[i].type() === \"owl:disjointWith\" ) {\n        myProperties.push(allProps[i]);\n      }\n      \n    }\n    for ( i = 0; i < myProperties.length; i++ ) {\n      // depending on the property we have to do some things;\n      \n      // special case\n      if ( myProperties[i].type() === \"owl:someValuesFrom\" ) {\n        objectDef += indent + \" rdfs:subClassOf [ rdf:type owl:Restriction ; \\r\\n\";\n        objectDef += indent + \"                   owl:onProperty \" + myProperties[i].prefixRepresentation + \";\\r\\n\";\n        if ( myProperties[i].range().type() !== \"owl:Thing\" ) {\n          objectDef += indent + \"                   owl:someValuesFrom \" + myProperties[i].range().prefixRepresentation + \"\\r\\n\";\n        }\n        objectDef += indent + \"                 ];\\r\\n\";\n        continue;\n      }\n      \n      if ( myProperties[i].type() === \"owl:allValuesFrom\" ) {\n        objectDef += indent + \" rdfs:subClassOf [ rdf:type owl:Restriction ; \\r\\n\";\n        objectDef += indent + \"                   owl:onProperty \" + myProperties[i].prefixRepresentation + \";\\r\\n\";\n        if ( myProperties[i].range().type() !== \"owl:Thing\" ) {\n          objectDef += indent + \"                   owl:allValuesFrom \" + myProperties[i].range().prefixRepresentation + \"\\r\\n\";\n        }\n        objectDef += indent + \"                 ];\\r\\n\";\n        continue;\n      }\n      \n      if ( myProperties[i].range().type() !== \"owl:Thing\" ) {\n        objectDef += indent + \" \" + myProperties[i].prefixRepresentation +\n          \" \" + myProperties[i].range().prefixRepresentation + \" ;\\r\\n\";\n        \n        \n      }\n    }\n    \n    \n    objectDef += general_Label_languageExtractor(indent, node.label(), \"rdfs:label\", true);\n    return objectDef;\n    \n  }\n  \n  function extractPropertyDescription( property ){\n    var subject = property.prefixRepresentation;\n    if ( subject.length === 0 ) {\n      console.log(\"THIS SHOULD NOT HAPPEN\");\n      var propIRI = prefixModule.getPrefixRepresentationForFullURI(property.iri());\n      console.log(\"FOUND \" + propIRI);\n      \n      \n    }\n    var predicate = \"rdf:type\";\n    var object = property.type();\n    \n    var objectDef = subject + \" \" + predicate + \" \" + object;\n    if ( getPresentAttribute(property, \"deprecated\") === true ) {\n      objectDef += \", owl:DeprecatedProperty\";\n    }\n    if ( getPresentAttribute(property, \"functional\") === true ) {\n      objectDef += \", owl:FunctionalProperty\";\n    }\n    if ( getPresentAttribute(property, \"inverse functional\") === true ) {\n      objectDef += \", owl:InverseFunctionalProperty\";\n    }\n    if ( getPresentAttribute(property, \"symmetric\") === true ) {\n      objectDef += \", owl:SymmetricProperty\";\n    }\n    if ( getPresentAttribute(property, \"transitive\") === true ) {\n      objectDef += \", owl:TransitiveProperty\";\n    }\n    var indent = getIndent(subject);\n    \n    if ( property.inverse() ) {\n      objectDef += \"; \\r\\n\";\n      objectDef += indent + \" owl:inverseOf \" + property.inverse().prefixRepresentation;\n    }\n    \n    // check for domain and range;\n    \n    \n    var closeStatement = false;\n    var domain = property.domain();\n    var range = property.range();\n    \n    \n    objectDef += \" ;\\r\\n\";\n    \n    \n    if ( property.commentForCurrentLanguage() ) {\n      \n      objectDef += indent + \" rdfs:comment \\\"\" + property.commentForCurrentLanguage() + \"\\\" ;\\r\\n\";\n    }\n    \n    if ( property.superproperties() ) {\n      var superProps = property.superproperties();\n      for ( var sP = 0; sP < superProps.length; sP++ ) {\n        var sPelement = superProps[sP];\n        objectDef += indent + \"rdfs:subPropertyOf \" + sPelement.prefixRepresentation + \";\\r\\n\";\n      }\n      // for (var an in annotations){\n      //     if (annotations.hasOwnProperty(an)){\n      //         var anArrayObj=annotations[an];\n      //         var anObj=anArrayObj[0];\n      //         var an_ident=anObj.identifier;\n      //         var an_val=anObj.value;\n      //         console.log(an_ident + \" \"+ an_val);\n      //\n      //         if (an_ident===\"isDefinedBy\"){\n      //             objectDef+=indent+\" rdfs:isDefinedBy <\"+an_val+\"> ;\\r\\n\";\n      //         }\n      //         if (an_ident===\"term_status\"){\n      //             objectDef+=indent+\" vs:term_status \\\"\"+an_val+\"\\\" ;\\r\\n\";\n      //         }\n      //     }\n      // }\n      \n    }\n    \n    if ( property.annotations() ) {\n      var annotations = property.annotations();\n      for ( var an in annotations ) {\n        if ( annotations.hasOwnProperty(an) ) {\n          var anArrayObj = annotations[an];\n          var anObj = anArrayObj[0];\n          var an_ident = anObj.identifier;\n          var an_val = anObj.value;\n          \n          if ( an_ident === \"isDefinedBy\" ) {\n            objectDef += indent + \" rdfs:isDefinedBy <\" + an_val + \"> ;\\r\\n\";\n          }\n          if ( an_ident === \"term_status\" ) {\n            objectDef += indent + \" vs:term_status \\\"\" + an_val + \"\\\" ;\\r\\n\";\n          }\n        }\n      }\n    }\n    \n    \n    if ( domain.type() === \"owl:Thing\" && range.type() === \"owl:Thing\" ) {\n      // we do not write domain and range\n      if ( typeof property.label() !== \"object\" && property.label().length === 0 ) {\n        closeStatement = true;\n      }\n    }\n    \n    \n    if ( closeStatement === true ) {\n      var uobjectDef = objectDef.substring(0, objectDef.length - 2);\n      objectDef = uobjectDef + \" . \\r\\n\";\n      return objectDef;\n    }\n    // objectDef+=\"; \\r\\n\";\n    var labelDescription;\n    \n    \n    if ( domain.type() === \"owl:Thing\" && range.type() === \"owl:Thing\" ) {\n      labelDescription = general_Label_languageExtractor(indent, property.label(), \"rdfs:label\", true);\n      objectDef += labelDescription;\n    }\n    else {\n      // do not close the statement;\n      labelDescription = general_Label_languageExtractor(indent, property.label(), \"rdfs:label\");\n      objectDef += labelDescription;\n      if ( domain.type() !== \"owl:Thing\" ) {\n        objectDef += indent + \" rdfs:domain \" + domain.prefixRepresentation + \";\\r\\n\";\n      }\n      if ( range.type() !== \"owl:Thing\" ) {\n        objectDef += indent + \" rdfs:range \" + range.prefixRepresentation + \";\\r\\n\";\n      }\n      \n      // close statement now;\n      \n      var s_needUpdate = objectDef;\n      var s_lastPtr = s_needUpdate.lastIndexOf(\";\");\n      objectDef = s_needUpdate.substring(0, s_lastPtr) + \" . \\r\\n\";\n    }\n    \n    return objectDef;\n    \n  }\n  \n  \n  exportTTLModule.resultingTTL_Content = function (){\n    return resultingTTLContent;\n  };\n  \n  function getIndent( name ){\n    if ( name === undefined ) {\n      return \"WHYEMPTYNAME?\";\n    }\n    return new Array(name.length + 1).join(\" \");\n  }\n  \n  function prepareHeader(){\n    resultingTTLContent += \"#################################################################\\r\\n\";\n    resultingTTLContent += \"###  Generated with the experimental alpha version of the TTL exporter of WebVOWL (version 1.1.7) \" +\n      \" http://visualdataweb.de/webvowl/   ###\\r\\n\";\n    resultingTTLContent += \"#################################################################\\r\\n\\r\\n\";\n    \n  }\n  \n  function preparePrefixList(){\n    var ontoIri = graph.options().getGeneralMetaObjectProperty('iri');\n    var prefixList = graph.options().prefixList();\n    var prefixDef = [];\n    prefixDef.push('@prefix : \\t\\t<' + ontoIri + '> .');\n    for ( var name in prefixList ) {\n      if ( prefixList.hasOwnProperty(name) ) {\n        prefixDef.push('@prefix ' + name + ': \\t\\t<' + prefixList[name] + '> .');\n      }\n    }\n    prefixDef.push('@base \\t\\t\\t<' + ontoIri + '> .\\r\\n');\n    \n    for ( var i = 0; i < prefixDef.length; i++ ) {\n      resultingTTLContent += prefixDef[i] + '\\r\\n';\n    }\n  }\n  \n  function prepareOntologyDef(){\n    var ontoIri = graph.options().getGeneralMetaObjectProperty('iri');\n    var indent = getIndent('<' + ontoIri + '>');\n    resultingTTLContent += '<' + ontoIri + '> rdf:type owl:Ontology ;\\r\\n' +\n      getOntologyTitle(indent) +\n      getOntologyDescription(indent) +\n      getOntologyVersion(indent) +\n      getOntologyAuthor(indent);\n    \n    // close the statement;\n    var s_needUpdate = resultingTTLContent;\n    var s_lastPtr = s_needUpdate.lastIndexOf(\";\");\n    resultingTTLContent = s_needUpdate.substring(0, s_lastPtr) + \" . \\r\\n\";\n  }\n  \n  function getOntologyTitle( indent ){\n    return general_languageExtractor(indent, \"title\", \"dc:title\");\n  }\n  \n  function getOntologyDescription( indent ){\n    return general_languageExtractor(indent, \"description\", \"dc:description\");\n  }\n  \n  function getOntologyAuthor( indent ){\n    var languageElement = graph.options().getGeneralMetaObjectProperty('author');\n    if ( languageElement ) {\n      if ( typeof languageElement !== \"object\" ) {\n        if ( languageElement.length === 0 )\n          return \"\"; // an empty string\n        var aString = indent + \" dc:creator \" + '\"' + languageElement + '\";\\r\\n';\n        return aString;\n      }\n      // we assume this thing is an array;\n      var authorString = indent + \" dc:creator \" + '\"';\n      for ( var i = 0; i < languageElement.length - 1; i++ ) {\n        authorString += languageElement[i] + \", \";\n      }\n      authorString += languageElement[languageElement.length - 1] + '\";\\r\\n';\n      return authorString;\n    } else {\n      return \"\"; // an empty string\n    }\n  }\n  \n  function getOntologyVersion( indent ){\n    var languageElement = graph.options().getGeneralMetaObjectProperty('version');\n    if ( languageElement ) {\n      if ( typeof languageElement !== \"object\" ) {\n        if ( languageElement.length === 0 )\n          return \"\"; // an empty string\n      }\n      return general_languageExtractor(indent, \"version\", \"owl:versionInfo\");\n    } else return \"\"; // an empty string\n  }\n  \n  function general_languageExtractor( indent, metaObjectDescription, annotationDescription, endStatement ){\n    var languageElement = graph.options().getGeneralMetaObjectProperty(metaObjectDescription);\n    \n    if ( typeof languageElement === 'object' ) {\n      \n      var resultingLanguages = [];\n      for ( var name in languageElement ) {\n        if ( languageElement.hasOwnProperty(name) ) {\n          var content = languageElement[name];\n          if ( name === \"undefined\" ) {\n            resultingLanguages.push(indent + \" \" + annotationDescription + ' \"' + content + '\"@en; \\r\\n');\n          }\n          else {\n            resultingLanguages.push(indent + \" \" + annotationDescription + ' \"' + content + '\"@' + name + '; \\r\\n');\n          }\n        }\n      }\n      // create resulting titles;\n      \n      var resultingString = \"\";\n      for ( var i = 0; i < resultingLanguages.length; i++ ) {\n        resultingString += resultingLanguages[i];\n      }\n      if ( endStatement && endStatement === true ) {\n        var needUpdate = resultingString;\n        var lastPtr = needUpdate.lastIndexOf(\";\");\n        return needUpdate.substring(0, lastPtr) + \". \\r\\n\";\n      } else {\n        return resultingString;\n      }\n      \n    } else {\n      if ( endStatement && endStatement === true ) {\n        var s_needUpdate = indent + \" \" + annotationDescription + ' \"' + languageElement + '\"@en; \\r\\n';\n        var s_lastPtr = s_needUpdate.lastIndexOf(\";\");\n        return s_needUpdate.substring(0, s_lastPtr) + \" . \\r\\n\";\n      }\n      return indent + \" \" + annotationDescription + ' \"' + languageElement + '\"@en;\\r\\n';\n    }\n  }\n  \n  function general_Label_languageExtractor( indent, label, annotationDescription, endStatement ){\n    var languageElement = label;\n    \n    if ( typeof languageElement === 'object' ) {\n      var resultingLanguages = [];\n      for ( var name in languageElement ) {\n        if ( languageElement.hasOwnProperty(name) ) {\n          var content = languageElement[name];\n          if ( name === \"undefined\" ) {\n            resultingLanguages.push(indent + \" \" + annotationDescription + ' \"' + content + '\"@en; \\r\\n');\n          }\n          else {\n            resultingLanguages.push(indent + \" \" + annotationDescription + ' \"' + content + '\"@' + name + '; \\r\\n');\n          }\n        }\n      }\n      // create resulting titles;\n      var resultingString = \"\";\n      for ( var i = 0; i < resultingLanguages.length; i++ ) {\n        resultingString += resultingLanguages[i];\n      }\n      if ( endStatement && endStatement === true ) {\n        var needUpdate = resultingString;\n        var lastPtr = needUpdate.lastIndexOf(\";\");\n        return needUpdate.substring(0, lastPtr) + \" . \\r\\n\";\n      } else {\n        return resultingString;\n      }\n      \n    } else {\n      if ( endStatement && endStatement === true ) {\n        var s_needUpdate = indent + \" \" + annotationDescription + ' \"' + languageElement + '\"@en; \\r\\n';\n        var s_lastPtr = s_needUpdate.lastIndexOf(\";\");\n        return s_needUpdate.substring(0, s_lastPtr) + \" . \\r\\n\";\n      }\n      return indent + \" \" + annotationDescription + ' \"' + languageElement + '\"@en; \\r\\n';\n    }\n  }\n  \n  return exportTTLModule;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/exportTTLModule.js\n// module id = 324\n// module chunks = 1","/**\n * Contains the logic for connecting the filters with the website.\n *\n * @param graph required for calling a refresh after a filter change\n * @returns {{}}\n */\nmodule.exports = function ( graph ){\n  \n  var filterMenu = {},\n    checkboxData = [],\n    menuElement = d3.select(\"#m_filter\"),\n    menuControl = d3.select(\"#c_filter a\"),\n    nodeDegreeContainer = d3.select(\"#nodeDegreeFilteringOption\"),\n    graphDegreeLevel,\n    defaultDegreeValue = 0,\n    degreeSlider;\n  \n  filterMenu.setDefaultDegreeValue = function ( val ){\n    defaultDegreeValue = val;\n  };\n  filterMenu.getDefaultDegreeValue = function (){\n    return defaultDegreeValue;\n  };\n  \n  filterMenu.getGraphObject = function (){\n    return graph;\n  };\n  /** some getter function  **/\n  filterMenu.getCheckBoxContainer = function (){\n    return checkboxData;\n  };\n  \n  filterMenu.getDegreeSliderValue = function (){\n    return degreeSlider.property(\"value\");\n  };\n  /**\n   * Connects the website with graph filters.\n   * @param datatypeFilter filter for all datatypes\n   * @param objectPropertyFilter filter for all object properties\n   * @param subclassFilter filter for all subclasses\n   * @param disjointFilter filter for all disjoint with properties\n   * @param setOperatorFilter filter for all set operators with properties\n   * @param nodeDegreeFilter filters nodes by their degree\n   */\n  filterMenu.setup = function ( datatypeFilter, objectPropertyFilter, subclassFilter, disjointFilter, setOperatorFilter, nodeDegreeFilter ){\n    // TODO: is this here really necessarry? << new menu visualization style?\n    menuControl.on(\"mouseover\", function (){\n      var searchMenu = graph.options().searchMenu();\n      searchMenu.hideSearchEntries();\n    });\n    menuControl.on(\"mouseleave\", function (){\n      filterMenu.highlightForDegreeSlider(false);\n    });\n    \n    addFilterItem(datatypeFilter, \"datatype\", \"Datatype properties\", \"#datatypeFilteringOption\");\n    addFilterItem(objectPropertyFilter, \"objectProperty\", \"Object properties\", \"#objectPropertyFilteringOption\");\n    addFilterItem(subclassFilter, \"subclass\", \"Solitary subclasses\", \"#subclassFilteringOption\");\n    addFilterItem(disjointFilter, \"disjoint\", \"Class disjointness\", \"#disjointFilteringOption\");\n    addFilterItem(setOperatorFilter, \"setoperator\", \"Set operators\", \"#setOperatorFilteringOption\");\n    \n    addNodeDegreeFilter(nodeDegreeFilter, nodeDegreeContainer);\n    addAnimationFinishedListener();\n  };\n  \n  \n  function addFilterItem( filter, identifier, pluralNameOfFilteredItems, selector ){\n    var filterContainer,\n      filterCheckbox;\n    \n    filterContainer = d3.select(selector)\n      .append(\"div\")\n      .classed(\"checkboxContainer\", true);\n    \n    filterCheckbox = filterContainer.append(\"input\")\n      .classed(\"filterCheckbox\", true)\n      .attr(\"id\", identifier + \"FilterCheckbox\")\n      .attr(\"type\", \"checkbox\")\n      .property(\"checked\", filter.enabled());\n    \n    // Store for easier resetting\n    checkboxData.push({ checkbox: filterCheckbox, defaultState: filter.enabled() });\n    \n    filterCheckbox.on(\"click\", function ( silent ){\n      // There might be no parameters passed because of a manual\n      // invocation when resetting the filters\n      var isEnabled = filterCheckbox.property(\"checked\");\n      filter.enabled(isEnabled);\n      if ( silent !== true ) {\n        // updating graph when silent is false or the parameter is not given.\n        graph.update();\n      }\n    });\n    \n    filterContainer.append(\"label\")\n      .attr(\"for\", identifier + \"FilterCheckbox\")\n      .text(pluralNameOfFilteredItems);\n  }\n  \n  function addNodeDegreeFilter( nodeDegreeFilter, container ){\n    nodeDegreeFilter.setMaxDegreeSetter(function ( maxDegree ){\n      degreeSlider.attr(\"max\", maxDegree);\n      setSliderValue(degreeSlider, Math.min(maxDegree, degreeSlider.property(\"value\")));\n    });\n    \n    nodeDegreeFilter.setDegreeGetter(function (){\n      return degreeSlider.property(\"value\");\n    });\n    \n    nodeDegreeFilter.setDegreeSetter(function ( value ){\n      setSliderValue(degreeSlider, value);\n    });\n    \n    var sliderContainer,\n      sliderValueLabel;\n    \n    sliderContainer = container.append(\"div\")\n      .classed(\"distanceSliderContainer\", true);\n    \n    degreeSlider = sliderContainer.append(\"input\")\n      .attr(\"id\", \"nodeDegreeDistanceSlider\")\n      .attr(\"type\", \"range\")\n      .attr(\"min\", 0)\n      .attr(\"step\", 1);\n    \n    sliderContainer.append(\"label\")\n      .classed(\"description\", true)\n      .attr(\"for\", \"nodeDegreeDistanceSlider\")\n      .text(\"Degree of collapsing\");\n    \n    sliderValueLabel = sliderContainer.append(\"label\")\n      .classed(\"value\", true)\n      .attr(\"for\", \"nodeDegreeDistanceSlider\")\n      .text(0);\n    \n    \n    degreeSlider.on(\"change\", function ( silent ){\n      if ( silent !== true ) {\n        graph.update();\n        graphDegreeLevel = degreeSlider.property(\"value\");\n      }\n    });\n    \n    \n    degreeSlider.on(\"input\", function (){\n      var degree = degreeSlider.property(\"value\");\n      sliderValueLabel.text(degree);\n    });\n    \n    \n    // adding wheel events\n    degreeSlider.on(\"wheel\", handleWheelEvent);\n    degreeSlider.on(\"focusout\", function (){\n      if ( degreeSlider.property(\"value\") !== graphDegreeLevel ) {\n        graph.update();\n      }\n    });\n  }\n  \n  function handleWheelEvent(){\n    var wheelEvent = d3.event;\n    \n    var offset;\n    if ( wheelEvent.deltaY < 0 ) offset = 1;\n    if ( wheelEvent.deltaY > 0 ) offset = -1;\n    var maxDeg = parseInt(degreeSlider.attr(\"max\"));\n    var oldVal = parseInt(degreeSlider.property(\"value\"));\n    var newSliderValue = oldVal + offset;\n    if ( oldVal !== newSliderValue && (newSliderValue >= 0 && newSliderValue <= maxDeg) ) {\n      // only update when they are different [reducing redundant updates]\n      // set the new value and emit an update signal\n      degreeSlider.property(\"value\", newSliderValue);\n      degreeSlider.on(\"input\")();// <<-- sets the text value\n      graph.update();\n    }\n    d3.event.preventDefault();\n  }\n  \n  function setSliderValue( slider, value ){\n    slider.property(\"value\", value).on(\"input\")();\n  }\n  \n  /**\n   * Resets the filters (and also filtered elements) to their default.\n   */\n  filterMenu.reset = function (){\n    checkboxData.forEach(function ( checkboxData ){\n      var checkbox = checkboxData.checkbox,\n        enabledByDefault = checkboxData.defaultState,\n        isChecked = checkbox.property(\"checked\");\n      \n      if ( isChecked !== enabledByDefault ) {\n        checkbox.property(\"checked\", enabledByDefault);\n        // Call onclick event handlers programmatically\n        checkbox.on(\"click\")();\n      }\n    });\n    \n    setSliderValue(degreeSlider, 0);\n    degreeSlider.on(\"change\")();\n  };\n  \n  function addAnimationFinishedListener(){\n    menuControl.node().addEventListener(\"animationend\", function (){\n      menuControl.classed(\"buttonPulse\", false);\n      menuControl.classed(\"filterMenuButtonHighlight\", true);\n      \n    });\n  }\n  \n  filterMenu.killButtonAnimation = function (){\n    menuControl.classed(\"buttonPulse\", false);\n    menuControl.classed(\"filterMenuButtonHighlight\", false);\n  };\n  \n  \n  filterMenu.highlightForDegreeSlider = function ( enable ){\n    if ( !arguments.length ) {\n      enable = true;\n    }\n    menuControl.classed(\"highlighted\", enable);\n    nodeDegreeContainer.classed(\"highlighted\", enable);\n    // pulse button handling\n    if ( menuControl.classed(\"buttonPulse\") === true && enable === true ) {\n      menuControl.classed(\"buttonPulse\", false);\n      var timer = setTimeout(function (){\n        menuControl.classed(\"buttonPulse\", enable);\n        clearTimeout(timer);\n        // after the time is done, remove the pulse but stay highlighted\n      }, 100);\n    } else {\n      menuControl.classed(\"buttonPulse\", enable);\n      menuControl.classed(\"filterMenuButtonHighlight\", enable);\n    }\n  };\n  \n  \n  /** importer functions **/\n  // setting manually the values of the filter\n  // no update of the gui settings, these are updated in updateSettings\n  filterMenu.setCheckBoxValue = function ( id, checked ){\n    for ( var i = 0; i < checkboxData.length; i++ ) {\n      var cbdId = checkboxData[i].checkbox.attr(\"id\");\n      if ( cbdId === id ) {\n        checkboxData[i].checkbox.property(\"checked\", checked);\n        break;\n      }\n    }\n  };\n  \n  filterMenu.getCheckBoxValue = function ( id ){\n    for ( var i = 0; i < checkboxData.length; i++ ) {\n      var cbdId = checkboxData[i].checkbox.attr(\"id\");\n      if ( cbdId === id ) {\n        return checkboxData[i].checkbox.property(\"checked\");\n        \n      }\n    }\n  };\n  // set the value of the slider\n  filterMenu.setDegreeSliderValue = function ( val ){\n    degreeSlider.property(\"value\", val);\n  };\n  \n  filterMenu.getDegreeSliderValue = function (){\n    return degreeSlider.property(\"value\");\n  };\n  \n  // update the gui without invoking graph update (calling silent onclick function)\n  filterMenu.updateSettings = function (){\n    var silent = true;\n    var sliderValue = degreeSlider.property(\"value\");\n    if ( sliderValue > 0 ) {\n      filterMenu.highlightForDegreeSlider(true);\n    } else {\n      filterMenu.highlightForDegreeSlider(false);\n    }\n    checkboxData.forEach(function ( checkboxData ){\n      var checkbox = checkboxData.checkbox;\n      checkbox.on(\"click\")(silent);\n    });\n    \n    degreeSlider.on(\"input\")();\n    degreeSlider.on(\"change\")();\n    \n  };\n  \n  return filterMenu;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/filterMenu.js\n// module id = 325\n// module chunks = 1","/**\n * Contains the logic for setting up the gravity sliders.\n *\n * @param graph the associated webvowl graph\n * @returns {{}}\n */\nmodule.exports = function ( graph ){\n  \n  var gravityMenu = {},\n    sliders = [],\n    options = graph.graphOptions(),\n    defaultCharge = options.charge();\n  \n  \n  /**\n   * Adds the gravity sliders to the website.\n   */\n  gravityMenu.setup = function (){\n    var menuEntry = d3.select(\"#m_gravity\");\n    menuEntry.on(\"mouseover\", function (){\n      var searchMenu = graph.options().searchMenu();\n      searchMenu.hideSearchEntries();\n    });\n    addDistanceSlider(\"#classSliderOption\", \"class\", \"Class distance\", options.classDistance);\n    addDistanceSlider(\"#datatypeSliderOption\", \"datatype\", \"Datatype distance\", options.datatypeDistance);\n  };\n  \n  function addDistanceSlider( selector, identifier, label, distanceFunction ){\n    var defaultLinkDistance = distanceFunction();\n    \n    var sliderContainer,\n      sliderValueLabel;\n    \n    sliderContainer = d3.select(selector)\n      .append(\"div\")\n      .datum({ distanceFunction: distanceFunction }) // connect the options-function with the slider\n      .classed(\"distanceSliderContainer\", true);\n    \n    var slider = sliderContainer.append(\"input\")\n      .attr(\"id\", identifier + \"DistanceSlider\")\n      .attr(\"type\", \"range\")\n      .attr(\"min\", 10)\n      .attr(\"max\", 600)\n      .attr(\"value\", distanceFunction())\n      .attr(\"step\", 10);\n    \n    sliderContainer.append(\"label\")\n      .classed(\"description\", true)\n      .attr(\"for\", identifier + \"DistanceSlider\")\n      .text(label);\n    \n    sliderValueLabel = sliderContainer.append(\"label\")\n      .classed(\"value\", true)\n      .attr(\"for\", identifier + \"DistanceSlider\")\n      .text(distanceFunction());\n    \n    // Store slider for easier resetting\n    sliders.push(slider);\n    \n    slider.on(\"focusout\", function (){\n      graph.updateStyle();\n    });\n    \n    slider.on(\"input\", function (){\n      var distance = slider.property(\"value\");\n      distanceFunction(distance);\n      adjustCharge(defaultLinkDistance);\n      sliderValueLabel.text(distance);\n      graph.updateStyle();\n    });\n    \n    // add wheel event to the slider\n    slider.on(\"wheel\", function (){\n      var wheelEvent = d3.event;\n      var offset;\n      if ( wheelEvent.deltaY < 0 ) offset = 10;\n      if ( wheelEvent.deltaY > 0 ) offset = -10;\n      var oldVal = parseInt(slider.property(\"value\"));\n      var newSliderValue = oldVal + offset;\n      if ( newSliderValue !== oldVal ) {\n        slider.property(\"value\", newSliderValue);\n        distanceFunction(newSliderValue);\n        slider.on(\"input\")(); // << set text and update the graphStyles\n      }\n      d3.event.preventDefault();\n    });\n  }\n  \n  function adjustCharge( defaultLinkDistance ){\n    var greaterDistance = Math.max(options.classDistance(), options.datatypeDistance()),\n      ratio = greaterDistance / defaultLinkDistance,\n      newCharge = defaultCharge * ratio;\n    \n    options.charge(newCharge);\n  }\n  \n  /**\n   * Resets the gravity sliders to their default.\n   */\n  gravityMenu.reset = function (){\n    sliders.forEach(function ( slider ){\n      slider.property(\"value\", function ( d ){\n        // Simply reload the distance from the options\n        return d.distanceFunction();\n      });\n      slider.on(\"input\")();\n    });\n  };\n  \n  \n  return gravityMenu;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/gravityMenu.js\n// module id = 326\n// module chunks = 1","/**\n * Contains the logic for connecting the modes with the website.\n *\n * @param graph the graph that belongs to these controls\n * @returns {{}}\n */\nmodule.exports = function ( graph ){\n  \n  var SAME_COLOR_MODE = { text: \"Multicolor\", type: \"same\" };\n  var GRADIENT_COLOR_MODE = { text: \"Multicolor\", type: \"gradient\" };\n  \n  var modeMenu = {},\n    checkboxes = [],\n    colorModeSwitch;\n  \n  var dynamicLabelWidthCheckBox;\n  // getter and setter for the state of color modes\n  modeMenu.colorModeState = function ( s ){\n    if ( !arguments.length ) return colorModeSwitch.datum().active;\n    colorModeSwitch.datum().active = s;\n    return modeMenu;\n  };\n  \n  \n  modeMenu.setDynamicLabelWidth = function ( val ){\n    dynamicLabelWidthCheckBox.property(\"checked\", val);\n  };\n  // getter for checkboxes\n  modeMenu.getCheckBoxContainer = function (){\n    return checkboxes;\n  };\n  // getter for the color switch [needed? ]\n  modeMenu.colorModeSwitch = function (){\n    return colorModeSwitch;\n  };\n  \n  /**\n   * Connects the website with the available graph modes.\n   */\n  modeMenu.setup = function ( pickAndPin, nodeScaling, compactNotation, colorExternals ){\n    var menuEntry = d3.select(\"#m_modes\");\n    menuEntry.on(\"mouseover\", function (){\n      var searchMenu = graph.options().searchMenu();\n      searchMenu.hideSearchEntries();\n    });\n    addCheckBoxD(\"labelWidth\", \"Dynamic label width\", \"#dynamicLabelWidth\", graph.options().dynamicLabelWidth, 1);\n    addCheckBox(\"editorMode\", \"Editing \", \"#editMode\", graph.editorMode);\n    addModeItem(pickAndPin, \"pickandpin\", \"Pick & pin\", \"#pickAndPinOption\", false);\n    addModeItem(nodeScaling, \"nodescaling\", \"Node scaling\", \"#nodeScalingOption\", true);\n    addModeItem(compactNotation, \"compactnotation\", \"Compact notation\", \"#compactNotationOption\", true);\n    var container = addModeItem(colorExternals, \"colorexternals\", \"Color externals\", \"#colorExternalsOption\", true);\n    colorModeSwitch = addExternalModeSelection(container, colorExternals);\n  };\n  function addCheckBoxD( identifier, modeName, selector, onChangeFunc, updateLvl ){\n    var moduleOptionContainer = d3.select(selector)\n      .append(\"div\")\n      .classed(\"checkboxContainer\", true);\n    \n    var moduleCheckbox = moduleOptionContainer.append(\"input\")\n      .classed(\"moduleCheckbox\", true)\n      .attr(\"id\", identifier + \"ModuleCheckbox\")\n      .attr(\"type\", \"checkbox\")\n      .property(\"checked\", onChangeFunc());\n    \n    moduleCheckbox.on(\"click\", function ( d ){\n      var isEnabled = moduleCheckbox.property(\"checked\");\n      onChangeFunc(isEnabled);\n      d3.select(\"#maxLabelWidthSlider\").node().disabled = !isEnabled;\n      d3.select(\"#maxLabelWidthvalueLabel\").classed(\"disabledLabelForSlider\", !isEnabled);\n      d3.select(\"#maxLabelWidthDescriptionLabel\").classed(\"disabledLabelForSlider\", !isEnabled);\n      \n      if ( updateLvl > 0 ) {\n        graph.animateDynamicLabelWidth();\n        // graph.lazyRefresh();\n      }\n    });\n    moduleOptionContainer.append(\"label\")\n      .attr(\"for\", identifier + \"ModuleCheckbox\")\n      .text(modeName);\n    if ( identifier === \"editorMode\" ) {\n      moduleOptionContainer.append(\"label\")\n        .attr(\"style\", \"font-size:10px;padding-top:3px\")\n        .text(\"(experimental)\");\n    }\n    \n    dynamicLabelWidthCheckBox = moduleCheckbox;\n  }\n  \n  function addCheckBox( identifier, modeName, selector, onChangeFunc ){\n    var moduleOptionContainer = d3.select(selector)\n      .append(\"div\")\n      .classed(\"checkboxContainer\", true);\n    \n    var moduleCheckbox = moduleOptionContainer.append(\"input\")\n      .classed(\"moduleCheckbox\", true)\n      .attr(\"id\", identifier + \"ModuleCheckbox\")\n      .attr(\"type\", \"checkbox\")\n      .property(\"checked\", onChangeFunc());\n    \n    moduleCheckbox.on(\"click\", function ( d ){\n      var isEnabled = moduleCheckbox.property(\"checked\");\n      onChangeFunc(isEnabled);\n      if ( isEnabled === true )\n        graph.showEditorHintIfNeeded();\n    });\n    moduleOptionContainer.append(\"label\")\n      .attr(\"for\", identifier + \"ModuleCheckbox\")\n      .text(modeName);\n    if ( identifier === \"editorMode\" ) {\n      moduleOptionContainer.append(\"label\")\n        .attr(\"style\", \"font-size:10px;padding-top:3px\")\n        .text(\" (experimental)\");\n    }\n  }\n  \n  function addModeItem( module, identifier, modeName, selector, updateGraphOnClick ){\n    var moduleOptionContainer,\n      moduleCheckbox;\n    \n    moduleOptionContainer = d3.select(selector)\n      .append(\"div\")\n      .classed(\"checkboxContainer\", true)\n      .datum({ module: module, defaultState: module.enabled() });\n    \n    moduleCheckbox = moduleOptionContainer.append(\"input\")\n      .classed(\"moduleCheckbox\", true)\n      .attr(\"id\", identifier + \"ModuleCheckbox\")\n      .attr(\"type\", \"checkbox\")\n      .property(\"checked\", module.enabled());\n    \n    // Store for easier resetting all modes\n    checkboxes.push(moduleCheckbox);\n    \n    moduleCheckbox.on(\"click\", function ( d, silent ){\n      var isEnabled = moduleCheckbox.property(\"checked\");\n      d.module.enabled(isEnabled);\n      if ( updateGraphOnClick && silent !== true ) {\n        graph.executeColorExternalsModule();\n        graph.executeCompactNotationModule();\n        graph.lazyRefresh();\n      }\n    });\n    \n    moduleOptionContainer.append(\"label\")\n      .attr(\"for\", identifier + \"ModuleCheckbox\")\n      .text(modeName);\n    \n    return moduleOptionContainer;\n  }\n  \n  function addExternalModeSelection( container, colorExternalsMode ){\n    var button = container.append(\"button\").datum({ active: false }).classed(\"color-mode-switch\", true);\n    applyColorModeSwitchState(button, colorExternalsMode);\n    \n    button.on(\"click\", function ( silent ){\n      var data = button.datum();\n      data.active = !data.active;\n      applyColorModeSwitchState(button, colorExternalsMode);\n      if ( colorExternalsMode.enabled() && silent !== true ) {\n        graph.executeColorExternalsModule();\n        graph.lazyRefresh();\n      }\n    });\n    \n    return button;\n  }\n  \n  function applyColorModeSwitchState( element, colorExternalsMode ){\n    var isActive = element.datum().active;\n    var activeColorMode = getColorModeByState(isActive);\n    \n    element.classed(\"active\", isActive)\n      .text(activeColorMode.text);\n    \n    if ( colorExternalsMode ) {\n      colorExternalsMode.colorModeType(activeColorMode.type);\n    }\n  }\n  \n  function getColorModeByState( isActive ){\n    return isActive ? GRADIENT_COLOR_MODE : SAME_COLOR_MODE;\n  }\n  \n  /**\n   * Resets the modes to their default.\n   */\n  modeMenu.reset = function (){\n    checkboxes.forEach(function ( checkbox ){\n      var defaultState = checkbox.datum().defaultState,\n        isChecked = checkbox.property(\"checked\");\n      \n      if ( isChecked !== defaultState ) {\n        checkbox.property(\"checked\", defaultState);\n        // Call onclick event handlers programmatically\n        checkbox.on(\"click\")(checkbox.datum());\n      }\n      \n      // Reset the module that is connected with the checkbox\n      checkbox.datum().module.reset();\n    });\n    \n    // set the switch to active and simulate disabling\n    colorModeSwitch.datum().active = true;\n    colorModeSwitch.on(\"click\")();\n  };\n  \n  /** importer functions **/\n  // setting manually the values of the filter\n  // no update of the gui settings, these are updated in updateSettings\n  modeMenu.setCheckBoxValue = function ( id, checked ){\n    for ( var i = 0; i < checkboxes.length; i++ ) {\n      var cbdId = checkboxes[i].attr(\"id\");\n      \n      if ( cbdId === id ) {\n        checkboxes[i].property(\"checked\", checked);\n        break;\n      }\n    }\n  };\n  modeMenu.getCheckBoxValue = function ( id ){\n    for ( var i = 0; i < checkboxes.length; i++ ) {\n      var cbdId = checkboxes[i].attr(\"id\");\n      if ( cbdId === id ) {\n        return checkboxes[i].property(\"checked\");\n      }\n    }\n  };\n  \n  modeMenu.setColorSwitchState = function ( state ){\n    // need the !state because we simulate later a click\n    modeMenu.colorModeState(!state);\n  };\n  modeMenu.setColorSwitchStateUsingURL = function ( state ){\n    // need the !state because we simulate later a click\n    modeMenu.colorModeState(!state);\n    colorModeSwitch.on(\"click\")(true);\n  };\n  \n  \n  modeMenu.updateSettingsUsingURL = function (){\n    var silent = true;\n    checkboxes.forEach(function ( checkbox ){\n      checkbox.on(\"click\")(checkbox.datum(), silent);\n    });\n  };\n  \n  modeMenu.updateSettings = function (){\n    var silent = true;\n    checkboxes.forEach(function ( checkbox ){\n      checkbox.on(\"click\")(checkbox.datum(), silent);\n    });\n    // this simulates onclick and inverts its state\n    colorModeSwitch.on(\"click\")(silent);\n  };\n  return modeMenu;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/modeMenu.js\n// module id = 327\n// module chunks = 1","module.exports = function ( graph ){\n  var debugMenu = {},\n    checkboxes = [];\n  \n  \n  var hoverFlag = false;\n  var specialCbx;\n  debugMenu.setup = function (){\n    var menuEntry = d3.select(\"#debugMenuHref\");\n    \n    menuEntry.on(\"mouseover\", function (){\n      if ( hoverFlag === false ) {\n        var searchMenu = graph.options().searchMenu();\n        searchMenu.hideSearchEntries();\n        specialCbx.on(\"click\")(true);\n        if ( graph.editorMode() === false ) {\n          d3.select(\"#useAccuracyHelper\").style(\"color\", \"#979797\");\n          d3.select(\"#useAccuracyHelper\").style(\"pointer-events\", \"none\");\n          \n          // regardless the state on which useAccuracyHelper is , we are not in editing mode -> disable it\n          d3.select(\"#showDraggerObject\").style(\"color\", \"#979797\");\n          d3.select(\"#showDraggerObject\").style(\"pointer-events\", \"none\");\n        } else {\n          d3.select(\"#useAccuracyHelper\").style(\"color\", \"#2980b9\");\n          d3.select(\"#useAccuracyHelper\").style(\"pointer-events\", \"auto\");\n        }\n        hoverFlag = true;\n      }\n    });\n    menuEntry.on(\"mouseout\", function (){\n      hoverFlag = false;\n    });\n    \n    \n    specialCbx = addCheckBox(\"useAccuracyHelper\", \"Use accuracy helper\", \"#useAccuracyHelper\", graph.options().useAccuracyHelper,\n      function ( enabled, silent ){\n        if ( !enabled ) {\n          d3.select(\"#showDraggerObject\").style(\"color\", \"#979797\");\n          d3.select(\"#showDraggerObject\").style(\"pointer-events\", \"none\");\n          d3.select(\"#showDraggerObjectConfigCheckbox\").node().checked = false;\n        } else {\n          d3.select(\"#showDraggerObject\").style(\"color\", \"#2980b9\");\n          d3.select(\"#showDraggerObject\").style(\"pointer-events\", \"auto\");\n        }\n        \n        if ( silent === true ) return;\n        graph.lazyRefresh();\n        graph.updateDraggerElements();\n      }\n    );\n    addCheckBox(\"showDraggerObject\", \"Show accuracy helper\", \"#showDraggerObject\", graph.options().showDraggerObject,\n      function ( enabled, silent ){\n        if ( silent === true ) return;\n        graph.lazyRefresh();\n        graph.updateDraggerElements();\n      });\n    addCheckBox(\"showFPS_Statistics\", \"Show rendering statistics\", \"#showFPS_Statistics\", graph.options().showRenderingStatistic,\n      function ( enabled, silent ){\n        \n        if ( graph.options().getHideDebugFeatures() === false ) {\n          d3.select(\"#FPS_Statistics\").classed(\"hidden\", !enabled);\n        } else {\n          d3.select(\"#FPS_Statistics\").classed(\"hidden\", true);\n        }\n        \n        \n      });\n    addCheckBox(\"showModeOfOperation\", \"Show input modality\", \"#showModeOfOperation\", graph.options().showInputModality,\n      function ( enabled ){\n        if ( graph.options().getHideDebugFeatures() === false ) {\n          d3.select(\"#modeOfOperationString\").classed(\"hidden\", !enabled);\n        } else {\n          d3.select(\"#modeOfOperationString\").classed(\"hidden\", true);\n        }\n      });\n    \n    \n  };\n  \n  \n  function addCheckBox( identifier, modeName, selector, onChangeFunc, _callbackFunction ){\n    var configOptionContainer = d3.select(selector)\n      .append(\"div\")\n      .classed(\"checkboxContainer\", true);\n    var configCheckbox = configOptionContainer.append(\"input\")\n      .classed(\"moduleCheckbox\", true)\n      .attr(\"id\", identifier + \"ConfigCheckbox\")\n      .attr(\"type\", \"checkbox\")\n      .property(\"checked\", onChangeFunc());\n    \n    \n    configCheckbox.on(\"click\", function ( silent ){\n      var isEnabled = configCheckbox.property(\"checked\");\n      onChangeFunc(isEnabled);\n      _callbackFunction(isEnabled, silent);\n      \n    });\n    checkboxes.push(configCheckbox);\n    configOptionContainer.append(\"label\")\n      .attr(\"for\", identifier + \"ConfigCheckbox\")\n      .text(modeName);\n    \n    return configCheckbox;\n  }\n  \n  debugMenu.setCheckBoxValue = function ( identifier, value ){\n    for ( var i = 0; i < checkboxes.length; i++ ) {\n      var cbdId = checkboxes[i].attr(\"id\");\n      if ( cbdId === identifier ) {\n        checkboxes[i].property(\"checked\", value);\n        break;\n      }\n    }\n  };\n  \n  debugMenu.getCheckBoxValue = function ( id ){\n    for ( var i = 0; i < checkboxes.length; i++ ) {\n      var cbdId = checkboxes[i].attr(\"id\");\n      if ( cbdId === id ) {\n        return checkboxes[i].property(\"checked\");\n      }\n    }\n  };\n  \n  debugMenu.updateSettings = function (){\n    d3.selectAll(\".debugOption\").classed(\"hidden\", graph.options().getHideDebugFeatures());\n    \n    var silent = true;\n    checkboxes.forEach(function ( checkbox ){\n      checkbox.on(\"click\")(silent);\n    });\n    if ( graph.editorMode() === false ) {\n      \n      d3.select(\"#useAccuracyHelper\").style(\"color\", \"#979797\");\n      d3.select(\"#useAccuracyHelper\").style(\"pointer-events\", \"none\");\n      \n      // regardless the state on which useAccuracyHelper is , we are not in editing mode -> disable it\n      d3.select(\"#showDraggerObject\").style(\"color\", \"#979797\");\n      d3.select(\"#showDraggerObject\").style(\"pointer-events\", \"none\");\n    } else {\n      \n      d3.select(\"#useAccuracyHelper\").style(\"color\", \"#2980b9\");\n      d3.select(\"#useAccuracyHelper\").style(\"pointer-events\", \"auto\");\n    }\n    \n  };\n  \n  return debugMenu;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/debugMenu.js\n// module id = 328\n// module chunks = 1","var unescape = require(\"lodash/unescape\");\n\nmodule.exports = function ( graph ){\n  \n  var ontologyMenu = {},\n    loadingInfo = d3.select(\"#loading-info\"),\n    loadingProgress = d3.select(\"#loading-progress\"),\n    \n    ontologyMenuTimeout,\n    fileToLoad,\n    stopTimer = false,\n    loadingError = false,\n    loadingStatusTimer,\n    conversion_sessionId,\n    cachedConversions = {},\n    loadingModule,\n    loadOntologyFromText;\n  var currentLoadedOntologyName = \"\";\n  \n  String.prototype.beginsWith = function ( string ){\n    return (this.indexOf(string) === 0);\n  };\n  \n  ontologyMenu.getLoadingFunction = function (){\n    return loadOntologyFromText;\n  };\n  \n  ontologyMenu.clearCachedVersion = function (){\n    if ( cachedConversions[currentLoadedOntologyName] ) {\n      cachedConversions[currentLoadedOntologyName] = undefined;\n    }\n  };\n  \n  \n  ontologyMenu.reloadCachedOntology = function (){\n    ontologyMenu.clearCachedVersion();\n    graph.clearGraphData();\n    loadingModule.parseUrlAndLoadOntology(false);\n  };\n  \n  ontologyMenu.cachedOntology = function ( ontoName ){\n    currentLoadedOntologyName = ontoName;\n    if ( cachedConversions[ontoName] ) {\n      var locStr = String(location.hash);\n      d3.select(\"#reloadSvgIcon\").node().disabled = false;\n      graph.showReloadButtonAfterLayoutOptimization(true);\n      if ( locStr.indexOf(\"#file\") > -1 ) {\n        d3.select(\"#reloadSvgIcon\").node().disabled = true;\n        d3.select(\"#reloadCachedOntology\").node().title = \"reloading original version not possible, please reload the file\";\n        d3.select(\"#reloadSvgIcon\").classed(\"disabledReloadElement\", true);\n        d3.select(\"#svgStringText\").style(\"fill\", \"gray\");\n        d3.select(\"#svgStringText\").classed(\"noselect\", true);\n      }\n      else {\n        d3.select(\"#reloadCachedOntology\").node().title = \"generate new visualization and overwrite cached ontology\";\n        d3.select(\"#reloadSvgIcon\").classed(\"disabledReloadElement\", false);\n        d3.select(\"#svgStringText\").style(\"fill\", \"black\");\n        d3.select(\"#svgStringText\").classed(\"noselect\", true);\n      }\n    } else {\n      graph.showReloadButtonAfterLayoutOptimization(false);\n      \n    }\n    return cachedConversions[ontoName];\n  };\n  ontologyMenu.setCachedOntology = function ( ontoName, ontoContent ){\n    cachedConversions[ontoName] = ontoContent;\n    currentLoadedOntologyName = ontoName;\n  };\n  \n  ontologyMenu.getErrorStatus = function (){\n    return loadingError;\n  };\n  \n  ontologyMenu.setup = function ( _loadOntologyFromText ){\n    loadOntologyFromText = _loadOntologyFromText;\n    loadingModule = graph.options().loadingModule();\n    var menuEntry = d3.select(\"#m_select\");\n    menuEntry.on(\"mouseover\", function (){\n      var searchMenu = graph.options().searchMenu();\n      searchMenu.hideSearchEntries();\n    });\n    \n    setupConverterButtons();\n    setupUploadButton();\n    \n    var descriptionButton = d3.select(\"#error-description-button\").datum({ open: false });\n    descriptionButton.on(\"click\", function ( data ){\n      var errorContainer = d3.select(\"#error-description-container\");\n      var errorDetailsButton = d3.select(this);\n      \n      // toggle the state\n      data.open = !data.open;\n      var descriptionVisible = data.open;\n      if ( descriptionVisible ) {\n        errorDetailsButton.text(\"Hide error details\");\n      } else {\n        errorDetailsButton.text(\"Show error details\");\n      }\n      errorContainer.classed(\"hidden\", !descriptionVisible);\n    });\n    \n    setupUriListener();\n    loadingModule.setOntologyMenu(ontologyMenu);\n  };\n  \n  \n  function setupUriListener(){\n    // reload ontology when hash parameter gets changed manually\n    d3.select(window).on(\"hashchange\", function (){\n      var oldURL = d3.event.oldURL, newURL = d3.event.newURL;\n      if ( oldURL !== newURL ) {\n        // don't reload when just the hash parameter gets appended\n        if ( newURL === oldURL + \"#\" ) {\n          return;\n        }\n        updateNavigationHrefs();\n        loadingModule.parseUrlAndLoadOntology();\n      }\n    });\n    updateNavigationHrefs();\n  }\n  \n  ontologyMenu.stopLoadingTimer = function (){\n    stopTimer = true;\n    clearTimeout(loadingStatusTimer);\n  };\n  \n  /**\n   * Quick fix: update all anchor tags that are used as buttons because a click on them\n   * changes the url and this will load an other ontology.\n   */\n  function updateNavigationHrefs(){\n    d3.selectAll(\"#menuElementContainer > li > a\").attr(\"href\", location.hash || \"#\");\n  }\n  \n  ontologyMenu.setIriText = function ( text ){\n    d3.select(\"#iri-converter-input\").node().value = text;\n    d3.select(\"#iri-converter-button\").attr(\"disabled\", false);\n    d3.select(\"#iri-converter-form\").on(\"submit\")();\n  };\n  \n  ontologyMenu.clearDetailInformation = function (){\n    var bpContainer = d3.select(\"#bulletPoint_container\");\n    var htmlCollection = bpContainer.node().children;\n    var numEntries = htmlCollection.length;\n    \n    for ( var i = 0; i < numEntries; i++ ) {\n      htmlCollection[0].remove();\n    }\n  };\n  ontologyMenu.append_message = function ( msg ){\n    // forward call\n    append_message(msg);\n  };\n  function append_message( msg ){\n    var bpContainer = d3.select(\"#bulletPoint_container\");\n    var div = bpContainer.append(\"div\");\n    div.node().innerHTML = msg;\n    loadingModule.scrollDownDetails();\n  }\n  \n  ontologyMenu.append_message_toLastBulletPoint = function ( msg ){\n    // forward call\n    append_message_toLastBulletPoint(msg);\n  };\n  \n  ontologyMenu.append_bulletPoint = function ( msg ){\n    // forward call\n    append_bulletPoint(msg);\n  };\n  function append_message_toLastBulletPoint( msg ){\n    var bpContainer = d3.select(\"#bulletPoint_container\");\n    var htmlCollection = bpContainer.node().getElementsByTagName(\"LI\");\n    var lastItem = htmlCollection.length - 1;\n    if ( lastItem >= 0 ) {\n      var oldText = htmlCollection[lastItem].innerHTML;\n      htmlCollection[lastItem].innerHTML = oldText + msg;\n    }\n    loadingModule.scrollDownDetails();\n  }\n  \n  function append_bulletPoint( msg ){\n    var bp_container = d3.select(\"#bulletPoint_container\");\n    var bp = bp_container.append(\"li\");\n    bp.node().innerHTML = msg;\n    d3.select(\"#currentLoadingStep\").node().innerHTML = msg;\n    loadingModule.scrollDownDetails();\n  }\n  \n  \n  function setupConverterButtons(){\n    var iriConverterButton = d3.select(\"#iri-converter-button\");\n    var iriConverterInput = d3.select(\"#iri-converter-input\");\n    \n    iriConverterInput.on(\"input\", function (){\n      keepOntologySelectionOpenShortly();\n      \n      var inputIsEmpty = iriConverterInput.property(\"value\") === \"\";\n      iriConverterButton.attr(\"disabled\", inputIsEmpty || undefined);\n    }).on(\"click\", function (){\n      keepOntologySelectionOpenShortly();\n    });\n    \n    d3.select(\"#iri-converter-form\").on(\"submit\", function (){\n      var inputName = iriConverterInput.property(\"value\");\n      \n      // remove first spaces\n      var clearedName = inputName.replace(/%20/g, \" \");\n      while ( clearedName.beginsWith(\" \") ) {\n        clearedName = clearedName.substr(1, clearedName.length);\n      }\n      // remove ending spaces\n      while ( clearedName.endsWith(\" \") ) {\n        clearedName = clearedName.substr(0, clearedName.length - 1);\n      }\n      // check if iri is actually an url for a json file (ends with .json)\n      // create lowercase filenames;\n      inputName = clearedName;\n      var lc_iri = inputName.toLowerCase();\n      if ( lc_iri.endsWith(\".json\") ) {\n        location.hash = \"url=\" + inputName;\n        iriConverterInput.property(\"value\", \"\");\n        iriConverterInput.on(\"input\")();\n      } else {\n        location.hash = \"iri=\" + inputName;\n        iriConverterInput.property(\"value\", \"\");\n        iriConverterInput.on(\"input\")();\n      }\n      d3.event.preventDefault();\n      return false;\n    });\n  }\n  \n  function setupUploadButton(){\n    var input = d3.select(\"#file-converter-input\"),\n      inputLabel = d3.select(\"#file-converter-label\"),\n      uploadButton = d3.select(\"#file-converter-button\");\n    \n    input.on(\"change\", function (){\n      var selectedFiles = input.property(\"files\");\n      if ( selectedFiles.length <= 0 ) {\n        inputLabel.text(\"Select ontology file\");\n        uploadButton.property(\"disabled\", true);\n      } else {\n        inputLabel.text(selectedFiles[0].name);\n        fileToLoad = selectedFiles[0].name;\n        uploadButton.property(\"disabled\", false);\n        uploadButton.node().click();\n        // close menu;\n        graph.options().navigationMenu().hideAllMenus();\n      }\n    });\n    \n    uploadButton.on(\"click\", function (){\n      var selectedFile = input.property(\"files\")[0];\n      if ( !selectedFile ) {\n        return false;\n      }\n      var newHashParameter = \"file=\" + selectedFile.name;\n      // Trigger the reupload manually, because the iri is not changing\n      if ( location.hash === \"#\" + newHashParameter ) {\n        loadingModule.parseUrlAndLoadOntology();\n      } else {\n        location.hash = newHashParameter;\n      }\n    });\n  }\n  \n  function setLoadingStatusInfo( message ){\n    // check if there is a owl2vowl li item;\n    var o2vConverterContainer = d3.select(\"#o2vConverterContainer\");\n    if ( !o2vConverterContainer.node() ) {\n      var bp_container = d3.select(\"#bulletPoint_container\");\n      var div = bp_container.append(\"div\");\n      o2vConverterContainer = div.append(\"ul\");\n      o2vConverterContainer.attr(\"id\", \"o2vConverterContainer\");\n      o2vConverterContainer.style(\"margin-left\", \"-25px\");\n    }\n    // clear o2vConverterContainer;\n    var htmlCollection = o2vConverterContainer.node().children;\n    var numEntries = htmlCollection.length;\n    for ( var i = 0; i < numEntries; i++ ) {\n      htmlCollection[0].remove();\n    }\n    // split tokens provided by o2v messages\n    var tokens = message.split(\"* \");\n    var liForToken;\n    for ( var t = 0; t < tokens.length; t++ ) {\n      var tokenMessage = tokens[t];\n      // create li for tokens;\n      if ( tokenMessage.length > 0 ) {\n        liForToken = o2vConverterContainer.append(\"li\");\n        liForToken.attr(\"type\", \"disc\");\n        liForToken.node().innerHTML = tokenMessage.replace(/\\n/g, \"<br>\");\n      }\n    }\n    if ( liForToken )\n      liForToken.node().innerHTML += \"<br>\";\n    \n    loadingModule.scrollDownDetails();\n  }\n  \n  ontologyMenu.setLoadingStatusInfo = function ( message ){\n    // forward call\n    setLoadingStatusInfo(message);\n  };\n  \n  function getLoadingStatusOnceCallBacked( callback, parameter ){\n    d3.xhr(\"loadingStatus?sessionId=\" + conversion_sessionId, \"application/text\", function ( error, request ){\n      if ( error ) {\n        console.log(\"ontologyMenu getLoadingStatusOnceCallBacked throws error\");\n        console.log(\"---------Error -----------\");\n        console.log(error);\n        console.log(\"---------Request -----------\");\n        console.log(request);\n      }\n      setLoadingStatusInfo(request.responseText);\n      callback(parameter);\n    });\n  }\n  \n  function getLoadingStatusTimeLooped(){\n    d3.xhr(\"loadingStatus?sessionId=\" + conversion_sessionId, \"application/text\", function ( error, request ){\n      if ( error ) {\n        console.log(\"ontologyMenu getLoadingStatusTimeLooped throws error\");\n        console.log(\"---------Error -----------\");\n        console.log(error);\n        console.log(\"---------Request -----------\");\n        console.log(request);\n      }\n      if ( stopTimer === false ) {\n        setLoadingStatusInfo(request.responseText);\n        timedLoadingStatusLogger();\n      }\n    });\n  }\n  \n  function timedLoadingStatusLogger(){\n    clearTimeout(loadingStatusTimer);\n    if ( stopTimer === false ) {\n      loadingStatusTimer = setTimeout(function (){\n        getLoadingStatusTimeLooped();\n      }, 1000);\n    }\n  }\n  \n  function callbackUpdateLoadingMessage( msg ){\n    d3.xhr(\"loadingStatus\", \"application/text\", function ( error, request ){\n      if ( request !== undefined ) {\n        setLoadingStatusInfo(request.responseText + \"<br>\" + msg);\n      } else {\n        append_message(msg);\n      }\n    });\n  }\n  \n  ontologyMenu.setConversionID = function ( id ){\n    conversion_sessionId = id;\n  };\n  \n  ontologyMenu.callbackLoad_Ontology_FromIRI = function ( parameter ){\n    var relativePath = parameter[0];\n    var ontoName = parameter[1];\n    var localThreadId = parameter[2];\n    stopTimer = false;\n    timedLoadingStatusLogger();\n    d3.xhr(relativePath, \"application/json\", function ( error, request ){\n      var loadingSuccessful = !error;\n      // check if error occurred or responseText is empty\n      if ( (error !== null && error.status === 500) || (request && request.responseText.length === 0) ) {\n        clearTimeout(loadingStatusTimer);\n        stopTimer = true;\n        getLoadingStatusOnceCallBacked(callbackFromIRI_URL_ERROR, [error, request, localThreadId]);\n      }\n      var jsonText;\n      if ( loadingSuccessful ) {\n        clearTimeout(loadingStatusTimer);\n        stopTimer = true;\n        jsonText = request.responseText;\n        getLoadingStatusOnceCallBacked(callbackFromIRI_Success, [jsonText, ontoName, localThreadId]);\n      }\n    });\n  };\n  \n  \n  ontologyMenu.callbackLoad_Ontology_From_DirectInput = function ( text, parameter ){\n    var input = text;\n    var sessionId = parameter[1];\n    stopTimer = false;\n    timedLoadingStatusLogger();\n    \n    var formData = new FormData();\n    formData.append(\"input\", input);\n    formData.append(\"sessionId\", sessionId);\n    var xhr = new XMLHttpRequest();\n    \n    xhr.open(\"POST\", \"directInput\", true);\n    xhr.onload = function (){\n      clearTimeout(loadingStatusTimer);\n      stopTimer = true;\n      getLoadingStatusOnceCallBacked(callbackForConvert, [xhr, input, sessionId]);\n    };\n    timedLoadingStatusLogger();\n    xhr.send(formData);\n    \n  };\n  function callbackFromIRI_Success( parameter ){\n    var local_conversionId = parameter[2];\n    if ( local_conversionId !== conversion_sessionId ) {\n      console.log(\"The conversion process for file:\" + parameter[1] + \" has been canceled!\");\n      ontologyMenu.conversionFinished(local_conversionId);\n      return;\n    }\n    loadingModule.loadFromOWL2VOWL(parameter[0], parameter[1]);\n    ontologyMenu.conversionFinished();\n    \n  }\n  \n  function callbackFromDirectInput_Success( parameter ){\n    var local_conversionId = parameter[1];\n    if ( local_conversionId !== conversion_sessionId ) {\n      console.log(\"The conversion process for file:\" + parameter[1] + \" has been canceled!\");\n      ontologyMenu.conversionFinished(local_conversionId);\n      return;\n    }\n    loadingModule.loadFromOWL2VOWL(parameter[0], \"DirectInputConversionID\" + local_conversionId);\n    ontologyMenu.conversionFinished();\n    \n  }\n  \n  ontologyMenu.getConversionId = function (){\n    return conversion_sessionId;\n  };\n  \n  ontologyMenu.callbackLoad_JSON_FromURL = function ( parameter ){\n    var relativePath = parameter[0];\n    var ontoName = parameter[1];\n    var local_conversionId = parameter[2];\n    stopTimer = false;\n    timedLoadingStatusLogger();\n    d3.xhr(relativePath, \"application/json\", function ( error, request ){\n      var loadingSuccessful = !error;\n      // check if error occurred or responseText is empty\n      if ( (error !== null && error.status === 500) || (request && request.responseText.length === 0) ) {\n        clearTimeout(loadingStatusTimer);\n        stopTimer = true;\n        loadingSuccessful = false;\n        console.log(request);\n        console.log(request.responseText.length);\n        getLoadingStatusOnceCallBacked(callbackFromJSON_URL_ERROR, [error, request, local_conversionId]);\n      }\n      if ( loadingSuccessful ) {\n        clearTimeout(loadingStatusTimer);\n        stopTimer = true;\n        var jsonText = request.responseText;\n        getLoadingStatusOnceCallBacked(callbackFromJSON_Success, [jsonText, ontoName, local_conversionId]);\n      }\n    });\n  };\n  \n  function callbackFromJSON_Success( parameter ){\n    var local_conversionId = parameter[2];\n    if ( local_conversionId !== conversion_sessionId ) {\n      console.log(\"The conversion process for file:\" + parameter[1] + \" has been canceled!\");\n      return;\n    }\n    loadingModule.loadFromOWL2VOWL(parameter[0], parameter[1]);\n  }\n  \n  function callbackFromJSON_URL_ERROR( parameter ){\n    var error = parameter[0];\n    var request = parameter[1];\n    var local_conversionId = parameter[2];\n    if ( local_conversionId !== conversion_sessionId ) {\n      console.log(\"This thread has been canceled!!\");\n      ontologyMenu.conversionFinished(local_conversionId);\n      return;\n    }\n    callbackUpdateLoadingMessage(\"<br><span style='color:red'> Failed to convert the file.</span> \" +\n      \" Ontology could not be loaded.<br>Is it a valid OWL ontology? Please check with <a target=\\\"_blank\\\"\" +\n      \"href=\\\"http://visualdataweb.de/validator/\\\">OWL Validator</a>\");\n    \n    if ( error !== null && error.status === 500 ) {\n      append_message(\"<span style='color:red'>Could not find ontology  at the URL</span>\");\n    }\n    if ( request && request.responseText.length === 0 ) {\n      append_message(\"<span style='color:red'>Received empty graph</span>\");\n    }\n    graph.handleOnLoadingError();\n    ontologyMenu.conversionFinished();\n  }\n  \n  \n  function callbackFromIRI_URL_ERROR( parameter ){\n    var error = parameter[0];\n    var request = parameter[1];\n    var local_conversionId = parameter[2];\n    if ( local_conversionId !== conversion_sessionId ) {\n      console.log(\"This thread has been canceled!!\");\n      ontologyMenu.conversionFinished(local_conversionId);\n      return;\n    }\n    callbackUpdateLoadingMessage(\"<br><span style='color:red'> Failed to convert the file.</span> \" +\n      \" Ontology could not be loaded.<br>Is it a valid OWL ontology? Please check with <a target=\\\"_blank\\\"\" +\n      \"href=\\\"http://visualdataweb.de/validator/\\\">OWL Validator</a>\");\n    \n    if ( error !== null && error.status === 500 ) {\n      append_message(\"<span style='color:red'>Could not find ontology  at the URL</span>\");\n    }\n    if ( request && request.responseText.length === 0 ) {\n      append_message(\"<span style='color:red'>Received empty graph</span>\");\n    }\n    graph.handleOnLoadingError();\n    ontologyMenu.conversionFinished();\n  }\n  \n  function callbackFromDirectInput_ERROR( parameter ){\n    \n    var error = parameter[0];\n    var request = parameter[1];\n    var local_conversionId = parameter[2];\n    if ( local_conversionId !== conversion_sessionId ) {\n      console.log(\"The loading process for direct input has been canceled!\");\n      return;\n    }\n    // callbackUpdateLoadingMessage(\"<br> <span style='color:red'> Failed to convert the file.</span> \"+\n    //     \"Ontology could not be loaded.<br>Is it a valid OWL ontology? Please check with <a target=\\\"_blank\\\"\" +\n    //     \"href=\\\"http://visualdataweb.de/validator/\\\">OWL Validator</a>\");\n    if ( error !== null && error.status === 500 ) {\n      append_message(\"<span style='color:red'>Could not convert direct input</span>\");\n    }\n    if ( request && request.responseText.length === 0 ) {\n      append_message(\"<span style='color:red'>Received empty graph</span>\");\n    }\n    \n    graph.handleOnLoadingError();\n    ontologyMenu.conversionFinished();\n  }\n  \n  ontologyMenu.callbackLoadFromOntology = function ( selectedFile, filename, local_threadId ){\n    callbackLoadFromOntology(selectedFile, filename, local_threadId);\n  };\n  \n  function callbackLoadFromOntology( selectedFile, filename, local_threadId ){\n    stopTimer = false;\n    timedLoadingStatusLogger();\n    \n    var formData = new FormData();\n    formData.append(\"ontology\", selectedFile);\n    formData.append(\"sessionId\", local_threadId);\n    var xhr = new XMLHttpRequest();\n    \n    xhr.open(\"POST\", \"convert\", true);\n    xhr.onload = function (){\n      clearTimeout(loadingStatusTimer);\n      stopTimer = true;\n      console.log(xhr);\n      getLoadingStatusOnceCallBacked(callbackForConvert, [xhr, filename, local_threadId]);\n    };\n    timedLoadingStatusLogger();\n    xhr.send(formData);\n  }\n  \n  function callbackForConvert( parameter ){\n    var xhr = parameter[0];\n    var filename = parameter[1];\n    var local_threadId = parameter[2];\n    if ( local_threadId !== conversion_sessionId ) {\n      console.log(\"The conversion process for file:\" + filename + \" has been canceled!\");\n      ontologyMenu.conversionFinished(local_threadId);\n      return;\n    }\n    if ( xhr.status === 200 ) {\n      loadingModule.loadFromOWL2VOWL(xhr.responseText, filename);\n      ontologyMenu.conversionFinished();\n    } else {\n      var uglyJson=xhr.responseText;\n      var jsonResut=JSON.parse(uglyJson);\n      var niceJSON=JSON.stringify(jsonResut, 'null', '  ');\n      niceJSON= niceJSON.replace(new RegExp('\\r?\\n','g'), '<br />');\n      callbackUpdateLoadingMessage(\"Failed to convert the file. \" +\n          \"<br />Server answer: <br />\"+\n          \"<hr>\"+niceJSON+ \"<hr>\"+\n        \"Ontology could not be loaded.<br />Is it a valid OWL ontology? Please check with <a target=\\\"_blank\\\"\" +\n        \"href=\\\"http://visualdataweb.de/validator/\\\">OWL Validator</a>\");\n      \n      graph.handleOnLoadingError();\n      ontologyMenu.conversionFinished();\n    }\n  }\n  \n  ontologyMenu.conversionFinished = function ( id ){\n    var local_id = conversion_sessionId;\n    if ( id ) {\n      local_id = id;\n    }\n    d3.xhr(\"conversionDone?sessionId=\" + local_id, \"application/text\", function ( error, request ){\n      if ( error ) {\n        console.log(\"ontologyMenu conversionFinished throws error\");\n        console.log(\"---------Error -----------\");\n        console.log(error);\n        console.log(\"---------Request -----------\");\n        console.log(request);\n      }\n    });\n  };\n  \n  function keepOntologySelectionOpenShortly(){\n    // Events in the menu should not be considered\n    var ontologySelection = d3.select(\"#select .toolTipMenu\");\n    ontologySelection.on(\"click\", function (){\n      d3.event.stopPropagation();\n    }).on(\"keydown\", function (){\n      d3.event.stopPropagation();\n    });\n    \n    ontologySelection.style(\"display\", \"block\");\n    \n    function disableKeepingOpen(){\n      ontologySelection.style(\"display\", undefined);\n      \n      clearTimeout(ontologyMenuTimeout);\n      d3.select(window).on(\"click\", undefined).on(\"keydown\", undefined);\n      ontologySelection.on(\"mouseover\", undefined);\n    }\n    \n    // Clear the timeout to handle fast calls of this function\n    clearTimeout(ontologyMenuTimeout);\n    ontologyMenuTimeout = setTimeout(function (){\n      disableKeepingOpen();\n    }, 3000);\n    \n    // Disable forced open selection on interaction\n    d3.select(window).on(\"click\", function (){\n      disableKeepingOpen();\n    }).on(\"keydown\", function (){\n      disableKeepingOpen();\n    });\n    \n    ontologySelection.on(\"mouseover\", function (){\n      disableKeepingOpen();\n    });\n  }\n  \n  ontologyMenu.showLoadingStatus = function ( visible ){\n    if ( visible === true ) {\n      displayLoadingIndicators();\n    }\n    else {\n      hideLoadingInformations();\n    }\n  };\n  \n  function displayLoadingIndicators(){\n    d3.select(\"#layoutLoadingProgressBarContainer\").classed(\"hidden\", false);\n    loadingInfo.classed(\"hidden\", false);\n    loadingProgress.classed(\"hidden\", false);\n  }\n  \n  function hideLoadingInformations(){\n    loadingInfo.classed(\"hidden\", true);\n  }\n  \n  return ontologyMenu;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/ontologyMenu.js\n// module id = 329\n// module chunks = 1","var toString = require('./toString'),\n    unescapeHtmlChar = require('./_unescapeHtmlChar');\n\n/** Used to match HTML entities and HTML characters. */\nvar reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n    reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\n/**\n * The inverse of `_.escape`; this method converts the HTML entities\n * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n * their corresponding characters.\n *\n * **Note:** No other HTML entities are unescaped. To unescape additional\n * HTML entities use a third-party library like [_he_](https://mths.be/he).\n *\n * @static\n * @memberOf _\n * @since 0.6.0\n * @category String\n * @param {string} [string=''] The string to unescape.\n * @returns {string} Returns the unescaped string.\n * @example\n *\n * _.unescape('fred, barney, &amp; pebbles');\n * // => 'fred, barney, & pebbles'\n */\nfunction unescape(string) {\n  string = toString(string);\n  return (string && reHasEscapedHtml.test(string))\n    ? string.replace(reEscapedHtml, unescapeHtmlChar)\n    : string;\n}\n\nmodule.exports = unescape;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/unescape.js\n// module id = 330\n// module chunks = 1","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map HTML entities to characters. */\nvar htmlUnescapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n};\n\n/**\n * Used by `_.unescape` to convert HTML entities to characters.\n *\n * @private\n * @param {string} chr The matched character to unescape.\n * @returns {string} Returns the unescaped character.\n */\nvar unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\nmodule.exports = unescapeHtmlChar;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_unescapeHtmlChar.js\n// module id = 331\n// module chunks = 1","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_basePropertyOf.js\n// module id = 332\n// module chunks = 1","/**\n * Contains the logic for the pause and resume button.\n *\n * @param graph the associated webvowl graph\n * @returns {{}}\n */\nmodule.exports = function ( graph ){\n  \n  var pauseMenu = {},\n    pauseButton;\n  \n  \n  /**\n   * Adds the pause button to the website.\n   */\n  pauseMenu.setup = function (){\n    var menuEntry = d3.select(\"#pauseOption\");\n    menuEntry.on(\"mouseover\", function (){\n      var searchMenu = graph.options().searchMenu();\n      searchMenu.hideSearchEntries();\n    });\n    pauseButton = d3.select(\"#pause-button\")\n      .datum({ paused: false })\n      .on(\"click\", function ( d ){\n        graph.paused(!d.paused);\n        d.paused = !d.paused;\n        updatePauseButton();\n        pauseButton.classed(\"highlighted\", d.paused);\n      });\n    // Set these properties the first time manually\n    updatePauseButton();\n  };\n  \n  pauseMenu.setPauseValue = function ( value ){\n    pauseButton.datum().paused = value;\n    graph.paused(value);\n    pauseButton.classed(\"highlighted\", value);\n    updatePauseButton();\n  };\n  \n  function updatePauseButton(){\n    updatePauseButtonClass();\n    updatePauseButtonText();\n  }\n  \n  function updatePauseButtonClass(){\n    pauseButton.classed(\"paused\", function ( d ){\n      return d.paused;\n    });\n  }\n  \n  function updatePauseButtonText(){\n    if ( pauseButton.datum().paused ) {\n      pauseButton.text(\"Resume\");\n    } else {\n      pauseButton.text(\"Pause\");\n    }\n  }\n  \n  pauseMenu.reset = function (){\n    // resuming\n    pauseMenu.setPauseValue(false);\n  };\n  \n  \n  return pauseMenu;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/pauseMenu.js\n// module id = 333\n// module chunks = 1","/**\n * Contains the logic for the reset button.\n *\n * @param graph the associated webvowl graph\n * @returns {{}}\n */\nmodule.exports = function ( graph ){\n  \n  var resetMenu = {},\n    options = graph.graphOptions(),\n    resettableModules,\n    untouchedOptions = webvowl.options();\n  \n  \n  /**\n   * Adds the reset button to the website.\n   * @param _resettableModules modules that can be resetted\n   */\n  resetMenu.setup = function ( _resettableModules ){\n    resettableModules = _resettableModules;\n    d3.select(\"#reset-button\").on(\"click\", resetGraph);\n    var menuEntry = d3.select(\"#resetOption\");\n    menuEntry.on(\"mouseover\", function (){\n      var searchMenu = graph.options().searchMenu();\n      searchMenu.hideSearchEntries();\n    });\n  };\n  \n  function resetGraph(){\n    graph.resetSearchHighlight();\n    graph.options().searchMenu().clearText();\n    options.classDistance(untouchedOptions.classDistance());\n    options.datatypeDistance(untouchedOptions.datatypeDistance());\n    options.charge(untouchedOptions.charge());\n    options.gravity(untouchedOptions.gravity());\n    options.linkStrength(untouchedOptions.linkStrength());\n    graph.reset();\n    \n    resettableModules.forEach(function ( module ){\n      module.reset();\n    });\n    \n    graph.updateStyle();\n  }\n  \n  \n  return resetMenu;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/resetMenu.js\n// module id = 334\n// module chunks = 1","/**\n * Contains the search \"engine\"\n *\n * @param graph the associated webvowl graph\n * @returns {{}}\n */\nmodule.exports = function ( graph ){\n  var searchMenu = {},\n    dictionary = [],\n    entryNames = [],\n    searchLineEdit,\n    mergedStringsList,\n    mergedIdList,\n    maxEntries = 6,\n    dictionaryUpdateRequired = true,\n    labelDictionary,\n    inputText,\n    viewStatusOfSearchEntries = false;\n  \n  var results = [];\n  var resultID = [];\n  var c_locate = d3.select(\"#locateSearchResult\");\n  var c_search = d3.select(\"#c_search\");\n  var m_search = d3.select(\"#m_search\"); // << dropdown container;\n  \n  \n  String.prototype.beginsWith = function ( string ){\n    return (this.indexOf(string) === 0);\n  };\n  \n  searchMenu.requestDictionaryUpdate = function (){\n    dictionaryUpdateRequired = true;\n    // clear possible pre searched entries\n    var htmlCollection = m_search.node().children;\n    var numEntries = htmlCollection.length;\n    \n    for ( var i = 0; i < numEntries; i++ )\n      htmlCollection[0].remove();\n    searchLineEdit.node().value = \"\";\n  };\n  \n  \n  function updateSearchDictionary(){\n    labelDictionary = graph.getUpdateDictionary();\n    dictionaryUpdateRequired = false;\n    dictionary = [];\n    entryNames = [];\n    var idList = [];\n    var stringList = [];\n    \n    var i;\n    for ( i = 0; i < labelDictionary.length; i++ ) {\n      var lEntry = labelDictionary[i].labelForCurrentLanguage();\n      idList.push(labelDictionary[i].id());\n      stringList.push(lEntry);\n      // add all equivalents to the search space;\n      if ( labelDictionary[i].equivalents && labelDictionary[i].equivalents().length > 0 ) {\n        var eqs = labelDictionary[i].equivalentsString();\n        var eqsLabels = eqs.split(\", \");\n        for ( var e = 0; e < eqsLabels.length; e++ ) {\n          idList.push(labelDictionary[i].id());\n          stringList.push(eqsLabels[e]);\n        }\n      }\n    }\n    \n    mergedStringsList = [];\n    mergedIdList = [];\n    var indexInStringList = -1;\n    var currentString;\n    var currentObjectId;\n    \n    for ( i = 0; i < stringList.length; i++ ) {\n      if ( i === 0 ) {\n        // just add the elements\n        mergedStringsList.push(stringList[i]);\n        mergedIdList.push([]);\n        mergedIdList[0].push(idList[i]);\n        continue;\n      }\n      else {\n        currentString = stringList[i];\n        currentObjectId = idList[i];\n        indexInStringList = mergedStringsList.indexOf(currentString);\n      }\n      if ( indexInStringList === -1 ) {\n        mergedStringsList.push(stringList[i]);\n        mergedIdList.push([]);\n        var lastEntry = mergedIdList.length;\n        mergedIdList[lastEntry - 1].push(currentObjectId);\n      } else {\n        mergedIdList[indexInStringList].push(currentObjectId);\n      }\n    }\n    \n    for ( i = 0; i < mergedStringsList.length; i++ ) {\n      var aString = mergedStringsList[i];\n      var correspondingIdList = mergedIdList[i];\n      var idListResult = \"[ \";\n      for ( var j = 0; j < correspondingIdList.length; j++ ) {\n        idListResult = idListResult + correspondingIdList[j].toString();\n        idListResult = idListResult + \", \";\n      }\n      idListResult = idListResult.substring(0, idListResult.length - 2);\n      idListResult = idListResult + \" ]\";\n      \n      dictionary.push(aString);\n      entryNames.push(aString);\n    }\n  }\n  \n  searchMenu.setup = function (){\n    // clear dictionary;\n    dictionary = [];\n    searchLineEdit = d3.select(\"#search-input-text\");\n    searchLineEdit.on(\"input\", userInput);\n    searchLineEdit.on(\"keydown\", userNavigation);\n    searchLineEdit.on(\"click\", toggleSearchEntryView);\n    searchLineEdit.on(\"mouseover\", hoverSearchEntryView);\n    \n    c_locate.on(\"click\", function (){\n      graph.locateSearchResult();\n    });\n    \n    c_locate.on(\"mouseover\", function (){\n      searchMenu.hideSearchEntries();\n    });\n    \n  };\n  \n  function hoverSearchEntryView(){\n    updateSelectionStatusFlags();\n    searchMenu.showSearchEntries();\n  }\n  \n  function toggleSearchEntryView(){\n    if ( viewStatusOfSearchEntries ) {\n      searchMenu.hideSearchEntries();\n    } else {\n      searchMenu.showSearchEntries();\n    }\n  }\n  \n  searchMenu.hideSearchEntries = function (){\n    m_search.style(\"display\", \"none\");\n    viewStatusOfSearchEntries = false;\n  };\n  \n  searchMenu.showSearchEntries = function (){\n    m_search.style(\"display\", \"block\");\n    viewStatusOfSearchEntries = true;\n  };\n  \n  function ValidURL( str ){\n    var urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/;\n    return urlregex.test(str);\n    \n  }\n  \n  \n  function updateSelectionStatusFlags(){\n    if ( searchLineEdit.node().value.length === 0 ) {\n      createSearchEntries();\n      return;\n    }\n    handleAutoCompletion();\n  }\n  \n  function userNavigation(){\n    if ( dictionaryUpdateRequired ) {\n      updateSearchDictionary();\n    }\n    \n    var htmlCollection = m_search.node().children;\n    var numEntries = htmlCollection.length;\n    \n    \n    var move = 0;\n    var i;\n    var selectedEntry = -1;\n    for ( i = 0; i < numEntries; i++ ) {\n      var atr = htmlCollection[i].getAttribute('class');\n      if ( atr === \"dbEntrySelected\" ) {\n        selectedEntry = i;\n      }\n    }\n    if ( d3.event.keyCode === 13 ) {\n      if ( selectedEntry >= 0 && selectedEntry < numEntries ) {\n        // simulate onClick event\n        htmlCollection[selectedEntry].onclick();\n        searchMenu.hideSearchEntries();\n      }\n      else if ( numEntries === 0 ) {\n        inputText = searchLineEdit.node().value;\n        // check if input text ends or begins with with space\n        // remove first spaces\n        var clearedText = inputText.replace(/%20/g, \" \");\n        while ( clearedText.beginsWith(\" \") ) {\n          clearedText = clearedText.substr(1, clearedText.length);\n        }\n        // remove ending spaces\n        while ( clearedText.endsWith(\" \") ) {\n          clearedText = clearedText.substr(0, clearedText.length - 1);\n        }\n        var iri = clearedText.replace(/ /g, \"%20\");\n        \n        var valid = ValidURL(iri);\n        // validate url:\n        if ( valid ) {\n          var ontM = graph.options().ontologyMenu();\n          ontM.setIriText(iri);\n          searchLineEdit.node().value = \"\";\n        }\n        else {\n          console.log(iri + \" is not a valid URL!\");\n        }\n      }\n    }\n    if ( d3.event.keyCode === 38 ) {\n      move = -1;\n      searchMenu.showSearchEntries();\n    }\n    if ( d3.event.keyCode === 40 ) {\n      move = +1;\n      searchMenu.showSearchEntries();\n    }\n    \n    var newSelection = selectedEntry + move;\n    if ( newSelection !== selectedEntry ) {\n      \n      if ( newSelection < 0 && selectedEntry <= 0 ) {\n        htmlCollection[0].setAttribute('class', \"dbEntrySelected\");\n      }\n      \n      if ( newSelection >= numEntries ) {\n        htmlCollection[selectedEntry].setAttribute('class', \"dbEntrySelected\");\n      }\n      if ( newSelection >= 0 && newSelection < numEntries ) {\n        htmlCollection[newSelection].setAttribute('class', \"dbEntrySelected\");\n        if ( selectedEntry >= 0 )\n          htmlCollection[selectedEntry].setAttribute('class', \"dbEntry\");\n      }\n    }\n  }\n  \n  searchMenu.getSearchString = function (){\n    return searchLineEdit.node().value;\n  };\n  \n  \n  function clearSearchEntries(){\n    var htmlCollection = m_search.node().children;\n    var numEntries = htmlCollection.length;\n    for ( var i = 0; i < numEntries; i++ ) {\n      htmlCollection[0].remove();\n    }\n    results = [];\n    resultID = [];\n    \n  }\n  \n  function createSearchEntries(){\n    inputText = searchLineEdit.node().value;\n    var i;\n    var lc_text = inputText.toLowerCase();\n    var token;\n    \n    for ( i = 0; i < dictionary.length; i++ ) {\n      var tokenElement = dictionary[i];\n      if ( tokenElement === undefined ) {\n        //@WORKAROUND : nodes with undefined labels are skipped\n        //@FIX: these nodes are now not added to the dictionary\n        continue;\n      }\n      token = dictionary[i].toLowerCase();\n      if ( token.indexOf(lc_text) > -1 ) {\n        results.push(dictionary[i]);\n        resultID.push(i);\n      }\n    }\n  }\n  \n  function measureTextWidth( text, textStyle ){\n    // Set a default value\n    if ( !textStyle ) {\n      textStyle = \"text\";\n    }\n    var d = d3.select(\"body\")\n        .append(\"div\")\n        .attr(\"class\", textStyle)\n        .attr(\"id\", \"width-test\") // tag this element to identify it\n        .attr(\"style\", \"position:absolute; float:left; white-space:nowrap; visibility:hidden;\")\n        .text(text),\n      w = document.getElementById(\"width-test\").offsetWidth;\n    d.remove();\n    return w;\n  }\n  \n  function cropText( input ){\n    var maxWidth = 250;\n    var textStyle = \"dbEntry\";\n    var truncatedText = input;\n    var textWidth;\n    var ratio;\n    var newTruncatedTextLength;\n    while ( true ) {\n      textWidth = measureTextWidth(truncatedText, textStyle);\n      if ( textWidth <= maxWidth ) {\n        break;\n      }\n      \n      ratio = textWidth / maxWidth;\n      newTruncatedTextLength = Math.floor(truncatedText.length / ratio);\n      \n      // detect if nothing changes\n      if ( truncatedText.length === newTruncatedTextLength ) {\n        break;\n      }\n      \n      truncatedText = truncatedText.substring(0, newTruncatedTextLength);\n    }\n    \n    if ( input.length > truncatedText.length ) {\n      return input.substring(0, truncatedText.length - 6);\n    }\n    return input;\n  }\n  \n  function createDropDownElements(){\n    var numEntries;\n    var copyRes = results;\n    var i;\n    var token;\n    var newResults = [];\n    var newResultsIds = [];\n    \n    var lc_text = searchLineEdit.node().value.toLowerCase();\n    // set the number of shown results to be maxEntries or less;\n    numEntries = results.length;\n    if ( numEntries > maxEntries )\n      numEntries = maxEntries;\n    \n    \n    for ( i = 0; i < numEntries; i++ ) {\n      // search for the best entry\n      var indexElement = 1000000;\n      var lengthElement = 1000000;\n      var bestElement = -1;\n      for ( var j = 0; j < copyRes.length; j++ ) {\n        token = copyRes[j].toLowerCase();\n        var tIe = token.indexOf(lc_text);\n        var tLe = token.length;\n        if ( tIe > -1 && tIe <= indexElement && tLe <= lengthElement ) {\n          bestElement = j;\n          indexElement = tIe;\n          lengthElement = tLe;\n        }\n      }\n      newResults.push(copyRes[bestElement]);\n      newResultsIds.push(resultID[bestElement]);\n      copyRes[bestElement] = \"\";\n    }\n    \n    // add the results to the entry menu\n    //******************************************\n    numEntries = results.length;\n    if ( numEntries > maxEntries )\n      numEntries = maxEntries;\n    \n    var filteredOutElements = 0;\n    for ( i = 0; i < numEntries; i++ ) {\n      //add results to the dropdown menu\n      var testEntry = document.createElement('li');\n      testEntry.setAttribute('elementID', newResultsIds[i]);\n      testEntry.onclick = handleClick(newResultsIds[i]);\n      testEntry.setAttribute('class', \"dbEntry\");\n      \n      var entries = mergedIdList[newResultsIds[i]];\n      var eLen = entries.length;\n      \n      var croppedText = cropText(newResults[i]);\n      \n      var el0 = entries[0];\n      var allSame = true;\n      var nodeMap = graph.getNodeMapForSearch();\n      var visible = eLen;\n      if ( eLen > 1 ) {\n        for ( var q = 0; q < eLen; q++ ) {\n          if ( nodeMap[entries[q]] === undefined ) {\n            visible--;\n          }\n        }\n      }\n      \n      for ( var a = 0; a < eLen; a++ ) {\n        if ( el0 !== entries[a] ) {\n          allSame = false;\n        }\n      }\n      if ( croppedText !== newResults[i] ) {\n        // append ...(#numElements) if needed\n        if ( eLen > 1 && allSame === false ) {\n          if ( eLen !== visible )\n            croppedText += \"... (\" + visible + \"/\" + eLen + \")\";\n        }\n        else {\n          croppedText += \"...\";\n        }\n        testEntry.title = newResults[i];\n      }\n      else {\n        if ( eLen > 1 && allSame === false ) {\n          if ( eLen !== visible )\n            croppedText += \" (\" + visible + \"/\" + eLen + \")\";\n          else\n            croppedText += \" (\" + eLen + \")\";\n        }\n      }\n      \n      var searchEntryNode = d3.select(testEntry);\n      if ( eLen === 1 || allSame === true ) {\n        if ( nodeMap[entries[0]] === undefined ) {\n          searchEntryNode.style(\"color\", \"#979797\");\n          testEntry.title = newResults[i] + \"\\nElement is filtered out.\";\n          testEntry.onclick = function (){\n          };\n          d3.select(testEntry).style(\"cursor\", \"default\");\n          filteredOutElements++;\n        }\n      } else {\n        if ( visible < 1 ) {\n          searchEntryNode.style(\"color\", \"#979797\");\n          testEntry.onclick = function (){\n          };\n          testEntry.title = newResults[i] + \"\\nAll elements are filtered out.\";\n          d3.select(testEntry).style(\"cursor\", \"default\");\n          filteredOutElements++;\n        } else {\n          searchEntryNode.style(\"color\", \"\");\n        }\n        if ( visible < eLen && visible > 1 ) {\n          testEntry.title = newResults[i] + \"\\n\" + visible + \"/\" + eLen + \" elements are visible.\";\n        }\n      }\n      searchEntryNode.node().innerHTML = croppedText;\n      m_search.node().appendChild(testEntry);\n    }\n  }\n  \n  \n  function handleAutoCompletion(){\n    /**  pre condition: autoCompletion has already a valid text**/\n    clearSearchEntries();\n    createSearchEntries();\n    createDropDownElements();\n  }\n  \n  function userInput(){\n    c_locate.classed(\"highlighted\", false);\n    c_locate.node().title = \"Nothing to locate\";\n    \n    if ( dictionaryUpdateRequired ) {\n      updateSearchDictionary();\n    }\n    graph.resetSearchHighlight();\n    \n    if ( dictionary.length === 0 ) {\n      console.log(\"dictionary is empty\");\n      return;\n    }\n    inputText = searchLineEdit.node().value;\n    \n    clearSearchEntries();\n    if ( inputText.length !== 0 ) {\n      createSearchEntries();\n      createDropDownElements();\n    }\n    \n    searchMenu.showSearchEntries();\n  }\n  \n  function handleClick( elementId ){\n    \n    return function (){\n      var id = elementId;\n      var correspondingIds = mergedIdList[id];\n      \n      // autoComplete the text for the user\n      var autoComStr = entryNames[id];\n      searchLineEdit.node().value = autoComStr;\n      \n      graph.resetSearchHighlight();\n      graph.highLightNodes(correspondingIds);\n      c_locate.node().title = \"Locate search term\";\n      if ( autoComStr !== inputText ) {\n        handleAutoCompletion();\n      }\n      searchMenu.hideSearchEntries();\n    };\n  }\n  \n  searchMenu.clearText = function (){\n    searchLineEdit.node().value = \"\";\n    c_locate.classed(\"highlighted\", false);\n    c_locate.node().title = \"Nothing to locate\";\n    var htmlCollection = m_search.node().children;\n    var numEntries = htmlCollection.length;\n    for ( var i = 0; i < numEntries; i++ ) {\n      htmlCollection[0].remove();\n    }\n  };\n  \n  return searchMenu;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/searchMenu.js\n// module id = 335\n// module chunks = 1","/**\n * Contains the navigation \"engine\"\n *\n * @param graph the associated webvowl graph\n * @returns {{}}\n */\nmodule.exports = function ( graph ){\n  var navigationMenu = {},\n    scrollContainer = d3.select(\"#menuElementContainer\").node(),\n    menuContainer = d3.select(\"#menuContainer\").node(),\n    leftButton = d3.select(\"#scrollLeftButton\"),\n    rightButton = d3.select(\"#scrollRightButton\"),\n    scrolLeftValue,\n    scrollMax,\n    currentlyVisibleMenu,\n    currentlyHoveredEntry,\n    touchedElement = false,\n    t_scrollLeft,\n    t_scrollRight,\n    c_select = [],\n    m_select = [];\n  \n  \n  function clearAllTimers(){\n    cancelAnimationFrame(t_scrollLeft);\n    cancelAnimationFrame(t_scrollRight);\n  }\n  \n  function timed_scrollRight(){\n    scrolLeftValue += 5;\n    scrollContainer.scrollLeft = scrolLeftValue;\n    navigationMenu.updateScrollButtonVisibility();\n    if ( scrolLeftValue >= scrollMax ) {\n      clearAllTimers();\n      return;\n    }\n    t_scrollRight = requestAnimationFrame(timed_scrollRight);\n    \n  }\n  \n  function timed_scrollLeft(){\n    scrolLeftValue -= 5;\n    scrollContainer.scrollLeft = scrolLeftValue;\n    navigationMenu.updateScrollButtonVisibility();\n    if ( scrolLeftValue <= 0 ) {\n      clearAllTimers();\n      return;\n    }\n    t_scrollRight = requestAnimationFrame(timed_scrollLeft);\n  }\n  \n  // collect all menu entries and stuff;\n  function setupControlsAndMenus(){\n    // HEURISTIC : to match the menus and their controllers we remove the first 2 letters and match\n    c_select = [];\n    m_select = [];\n    \n    var c_temp = [];\n    var m_temp = [];\n    var i;\n    var controlElements = scrollContainer.children;\n    var numEntries = controlElements.length;\n    \n    for ( i = 0; i < numEntries; i++ ) {\n      c_temp.push(controlElements[i].id.slice(2));\n    }\n    \n    var menuElements = menuContainer.children;\n    numEntries = menuElements.length;\n    for ( i = 0; i < numEntries; i++ ) {\n      m_temp.push(menuElements[i].id.slice(2));\n    }\n    \n    numEntries = controlElements.length;\n    for ( i = 0; i < numEntries; i++ ) {\n      c_select[i] = \"c_\" + c_temp[i];\n      if ( m_temp.indexOf(c_temp[i]) > -1 ) {\n        m_select[i] = \"m_\" + c_temp[i];\n      } else {\n        m_select[i] = undefined;\n      }\n      // create custom behavior for click, touch, and hover\n      d3.select(\"#\" + c_select[i]).on(\"mouseover\", menuElementOnHovered);\n      d3.select(\"#\" + c_select[i]).on(\"mouseout\", menuElementOutHovered);\n      \n      d3.select(\"#\" + c_select[i]).on(\"click\", menuElementClicked);\n      d3.select(\"#\" + c_select[i]).on(\"touchstart\", menuElementTouched);\n      \n    }\n    \n    // connect to mouseWheel\n    d3.select(\"#menuElementContainer\").on(\"wheel\", function (){\n      var wheelEvent = d3.event;\n      var offset;\n      if ( wheelEvent.deltaY < 0 ) offset = 20;\n      if ( wheelEvent.deltaY > 0 ) offset = -20;\n      scrollContainer.scrollLeft += offset;\n      navigationMenu.hideAllMenus();\n      navigationMenu.updateScrollButtonVisibility();\n    });\n    \n    // connect scrollIndicator Buttons;\n    d3.select(\"#scrollRightButton\").on(\"mousedown\", function (){\n      scrolLeftValue = scrollContainer.scrollLeft;\n      navigationMenu.hideAllMenus();\n      t_scrollRight = requestAnimationFrame(timed_scrollRight);\n      \n    }).on(\"touchstart\", function (){\n      scrolLeftValue = scrollContainer.scrollLeft;\n      navigationMenu.hideAllMenus();\n      t_scrollRight = requestAnimationFrame(timed_scrollRight);\n    }).on(\"mouseup\", clearAllTimers)\n      .on(\"touchend\", clearAllTimers)\n      .on(\"touchcancel\", clearAllTimers);\n    \n    d3.select(\"#scrollLeftButton\").on(\"mousedown\", function (){\n      scrolLeftValue = scrollContainer.scrollLeft;\n      navigationMenu.hideAllMenus();\n      t_scrollLeft = requestAnimationFrame(timed_scrollLeft);\n    }).on(\"touchstart\", function (){\n      scrolLeftValue = scrollContainer.scrollLeft;\n      navigationMenu.hideAllMenus();\n      t_scrollLeft = requestAnimationFrame(timed_scrollLeft);\n    }).on(\"mouseup\", clearAllTimers)\n      .on(\"touchend\", clearAllTimers)\n      .on(\"touchcancel\", clearAllTimers);\n    \n    // connect the scroll functionality;\n    d3.select(\"#menuElementContainer\").on(\"scroll\", function (){\n      navigationMenu.updateScrollButtonVisibility();\n      navigationMenu.hideAllMenus();\n    });\n  }\n  \n  function menuElementOnHovered(){\n    navigationMenu.hideAllMenus();\n    if ( touchedElement ) {\n      return;\n    }\n    showSingleMenu(this.id);\n  }\n  \n  function menuElementOutHovered(){\n    hoveroutedControMenu(this.id);\n  }\n  \n  function menuElementClicked(){\n    var m_element = m_select[c_select.indexOf(this.id)];\n    if ( m_element ) {\n      var menuElement = d3.select(\"#\" + m_element);\n      if ( menuElement ) {\n        if ( menuElement.style(\"display\") === \"block\" ) {\n          menuElement.style(\"display\", \"none\");// hide it\n        } else {\n          showSingleMenu(this.id);\n        }\n      }\n    }\n  }\n  \n  function menuElementTouched(){\n    // it sets a flag that we have touched it,\n    // since d3. propagates the event for touch as hover and then click, we block the hover event\n    touchedElement = true;\n  }\n  \n  \n  function hoveroutedControMenu( controllerID ){\n    currentlyHoveredEntry = d3.select(\"#\" + controllerID);\n    if ( controllerID !== \"c_search\" ) {\n      d3.select(\"#\" + controllerID).select(\"path\").style(\"stroke-width\", \"0\");\n      d3.select(\"#\" + controllerID).select(\"path\").style(\"fill\", \"#fff\");\n    }\n    \n  }\n  \n  function showSingleMenu( controllerID ){\n    currentlyHoveredEntry = d3.select(\"#\" + controllerID).node();\n    // get the corresponding menu element for this controller\n    var m_element = m_select[c_select.indexOf(controllerID)];\n    if ( m_element ) {\n      if ( controllerID !== \"c_search\" ) {\n        \n        d3.select(\"#\" + controllerID).select(\"path\").style(\"stroke-width\", \"0\");\n        d3.select(\"#\" + controllerID).select(\"path\").style(\"fill\", \"#bdc3c7\");\n      }\n      // show it if we have a menu\n      currentlyVisibleMenu = d3.select(\"#\" + m_element);\n      currentlyVisibleMenu.style(\"display\", \"block\");\n      if ( m_element === \"m_export\" )\n        graph.options().exportMenu().exportAsUrl();\n      updateMenuPosition();\n    }\n  }\n  \n  function updateMenuPosition(){\n    if ( currentlyHoveredEntry ) {\n      var leftOffset = currentlyHoveredEntry.offsetLeft;\n      var scrollOffset = scrollContainer.scrollLeft;\n      var totalOffset = leftOffset - scrollOffset;\n      var finalOffset = Math.max(0, totalOffset);\n      var fullContainer_width = scrollContainer.getBoundingClientRect().width;\n      var elementWidth = currentlyVisibleMenu.node().getBoundingClientRect().width;\n      // make priority > first check if we are right\n      if ( finalOffset + elementWidth > fullContainer_width ) {\n        finalOffset = fullContainer_width - elementWidth;\n      }\n      // fix priority;\n      finalOffset = Math.max(0, finalOffset);\n      currentlyVisibleMenu.style(\"left\", finalOffset + \"px\");\n      \n      // // check if outside the viewport\n      // var menuWidth=currentlyHoveredEntry.getBoundingClientRect().width;\n      // var bt_width=36;\n      // if (totalOffset+menuWidth<bt_width || totalOffset+bt_width>fullContainer_width){\n      //     navigationMenu.hideAllMenus();\n      //     currentlyHoveredEntry=undefined;\n      // }\n    }\n  }\n  \n  navigationMenu.hideAllMenus = function (){\n    d3.selectAll(\".toolTipMenu\").style(\"display\", \"none\"); // hiding all menus\n  };\n  \n  navigationMenu.updateScrollButtonVisibility = function (){\n    scrollMax = scrollContainer.scrollWidth - scrollContainer.clientWidth - 2;\n    if ( scrollContainer.scrollLeft === 0 ) {\n      leftButton.classed(\"hidden\", true);\n    } else {\n      leftButton.classed(\"hidden\", false);\n    }\n    \n    if ( scrollContainer.scrollLeft > scrollMax ) {\n      rightButton.classed(\"hidden\", true);\n    } else {\n      rightButton.classed(\"hidden\", false);\n    }\n    \n  };\n  \n  navigationMenu.setup = function (){\n    setupControlsAndMenus();\n    // make sure that the menu elements follow their controller and also their restrictions\n    // some hovering behavior -- lets the menu disappear when hovered in graph or sidebar;\n    d3.select(\"#graph\").on(\"mouseover\", function (){\n      navigationMenu.hideAllMenus();\n    });\n    d3.select(\"#generalDetails\").on(\"mouseover\", function (){\n      navigationMenu.hideAllMenus();\n    });\n  };\n  \n  return navigationMenu;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/navigationMenu.js\n// module id = 336\n// module chunks = 1","/** The zoom Slider **/\nmodule.exports = function ( graph ){\n  var zoomSlider = {};\n  var minMag = graph.options().minMagnification(),\n    maxMag = graph.options().maxMagnification(),\n    defZoom,\n    t_zoomOut,\n    t_zoomIn,\n    zoomValue,\n    showSlider = true,\n    w = graph.options().width(),\n    h = graph.options().height(),\n    slider;\n  \n  defZoom = Math.min(w, h) / 1000;\n  \n  function clearAllTimers(){\n    cancelAnimationFrame(t_zoomOut);\n    cancelAnimationFrame(t_zoomIn);\n  }\n  \n  function timed_zoomOut(){\n    zoomValue = 0.98 * zoomValue;\n    // fail saves\n    if ( zoomValue < minMag ) {\n      zoomValue = minMag;\n    }\n    graph.setSliderZoom(zoomValue);\n    t_zoomOut = requestAnimationFrame(timed_zoomOut);\n  }\n  \n  function timed_zoomIn(){\n    zoomValue = 1.02 * zoomValue;\n    // fail saves\n    if ( zoomValue > maxMag ) {\n      zoomValue = maxMag;\n    }\n    graph.setSliderZoom(zoomValue);\n    t_zoomIn = requestAnimationFrame(timed_zoomIn);\n  }\n  \n  zoomSlider.setup = function (){\n    slider = d3.select(\"#zoomSliderParagraph\").append(\"input\")\n      .datum({})\n      .attr(\"id\", \"zoomSliderElement\")\n      .attr(\"type\", \"range\")\n      .attr(\"value\", defZoom)\n      .attr(\"min\", minMag)\n      .attr(\"max\", maxMag)\n      .attr(\"step\", (maxMag - minMag) / 40)\n      .attr(\"title\", \"zoom factor\")\n      .on(\"input\", function (){\n        zoomSlider.zooming();\n      });\n    \n    d3.select(\"#zoomOutButton\").on(\"mousedown\", function (){\n      graph.options().navigationMenu().hideAllMenus();\n      zoomValue = graph.scaleFactor();\n      t_zoomOut = requestAnimationFrame(timed_zoomOut);\n    })\n      .on(\"touchstart\", function (){\n        graph.options().navigationMenu().hideAllMenus();\n        zoomValue = graph.scaleFactor();\n        t_zoomOut = requestAnimationFrame(timed_zoomOut);\n      })\n      .on(\"mouseup\", clearAllTimers)\n      .on(\"touchend\", clearAllTimers)\n      .on(\"touchcancel\", clearAllTimers)\n      .attr(\"title\", \"zoom out\");\n    \n    d3.select(\"#zoomInButton\").on(\"mousedown\", function (){\n      graph.options().navigationMenu().hideAllMenus();\n      zoomValue = graph.scaleFactor();\n      t_zoomIn = requestAnimationFrame(timed_zoomIn);\n    })\n      .on(\"touchstart\", function (){\n        graph.options().navigationMenu().hideAllMenus();\n        zoomValue = graph.scaleFactor();\n        t_zoomIn = requestAnimationFrame(timed_zoomIn);\n      })\n      .on(\"mouseup\", clearAllTimers)\n      .on(\"touchend\", clearAllTimers)\n      .on(\"touchcancel\", clearAllTimers)\n      .attr(\"title\", \"zoom in\");\n    \n    d3.select(\"#centerGraphButton\").on(\"click\", function (){\n      graph.options().navigationMenu().hideAllMenus();\n      graph.forceRelocationEvent();\n    }).attr(\"title\", \"center graph\");\n    \n  };\n  \n  zoomSlider.showSlider = function ( val ){\n    if ( !arguments.length ) return showSlider;\n    d3.select(\"#zoomSlider\").classed(\"hidden\", !val);\n    showSlider = val;\n  };\n  \n  zoomSlider.zooming = function (){\n    graph.options().navigationMenu().hideAllMenus();\n    var zoomValue = slider.property(\"value\");\n    slider.attr(\"value\", zoomValue);\n    graph.setSliderZoom(zoomValue);\n  };\n  \n  zoomSlider.updateZoomSliderValue = function ( val ){\n    if ( slider ) {\n      slider.attr(\"value\", val);\n      slider.property(\"value\", val);\n    }\n  };\n  \n  return zoomSlider;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/zoomSlider.js\n// module id = 337\n// module chunks = 1","/**\n * Contains the logic for the sidebar.\n * @param graph the graph that belongs to these controls\n * @returns {{}}\n */\nmodule.exports = function ( graph ){\n  \n  var sidebar = {},\n    languageTools = webvowl.util.languageTools(),\n    elementTools = webvowl.util.elementTools(),\n    // Required for reloading when the language changes\n    ontologyInfo,\n    visibleSidebar = 1,\n    lastSelectedElement,\n    \n    detailArea = d3.select(\"#detailsArea\"),\n    graphArea = d3.select(\"#canvasArea\"),\n    menuArea = d3.select(\"#swipeBarContainer\"),\n    collapseButton = d3.select(\"#sidebarExpandButton\");\n  \n  /**\n   * Setup the menu bar.\n   */\n  \n  \n  function setupCollapsing(){\n    // adapted version of this example: http://www.normansblog.de/simple-jquery-accordion/\n    function collapseContainers( containers ){\n      containers.classed(\"hidden\", true);\n    }\n    \n    function expandContainers( containers ){\n      containers.classed(\"hidden\", false);\n    }\n    \n    var triggers = d3.selectAll(\".accordion-trigger\");\n    \n    // Collapse all inactive triggers on startup\n    collapseContainers(d3.selectAll(\".accordion-trigger:not(.accordion-trigger-active) + div\"));\n    \n    triggers.on(\"click\", function (){\n      var selectedTrigger = d3.select(this),\n        activeTriggers = d3.selectAll(\".accordion-trigger-active\");\n      \n      if ( selectedTrigger.classed(\"accordion-trigger-active\") ) {\n        // Collapse the active (which is also the selected) trigger\n        collapseContainers(d3.select(selectedTrigger.node().nextElementSibling));\n        selectedTrigger.classed(\"accordion-trigger-active\", false);\n      } else {\n        // Collapse the other trigger ...\n        collapseContainers(d3.selectAll(\".accordion-trigger-active + div\"));\n        activeTriggers.classed(\"accordion-trigger-active\", false);\n        // ... and expand the selected one\n        expandContainers(d3.select(selectedTrigger.node().nextElementSibling));\n        selectedTrigger.classed(\"accordion-trigger-active\", true);\n      }\n    });\n  }\n  \n  sidebar.clearOntologyInformation = function (){\n    \n    d3.select(\"#title\").text(\"No title available\");\n    d3.select(\"#about\").attr(\"href\", \"#\").attr(\"target\", \"_blank\").text(\"not given\");\n    d3.select(\"#version\").text(\"--\");\n    d3.select(\"#authors\").text(\"--\");\n    d3.select(\"#description\").text(\"No description available.\");\n    var container = d3.select(\"#ontology-metadata\");\n    container.selectAll(\"*\").remove();\n    d3.select(\"#classCount\")\n      .text(\"0\");\n    d3.select(\"#objectPropertyCount\")\n      .text(\"0\");\n    d3.select(\"#datatypePropertyCount\")\n      .text(\"0\");\n    d3.select(\"#individualCount\")\n      .text(\"0\");\n    d3.select(\"#nodeCount\")\n      .text(\"0\");\n    d3.select(\"#edgeCount\")\n      .text(\"0\");\n    \n    // clear selectedNode info\n    var isTriggerActive = d3.select(\"#selection-details-trigger\").classed(\"accordion-trigger-active\");\n    if ( isTriggerActive ) {\n      // close accordion\n      d3.select(\"#selection-details-trigger\").node().click();\n    }\n    showSelectionAdvice();\n    \n  };\n  \n  /**\n   * Updates the information of the passed ontology.\n   * @param data the graph data\n   * @param statistics the statistics module\n   */\n  sidebar.updateOntologyInformation = function ( data, statistics ){\n    data = data || {};\n    ontologyInfo = data.header || {};\n    \n    updateGraphInformation();\n    displayGraphStatistics(undefined, statistics);\n    displayMetadata(ontologyInfo.other);\n    \n    // Reset the sidebar selection\n    sidebar.updateSelectionInformation(undefined);\n    \n    setLanguages(ontologyInfo.languages);\n  };\n  \n  function setLanguages( languages ){\n    languages = languages || [];\n    \n    // Put the default and unset label on top of the selection labels\n    languages.sort(function ( a, b ){\n      if ( a === webvowl.util.constants().LANG_IRIBASED ) {\n        return -1;\n      } else if ( b === webvowl.util.constants().LANG_IRIBASED ) {\n        return 1;\n      }\n      if ( a === webvowl.util.constants().LANG_UNDEFINED ) {\n        return -1;\n      } else if ( b === webvowl.util.constants().LANG_UNDEFINED ) {\n        return 1;\n      }\n      return a.localeCompare(b);\n    });\n    \n    var languageSelection = d3.select(\"#language\")\n      .on(\"change\", function (){\n        graph.language(d3.event.target.value);\n        updateGraphInformation();\n        sidebar.updateSelectionInformation(lastSelectedElement);\n      });\n    \n    languageSelection.selectAll(\"option\").remove();\n    languageSelection.selectAll(\"option\")\n      .data(languages)\n      .enter().append(\"option\")\n      .attr(\"value\", function ( d ){\n        return d;\n      })\n      .text(function ( d ){\n        return d;\n      });\n    \n    if ( !trySelectDefaultLanguage(languageSelection, languages, \"en\") ) {\n      if ( !trySelectDefaultLanguage(languageSelection, languages, webvowl.util.constants().LANG_UNDEFINED) ) {\n        trySelectDefaultLanguage(languageSelection, languages, webvowl.util.constants().LANG_IRIBASED);\n      }\n    }\n  }\n  \n  function trySelectDefaultLanguage( selection, languages, language ){\n    var langIndex = languages.indexOf(language);\n    if ( langIndex >= 0 ) {\n      selection.property(\"selectedIndex\", langIndex);\n      graph.language(language);\n      return true;\n    }\n    \n    return false;\n  }\n  \n  function updateGraphInformation(){\n    var title = languageTools.textInLanguage(ontologyInfo.title, graph.language());\n    d3.select(\"#title\").text(title || \"No title available\");\n    d3.select(\"#about\").attr(\"href\", ontologyInfo.iri).attr(\"target\", \"_blank\").text(ontologyInfo.iri);\n    d3.select(\"#version\").text(ontologyInfo.version || \"--\");\n    var authors = ontologyInfo.author;\n    if ( typeof authors === \"string\" ) {\n      // Stay compatible with author info as strings after change in january 2015\n      d3.select(\"#authors\").text(authors);\n    } else if ( authors instanceof Array ) {\n      d3.select(\"#authors\").text(authors.join(\", \"));\n    } else {\n      d3.select(\"#authors\").text(\"--\");\n    }\n    \n    var description = languageTools.textInLanguage(ontologyInfo.description, graph.language());\n    d3.select(\"#description\").text(description || \"No description available.\");\n  }\n  \n  function displayGraphStatistics( deliveredMetrics, statistics ){\n    // Metrics are optional and may be undefined\n    deliveredMetrics = deliveredMetrics || {};\n    \n    d3.select(\"#classCount\")\n      .text(deliveredMetrics.classCount || statistics.classCount());\n    d3.select(\"#objectPropertyCount\")\n      .text(deliveredMetrics.objectPropertyCount || statistics.objectPropertyCount());\n    d3.select(\"#datatypePropertyCount\")\n      .text(deliveredMetrics.datatypePropertyCount || statistics.datatypePropertyCount());\n    d3.select(\"#individualCount\")\n      .text(deliveredMetrics.totalIndividualCount || statistics.totalIndividualCount());\n    d3.select(\"#nodeCount\")\n      .text(statistics.nodeCount());\n    d3.select(\"#edgeCount\")\n      .text(statistics.edgeCount());\n  }\n  \n  function displayMetadata( metadata ){\n    var container = d3.select(\"#ontology-metadata\");\n    container.selectAll(\"*\").remove();\n    \n    listAnnotations(container, metadata);\n    \n    if ( container.selectAll(\".annotation\").size() <= 0 ) {\n      container.append(\"p\").text(\"No annotations available.\");\n    }\n  }\n  \n  function listAnnotations( container, annotationObject ){\n    annotationObject = annotationObject || {};  //todo\n    \n    // Collect the annotations in an array for simpler processing\n    var annotations = [];\n    for ( var annotation in annotationObject ) {\n      if ( annotationObject.hasOwnProperty(annotation) ) {\n        annotations.push(annotationObject[annotation][0]);\n      }\n    }\n    \n    container.selectAll(\".annotation\").remove();\n    container.selectAll(\".annotation\").data(annotations).enter().append(\"p\")\n      .classed(\"annotation\", true)\n      .classed(\"statisticDetails\", true)\n      .text(function ( d ){\n        return d.identifier + \":\";\n      })\n      .append(\"span\")\n      .each(function ( d ){\n        appendIriLabel(d3.select(this), d.value, d.type === \"iri\" ? d.value : undefined);\n      });\n  }\n  \n  /**\n   * Update the information of the selected node.\n   * @param selectedElement the selection or null if nothing is selected\n   */\n  sidebar.updateSelectionInformation = function ( selectedElement ){\n    lastSelectedElement = selectedElement;\n    \n    // Click event was prevented when dragging\n    if ( d3.event && d3.event.defaultPrevented ) {\n      return;\n    }\n    \n    var isTriggerActive = d3.select(\"#selection-details-trigger\").classed(\"accordion-trigger-active\");\n    if ( selectedElement && !isTriggerActive ) {\n      d3.select(\"#selection-details-trigger\").node().click();\n    } else if ( !selectedElement && isTriggerActive ) {\n      showSelectionAdvice();\n      return;\n    }\n    \n    if ( elementTools.isProperty(selectedElement) ) {\n      displayPropertyInformation(selectedElement);\n    } else if ( elementTools.isNode(selectedElement) ) {\n      displayNodeInformation(selectedElement);\n    }\n  };\n  \n  function showSelectionAdvice(){\n    setSelectionInformationVisibility(false, false, true);\n  }\n  \n  function setSelectionInformationVisibility( showClasses, showProperties, showAdvice ){\n    d3.select(\"#classSelectionInformation\").classed(\"hidden\", !showClasses);\n    d3.select(\"#propertySelectionInformation\").classed(\"hidden\", !showProperties);\n    d3.select(\"#noSelectionInformation\").classed(\"hidden\", !showAdvice);\n  }\n  \n  function displayPropertyInformation( property ){\n    showPropertyInformations();\n    \n    setIriLabel(d3.select(\"#propname\"), property.labelForCurrentLanguage(), property.iri());\n    d3.select(\"#typeProp\").text(property.type());\n    \n    if ( property.inverse() !== undefined ) {\n      d3.select(\"#inverse\").classed(\"hidden\", false);\n      setIriLabel(d3.select(\"#inverse span\"), property.inverse().labelForCurrentLanguage(), property.inverse().iri());\n    } else {\n      d3.select(\"#inverse\").classed(\"hidden\", true);\n    }\n    \n    var equivalentIriSpan = d3.select(\"#propEquivUri\");\n    listNodeArray(equivalentIriSpan, property.equivalents());\n    \n    listNodeArray(d3.select(\"#subproperties\"), property.subproperties());\n    listNodeArray(d3.select(\"#superproperties\"), property.superproperties());\n    \n    if ( property.minCardinality() !== undefined ) {\n      d3.select(\"#infoCardinality\").classed(\"hidden\", true);\n      d3.select(\"#minCardinality\").classed(\"hidden\", false);\n      d3.select(\"#minCardinality span\").text(property.minCardinality());\n      d3.select(\"#maxCardinality\").classed(\"hidden\", false);\n      \n      if ( property.maxCardinality() !== undefined ) {\n        d3.select(\"#maxCardinality span\").text(property.maxCardinality());\n      } else {\n        d3.select(\"#maxCardinality span\").text(\"*\");\n      }\n      \n    } else if ( property.cardinality() !== undefined ) {\n      d3.select(\"#minCardinality\").classed(\"hidden\", true);\n      d3.select(\"#maxCardinality\").classed(\"hidden\", true);\n      d3.select(\"#infoCardinality\").classed(\"hidden\", false);\n      d3.select(\"#infoCardinality span\").text(property.cardinality());\n    } else {\n      d3.select(\"#infoCardinality\").classed(\"hidden\", true);\n      d3.select(\"#minCardinality\").classed(\"hidden\", true);\n      d3.select(\"#maxCardinality\").classed(\"hidden\", true);\n    }\n    \n    setIriLabel(d3.select(\"#domain\"), property.domain().labelForCurrentLanguage(), property.domain().iri());\n    setIriLabel(d3.select(\"#range\"), property.range().labelForCurrentLanguage(), property.range().iri());\n    \n    displayAttributes(property.attributes(), d3.select(\"#propAttributes\"));\n    \n    setTextAndVisibility(d3.select(\"#propDescription\"), property.descriptionForCurrentLanguage());\n    setTextAndVisibility(d3.select(\"#propComment\"), property.commentForCurrentLanguage());\n    \n    listAnnotations(d3.select(\"#propertySelectionInformation\"), property.annotations());\n  }\n  \n  function showPropertyInformations(){\n    setSelectionInformationVisibility(false, true, false);\n  }\n  \n  function setIriLabel( element, name, iri ){\n    var parent = d3.select(element.node().parentNode);\n    \n    if ( name ) {\n      element.selectAll(\"*\").remove();\n      appendIriLabel(element, name, iri);\n      parent.classed(\"hidden\", false);\n    } else {\n      parent.classed(\"hidden\", true);\n    }\n  }\n  \n  function appendIriLabel( element, name, iri ){\n    var tag;\n    \n    if ( iri ) {\n      tag = element.append(\"a\")\n        .attr(\"href\", iri)\n        .attr(\"title\", iri)\n        .attr(\"target\", \"_blank\");\n    } else {\n      tag = element.append(\"span\");\n    }\n    tag.text(name);\n  }\n  \n  function displayAttributes( attributes, textSpan ){\n    var spanParent = d3.select(textSpan.node().parentNode);\n    \n    if ( attributes && attributes.length > 0 ) {\n      // Remove redundant redundant attributes for sidebar\n      removeElementFromArray(\"object\", attributes);\n      removeElementFromArray(\"datatype\", attributes);\n      removeElementFromArray(\"rdf\", attributes);\n    }\n    \n    if ( attributes && attributes.length > 0 ) {\n      textSpan.text(attributes.join(\", \"));\n      \n      spanParent.classed(\"hidden\", false);\n    } else {\n      spanParent.classed(\"hidden\", true);\n    }\n  }\n  \n  function removeElementFromArray( element, array ){\n    var index = array.indexOf(element);\n    if ( index > -1 ) {\n      array.splice(index, 1);\n    }\n  }\n  \n  function displayNodeInformation( node ){\n    showClassInformations();\n    \n    setIriLabel(d3.select(\"#name\"), node.labelForCurrentLanguage(), node.iri());\n    \n    /* Equivalent stuff. */\n    var equivalentIriSpan = d3.select(\"#classEquivUri\");\n    listNodeArray(equivalentIriSpan, node.equivalents());\n    \n    d3.select(\"#typeNode\").text(node.type());\n    listNodeArray(d3.select(\"#individuals\"), node.individuals());\n    \n    /* Disjoint stuff. */\n    var disjointNodes = d3.select(\"#disjointNodes\");\n    var disjointNodesParent = d3.select(disjointNodes.node().parentNode);\n    \n    if ( node.disjointWith() !== undefined ) {\n      disjointNodes.selectAll(\"*\").remove();\n      \n      node.disjointWith().forEach(function ( element, index ){\n        if ( index > 0 ) {\n          disjointNodes.append(\"span\").text(\", \");\n        }\n        appendIriLabel(disjointNodes, element.labelForCurrentLanguage(), element.iri());\n      });\n      \n      disjointNodesParent.classed(\"hidden\", false);\n    } else {\n      disjointNodesParent.classed(\"hidden\", true);\n    }\n    \n    displayAttributes(node.attributes(), d3.select(\"#classAttributes\"));\n    \n    setTextAndVisibility(d3.select(\"#nodeDescription\"), node.descriptionForCurrentLanguage());\n    setTextAndVisibility(d3.select(\"#nodeComment\"), node.commentForCurrentLanguage());\n    \n    listAnnotations(d3.select(\"#classSelectionInformation\"), node.annotations());\n  }\n  \n  function showClassInformations(){\n    setSelectionInformationVisibility(true, false, false);\n  }\n  \n  function listNodeArray( textSpan, nodes ){\n    var spanParent = d3.select(textSpan.node().parentNode);\n    \n    if ( nodes && nodes.length ) {\n      textSpan.selectAll(\"*\").remove();\n      nodes.forEach(function ( element, index ){\n        if ( index > 0 ) {\n          textSpan.append(\"span\").text(\", \");\n        }\n        appendIriLabel(textSpan, element.labelForCurrentLanguage(), element.iri());\n      });\n      \n      spanParent.classed(\"hidden\", false);\n    } else {\n      spanParent.classed(\"hidden\", true);\n    }\n  }\n  \n  function setTextAndVisibility( label, value ){\n    var parentNode = d3.select(label.node().parentNode);\n    var hasValue = !!value;\n    if ( value ) {\n      label.text(value);\n    }\n    parentNode.classed(\"hidden\", !hasValue);\n  }\n  \n  /** Collapsible Sidebar functions; **/\n  \n  sidebar.showSidebar = function ( val, init ){\n    // make val to bool\n    if ( val === 1 ) {\n      visibleSidebar = true;\n      collapseButton.node().innerHTML = \">\";\n      detailArea.classed(\"hidden\", true);\n      if ( init === true ) {\n        detailArea.classed(\"hidden\", !visibleSidebar);\n        graphArea.style(\"width\", \"78%\");\n        graphArea.style(\"-webkit-animation-name\", \"none\");\n        \n        menuArea.style(\"width\", \"78%\");\n        menuArea.style(\"-webkit-animation-name\", \"none\");\n        \n        d3.select(\"#WarningErrorMessagesContainer\").style(\"width\", \"78%\");\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-name\", \"none\");\n      } else {\n        graphArea.style(\"width\", \"78%\");\n        graphArea.style(\"-webkit-animation-name\", \"sbCollapseAnimation\");\n        graphArea.style(\"-webkit-animation-duration\", \"0.5s\");\n        \n        menuArea.style(\"width\", \"78%\");\n        menuArea.style(\"-webkit-animation-name\", \"sbCollapseAnimation\");\n        menuArea.style(\"-webkit-animation-duration\", \"0.5s\");\n        \n        d3.select(\"#WarningErrorMessagesContainer\").style(\"width\", \"78%\");\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-name\", \"warn_ExpandRightBarAnimation\");\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-duration\", \"0.5s\");\n      }\n      graph.options().width(window.innerWidth - (window.innerWidth * 0.22));\n      graph.options().navigationMenu().updateScrollButtonVisibility();\n    }\n    if ( val === 0 ) {\n      visibleSidebar = false;\n      detailArea.classed(\"hidden\", true);\n      \n      collapseButton.node().innerHTML = \"<\";\n      // adjust the layout\n      if ( init === true ) {\n        graphArea.style(\"width\", \"100%\");\n        graphArea.style(\"-webkit-animation-name\", \"none\");\n        \n        menuArea.style(\"width\", \"100%\");\n        menuArea.style(\"-webkit-animation-name\", \"none\");\n        \n        d3.select(\"#WarningErrorMessagesContainer\").style(\"width\", \"100%\");\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-name\", \"none\");\n      } else {\n        graphArea.style(\"width\", \"100%\");\n        graphArea.style(\"-webkit-animation-name\", \"sbExpandAnimation\");\n        graphArea.style(\"-webkit-animation-duration\", \"0.5s\");\n        \n        menuArea.style(\"width\", \"100%\");\n        menuArea.style(\"-webkit-animation-name\", \"sbExpandAnimation\");\n        menuArea.style(\"-webkit-animation-duration\", \"0.5s\");\n        \n        d3.select(\"#WarningErrorMessagesContainer\").style(\"width\", \"100%\");\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-name\", \"warn_CollapseRightBarAnimation\");\n        d3.select(\"#WarningErrorMessagesContainer\").style(\"-webkit-animation-duration\", \"0.5s\");\n        \n      }\n      graph.options().width(window.innerWidth);\n      graph.updateCanvasContainerSize();\n      graph.options().navigationMenu().updateScrollButtonVisibility();\n    }\n  };\n  \n  sidebar.isSidebarVisible = function (){\n    return visibleSidebar;\n  };\n  \n  sidebar.updateSideBarVis = function ( init ){\n    var vis = sidebar.getSidebarVisibility();\n    sidebar.showSidebar(parseInt(vis), init);\n  };\n  \n  sidebar.getSidebarVisibility = function (){\n    var isHidden = detailArea.classed(\"hidden\");\n    if ( isHidden === false ) return String(1);\n    if ( isHidden === true ) return String(0);\n  };\n  \n  sidebar.initSideBarAnimation = function (){\n    graphArea.node().addEventListener(\"animationend\", function (){\n      detailArea.classed(\"hidden\", !visibleSidebar);\n      graph.updateCanvasContainerSize();\n      graph.options().navigationMenu().updateScrollButtonVisibility();\n    });\n  };\n  \n  sidebar.setup = function (){\n    setupCollapsing();\n    sidebar.initSideBarAnimation();\n    \n    collapseButton.on(\"click\", function (){\n      graph.options().navigationMenu().hideAllMenus();\n      var settingValue = parseInt(sidebar.getSidebarVisibility());\n      if ( settingValue === 1 ) sidebar.showSidebar(0);\n      else                  sidebar.showSidebar(1);\n    });\n  };\n  \n  \n  sidebar.updateShowedInformation = function (){\n    var editMode = graph.editorMode();\n    d3.select(\"#generalDetails\").classed(\"hidden\", editMode);\n    d3.select(\"#generalDetailsEdit\").classed(\"hidden\", !editMode);\n    \n    // store the meta information in graph.options()\n    \n    // todo: update edit meta info\n    graph.options().editSidebar().updateGeneralOntologyInfo();\n    \n    // todo: update showed meta info;\n    graph.options().sidebar().updateGeneralOntologyInfo();\n    \n  };\n  \n  sidebar.updateGeneralOntologyInfo = function (){\n    // get it from graph.options\n    var generalMetaObj = graph.options().getGeneralMetaObject();\n    var preferredLanguage = graph && graph.language ? graph.language() : null;\n    if ( generalMetaObj.hasOwnProperty(\"title\") ) {\n      // title has language to it -.-\n      if ( typeof generalMetaObj.title === \"object\" ) {\n        d3.select(\"#title\").node().value = languageTools.textInLanguage(generalMetaObj.title, preferredLanguage);\n      } else {\n        d3.select(\"#title\").node().innerHTML = generalMetaObj.title;\n      }\n      \n    }\n    if ( generalMetaObj.hasOwnProperty(\"iri\") ) d3.select(\"#about\").node().innerHTML = generalMetaObj.iri;\n    if ( generalMetaObj.hasOwnProperty(\"iri\") ) d3.select(\"#about\").node().href = generalMetaObj.iri;\n    if ( generalMetaObj.hasOwnProperty(\"version\") ) d3.select(\"#version\").node().innerHTML = generalMetaObj.version;\n    if ( generalMetaObj.hasOwnProperty(\"author\") ) d3.select(\"#authors\").node().innerHTML = generalMetaObj.author;\n    // this could also be an object >>\n    if ( generalMetaObj.hasOwnProperty(\"description\") ) {\n      if ( typeof generalMetaObj.description === \"object\" ) {\n        d3.select(\"#description\").node().innerHTML = languageTools.textInLanguage(generalMetaObj.description, preferredLanguage);\n      }\n      else {\n        d3.select(\"#description\").node().innerHTML = generalMetaObj.description;\n      }\n    }\n  };\n  \n  \n  return sidebar;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/sidebar.js\n// module id = 338\n// module chunks = 1","/**\n * Contains the logic for the sidebar.\n * @param graph the graph that belongs to these controls\n * @returns {{}}\n */\nmodule.exports = function ( graph ){\n  \n  var leftSidebar = {},\n    languageTools = webvowl.util.languageTools(),\n    elementTools = webvowl.util.elementTools();\n  var collapseButton = d3.select(\"#leftSideBarCollapseButton\");\n  var visibleSidebar = 0;\n  var backupVisibility = 0;\n  var sideBarContent = d3.select(\"#leftSideBarContent\");\n  var sideBarContainer = d3.select(\"#containerForLeftSideBar\");\n  var defaultClassSelectionContainers = [];\n  var defaultDatatypeSelectionContainers = [];\n  var defaultPropertySelectionContainers = [];\n  \n  leftSidebar.setup = function (){\n    setupCollapsing();\n    leftSidebar.initSideBarAnimation();\n    \n    collapseButton.on(\"click\", function (){\n      graph.options().navigationMenu().hideAllMenus();\n      var settingValue = parseInt(leftSidebar.getSidebarVisibility());\n      if ( settingValue === 0 ) leftSidebar.showSidebar(1);\n      else                  leftSidebar.showSidebar(0);\n      backupVisibility = settingValue;\n    });\n    \n    setupSelectionContainers();\n    d3.select(\"#WarningErrorMessages\").node().addEventListener(\"animationend\", function (){\n      d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-name\", \"none\");\n    });\n    \n  };\n  \n  leftSidebar.hideCollapseButton = function ( val ){\n    sideBarContainer.classed(\"hidden\", val);\n  };\n  \n  \n  function unselectAllElements( container ){\n    for ( var i = 0; i < container.length; i++ )\n      container[i].classed(\"defaultSelected\", false);\n  }\n  \n  function selectThisDefaultElement( element ){\n    d3.select(element).classed(\"defaultSelected\", true);\n  }\n  \n  function updateDefaultNameInAccordion( element, identifier ){\n    var elementDescription = \"\";\n    if ( identifier === \"defaultClass\" ) elementDescription = \"Class: \";\n    if ( identifier === \"defaultDatatype\" ) elementDescription = \"Datatype: \";\n    if ( identifier === \"defaultProperty\" ) elementDescription = \"Property: \";\n    \n    d3.select(\"#\" + identifier).node().innerHTML = elementDescription + element.innerHTML;\n    d3.select(\"#\" + identifier).node().title = element.innerHTML;\n  }\n  \n  function classSelectorFunction(){\n    unselectAllElements(defaultClassSelectionContainers);\n    selectThisDefaultElement(this);\n    updateDefaultNameInAccordion(this, \"defaultClass\");\n  }\n  \n  function datatypeSelectorFunction(){\n    unselectAllElements(defaultDatatypeSelectionContainers);\n    selectThisDefaultElement(this);\n    updateDefaultNameInAccordion(this, \"defaultDatatype\");\n  }\n  \n  function propertySelectorFunction(){\n    unselectAllElements(defaultPropertySelectionContainers);\n    selectThisDefaultElement(this);\n    updateDefaultNameInAccordion(this, \"defaultProperty\");\n  }\n  \n  \n  function setupSelectionContainers(){\n    var classContainer = d3.select(\"#classContainer\");\n    var datatypeContainer = d3.select(\"#datatypeContainer\");\n    var propertyContainer = d3.select(\"#propertyContainer\");\n    // create the supported elements\n    \n    var defaultClass = \"owl:Class\";\n    var defaultDatatype = \"rdfs:Literal\";\n    var defaultProperty = \"owl:objectProperty\";\n    \n    var supportedClasses = graph.options().supportedClasses();\n    var supportedDatatypes = graph.options().supportedDatatypes();\n    var supportedProperties = graph.options().supportedProperties();\n    var i;\n    \n    for ( i = 0; i < supportedClasses.length; i++ ) {\n      var aClassSelectionContainer;\n      aClassSelectionContainer = classContainer.append(\"div\");\n      aClassSelectionContainer.classed(\"containerForDefaultSelection\", true);\n      aClassSelectionContainer.classed(\"noselect\", true);\n      aClassSelectionContainer.node().id = \"selectedClass\" + supportedClasses[i];\n      aClassSelectionContainer.node().innerHTML = supportedClasses[i];\n      \n      if ( supportedClasses[i] === defaultClass ) {\n        selectThisDefaultElement(aClassSelectionContainer.node());\n      }\n      aClassSelectionContainer.on(\"click\", classSelectorFunction);\n      defaultClassSelectionContainers.push(aClassSelectionContainer);\n    }\n    \n    for ( i = 0; i < supportedDatatypes.length; i++ ) {\n      var aDTSelectionContainer = datatypeContainer.append(\"div\");\n      aDTSelectionContainer.classed(\"containerForDefaultSelection\", true);\n      aDTSelectionContainer.classed(\"noselect\", true);\n      aDTSelectionContainer.node().id = \"selectedDatatype\" + supportedDatatypes[i];\n      aDTSelectionContainer.node().innerHTML = supportedDatatypes[i];\n      \n      if ( supportedDatatypes[i] === defaultDatatype ) {\n        selectThisDefaultElement(aDTSelectionContainer.node());\n      }\n      aDTSelectionContainer.on(\"click\", datatypeSelectorFunction);\n      defaultDatatypeSelectionContainers.push(aDTSelectionContainer);\n    }\n    for ( i = 0; i < supportedProperties.length; i++ ) {\n      var aPropSelectionContainer = propertyContainer.append(\"div\");\n      aPropSelectionContainer.classed(\"containerForDefaultSelection\", true);\n      aPropSelectionContainer.classed(\"noselect\", true);\n      aPropSelectionContainer.node().id = \"selectedClass\" + supportedProperties[i];\n      aPropSelectionContainer.node().innerHTML = supportedProperties[i];\n      aPropSelectionContainer.on(\"click\", propertySelectorFunction);\n      if ( supportedProperties[i] === defaultProperty ) {\n        selectThisDefaultElement(aPropSelectionContainer.node());\n      }\n      defaultPropertySelectionContainers.push(aPropSelectionContainer);\n    }\n  }\n  \n  function setupCollapsing(){\n    // adapted version of this example: http://www.normansblog.de/simple-jquery-accordion/\n    function collapseContainers( containers ){\n      containers.classed(\"hidden\", true);\n    }\n    \n    function expandContainers( containers ){\n      containers.classed(\"hidden\", false);\n    }\n    \n    var triggers = d3.selectAll(\".accordion-trigger\");\n    \n    // Collapse all inactive triggers on startup\n    // collapseContainers(d3.selectAll(\".accordion-trigger:not(.accordion-trigger-active) + div\"));\n    \n    triggers.on(\"click\", function (){\n      var selectedTrigger = d3.select(this);\n      if ( selectedTrigger.classed(\"accordion-trigger-active\") ) {\n        // Collapse the active (which is also the selected) trigger\n        collapseContainers(d3.select(selectedTrigger.node().nextElementSibling));\n        selectedTrigger.classed(\"accordion-trigger-active\", false);\n      } else {\n        // Collapse the other trigger ...\n        // collapseContainers(d3.selectAll(\".accordion-trigger-active + div\"));\n        // activeTriggers.classed(\"accordion-trigger-active\", false);\n        // ... and expand the selected one\n        expandContainers(d3.select(selectedTrigger.node().nextElementSibling));\n        selectedTrigger.classed(\"accordion-trigger-active\", true);\n      }\n    });\n  }\n  \n  \n  leftSidebar.isSidebarVisible = function (){\n    return visibleSidebar;\n  };\n  \n  leftSidebar.updateSideBarVis = function ( init ){\n    var vis = leftSidebar.getSidebarVisibility();\n    leftSidebar.showSidebar(parseInt(vis), init);\n  };\n  \n  leftSidebar.initSideBarAnimation = function (){\n    sideBarContainer.node().addEventListener(\"animationend\", function (){\n      sideBarContent.classed(\"hidden\", !visibleSidebar);\n      if ( visibleSidebar === true ) {\n        sideBarContainer.style(\"width\", \"200px\");\n        sideBarContent.classed(\"hidden\", false);\n        d3.select(\"#leftSideBarCollapseButton\").style(\"left\", \"200px\");\n        d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\", false);\n        d3.select(\"#WarningErrorMessages\").style(\"left\", \"100px\");\n      }\n      else {\n        sideBarContainer.style(\"width\", \"0px\");\n        d3.select(\"#leftSideBarCollapseButton\").style(\"left\", \"0px\");\n        d3.select(\"#WarningErrorMessages\").style(\"left\", \"0px\");\n        d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\", false);\n        \n      }\n      graph.updateCanvasContainerSize();\n      graph.options().navigationMenu().updateScrollButtonVisibility();\n    });\n  };\n  \n  leftSidebar.showSidebar = function ( val, init ){\n    // make val to bool\n    var collapseButton = d3.select(\"#leftSideBarCollapseButton\");\n    if ( init === true ) {\n      visibleSidebar = (backupVisibility === 0);\n      sideBarContent.classed(\"hidden\", !visibleSidebar);\n      sideBarContainer.style(\"-webkit-animation-name\", \"none\");\n      d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-name\", \"none\");\n      if ( visibleSidebar === true ) {\n        sideBarContainer.style(\"width\", \"200px\");\n        sideBarContent.classed(\"hidden\", false);\n        d3.select(\"#leftSideBarCollapseButton\").style(\"left\", \"200px\");\n        d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\", false);\n        d3.select(\"#WarningErrorMessages\").style(\"left\", \"100px\");\n        collapseButton.node().innerHTML = \"<\";\n      }\n      \n      else {\n        sideBarContainer.style(\"width\", \"0px\");\n        d3.select(\"#WarningErrorMessages\").style(\"left\", \"0px\");\n        d3.select(\"#leftSideBarCollapseButton\").style(\"left\", \"0px\");\n        d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\", false);\n        collapseButton.node().innerHTML = \">\";\n      }\n      \n      graph.updateCanvasContainerSize();\n      graph.options().navigationMenu().updateScrollButtonVisibility();\n      return;\n    }\n    \n    d3.select(\"#leftSideBarCollapseButton\").classed(\"hidden\", true);\n    \n    if ( val === 1 ) {\n      visibleSidebar = true;\n      collapseButton.node().innerHTML = \"<\";\n      // call expand animation;\n      sideBarContainer.style(\"-webkit-animation-name\", \"l_sbExpandAnimation\");\n      sideBarContainer.style(\"-webkit-animation-duration\", \"0.5s\");\n      // prepare the animation;\n      \n      d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-name\", \"warn_ExpandLeftBarAnimation\");\n      d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-duration\", \"0.5s\");\n      \n    }\n    if ( val === 0 ) {\n      visibleSidebar = false;\n      sideBarContent.classed(\"hidden\", true);\n      collapseButton.node().innerHTML = \">\";\n      // call collapse animation\n      sideBarContainer.style(\"-webkit-animation-name\", \"l_sbCollapseAnimation\");\n      sideBarContainer.style(\"-webkit-animation-duration\", \"0.5s\");\n      d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-name\", \"warn_CollapseLeftBarAnimation\");\n      d3.select(\"#WarningErrorMessages\").style(\"-webkit-animation-duration\", \"0.5s\");\n      d3.select(\"#WarningErrorMessages\").style(\"left\", \"0\");\n    }\n    \n  };\n  \n  leftSidebar.getSidebarVisibility = function (){\n    var isHidden = sideBarContent.classed(\"hidden\");\n    if ( isHidden === false ) return String(1);\n    if ( isHidden === true ) return String(0);\n  };\n  \n  return leftSidebar;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/leftSidebar.js\n// module id = 339\n// module chunks = 1","/**\n * Contains the logic for the sidebar.\n * @param graph the graph that belongs to these controls\n * @returns {{}}\n */\nmodule.exports = function ( graph ){\n  \n  var editSidebar = {},\n    languageTools = webvowl.util.languageTools(),\n    elementTools = webvowl.util.elementTools();\n  \n  var prefixModule = webvowl.util.prefixTools(graph);\n  var selectedElementForCharacteristics;\n  var oldPrefix, oldPrefixURL;\n  var prefix_editMode = false;\n  \n  \n  editSidebar.clearMetaObjectValue = function (){\n    d3.select(\"#titleEditor\").node().value = \"\";\n    d3.select(\"#iriEditor\").node().value = \"\";\n    d3.select(\"#versionEditor\").node().value = \"\";\n    d3.select(\"#authorsEditor\").node().value = \"\";\n    d3.select(\"#descriptionEditor\").node().value = \"\";\n    // todo add clear description;\n  };\n  \n  \n  editSidebar.updatePrefixUi = function (){\n    editSidebar.updateElementWidth();\n    var prefixListContainer = d3.select(\"#prefixURL_Container\");\n    while ( prefixListContainer.node().firstChild ) {\n      prefixListContainer.node().removeChild(prefixListContainer.node().firstChild);\n    }\n    setupPrefixList();\n  };\n  \n  editSidebar.setup = function (){\n    setupCollapsing();\n    setupPrefixList();\n    setupAddPrefixButton();\n    setupSupportedDatatypes();\n    \n    \n    d3.select(\"#titleEditor\")\n      .on(\"change\", function (){\n        graph.options().addOrUpdateGeneralObjectEntry(\"title\", d3.select(\"#titleEditor\").node().value);\n      })\n      .on(\"keydown\", function (){\n        d3.event.stopPropagation();\n        if ( d3.event.keyCode === 13 ) {\n          d3.event.preventDefault();\n          graph.options().addOrUpdateGeneralObjectEntry(\"title\", d3.select(\"#titleEditor\").node().value);\n        }\n      });\n    d3.select(\"#iriEditor\")\n      .on(\"change\", function (){\n        if ( graph.options().addOrUpdateGeneralObjectEntry(\"iri\", d3.select(\"#iriEditor\").node().value) === false ) {\n          // restore value\n          d3.select(\"#iriEditor\").node().value = graph.options().getGeneralMetaObjectProperty('iri');\n        }\n      })\n      .on(\"keydown\", function (){\n        d3.event.stopPropagation();\n        if ( d3.event.keyCode === 13 ) {\n          d3.event.preventDefault();\n          if ( graph.options().addOrUpdateGeneralObjectEntry(\"iri\", d3.select(\"#iriEditor\").node().value) === false ) {\n            // restore value\n            d3.select(\"#iriEditor\").node().value = graph.options().getGeneralMetaObjectProperty('iri');\n          }\n        }\n      });\n    d3.select(\"#versionEditor\")\n      .on(\"change\", function (){\n        graph.options().addOrUpdateGeneralObjectEntry(\"version\", d3.select(\"#versionEditor\").node().value);\n      })\n      .on(\"keydown\", function (){\n        d3.event.stopPropagation();\n        if ( d3.event.keyCode === 13 ) {\n          d3.event.preventDefault();\n          graph.options().addOrUpdateGeneralObjectEntry(\"version\", d3.select(\"#versionEditor\").node().value);\n        }\n      });\n    d3.select(\"#authorsEditor\")\n      .on(\"change\", function (){\n        graph.options().addOrUpdateGeneralObjectEntry(\"author\", d3.select(\"#authorsEditor\").node().value);\n      })\n      .on(\"keydown\", function (){\n        d3.event.stopPropagation();\n        if ( d3.event.keyCode === 13 ) {\n          d3.event.preventDefault();\n          graph.options().addOrUpdateGeneralObjectEntry(\"author\", d3.select(\"#authorsEditor\").node().value);\n        }\n      });\n    d3.select(\"#descriptionEditor\")\n      .on(\"change\", function (){\n        graph.options().addOrUpdateGeneralObjectEntry(\"description\", d3.select(\"#descriptionEditor\").node().value);\n      });\n    \n    editSidebar.updateElementWidth();\n    \n  };\n  \n  function setupSupportedDatatypes(){\n    var datatypeEditorSelection = d3.select(\"#typeEditor_datatype\").node();\n    var supportedDatatypes = [\"undefined\", \"xsd:boolean\", \"xsd:double\", \"xsd:integer\", \"xsd:string\"];\n    for ( var i = 0; i < supportedDatatypes.length; i++ ) {\n      var optB = document.createElement('option');\n      optB.innerHTML = supportedDatatypes[i];\n      datatypeEditorSelection.appendChild(optB);\n    }\n  }\n  \n  function highlightDeleteButton( enable, name ){\n    var deletePath = d3.select(\"#del_pathFor_\" + name);\n    var deleteRect = d3.select(\"#del_rectFor_\" + name);\n    \n    if ( enable === false ) {\n      deletePath.node().style = \"stroke: #f00;\";\n      deleteRect.style(\"cursor\", \"auto\");\n    } else {\n      deletePath.node().style = \"stroke: #ff972d;\";\n      deleteRect.style(\"cursor\", \"pointer\");\n    }\n  }\n  \n  \n  function highlightEditButton( enable, name, fill ){\n    var editPath = d3.select(\"#pathFor_\" + name);\n    var editRect = d3.select(\"#rectFor_\" + name);\n    \n    if ( enable === false ) {\n      if ( fill )\n        editPath.node().style = \"fill: #fff; stroke : #fff; stroke-width : 1px\";\n      else\n        editPath.node().style = \" stroke : #fff; stroke-width : 1px\";\n      \n      editRect.style(\"cursor\", \"auto\");\n    } else {\n      if ( fill )\n        editPath.node().style = \"fill: #ff972d; stroke : #ff972d; stroke-width : 1px\";\n      else\n        editPath.node().style = \"stroke : #ff972d; stroke-width : 1px\";\n      editRect.style(\"cursor\", \"pointer\");\n    }\n    \n  }\n  \n  function setupAddPrefixButton(){\n    var btn = d3.select(\"#addPrefixButton\");\n    btn.on(\"click\", function (){\n      \n      // check if we are still in editMode?\n      if ( prefix_editMode === false ) {\n        // create new line entry;\n        var name = \"emptyPrefixEntry\";\n        var prefixListContainer = d3.select(\"#prefixURL_Container\");\n        var prefixEditContainer = prefixListContainer.append(\"div\");\n        prefixEditContainer.classed(\"prefixIRIElements\", true);\n        prefixEditContainer.node().id = \"prefixContainerFor_\" + name;\n        \n        var IconContainer = prefixEditContainer.append(\"div\");\n        IconContainer.style(\"position\", \"absolute\");\n        IconContainer.node().id = \"containerFor_\" + name;\n        var editButton = IconContainer.append(\"svg\");\n        editButton.style(\"width\", \"14px\");\n        editButton.style(\"height\", \"20px\");\n        //   editButton.classed(\"editPrefixButton\", true);\n        editButton.classed(\"noselect\", true);\n        //editButton.node().innerHTML = \"\\u2714\";\n        editButton.node().id = \"editButtonFor_\" + name;\n        \n        editButton.node().elementStyle = \"save\";\n        editButton.node().selectorName = name;\n        var editIcon = editButton.append(\"g\");\n        var editRect = editIcon.append(\"rect\");\n        var editPath = editIcon.append(\"path\");\n        editIcon.node().id = \"iconFor_\" + name;\n        editPath.node().id = \"pathFor_\" + name;\n        editRect.node().id = \"rectFor_\" + name;\n        \n        editIcon.node().selectorName = name;\n        editPath.node().selectorName = name;\n        editRect.node().selectorName = name;\n        IconContainer.node().title = \"Save new prefix and IRI\";\n        \n        editPath.classed(\"editPrefixIcon\");\n        editPath.style(\"stroke\", \"#fff\");\n        editPath.style(\"stroke-width\", \"1px\");\n        editPath.style(\"fill\", \"#fff\");\n        editRect.attr(\"width\", \"14px\");\n        editRect.attr(\"height\", \"14px\");\n        editRect.style(\"fill\", \"#18202A\");\n        editRect.attr(\"transform\", \"matrix(1,0,0,1,-3,4)\");\n        \n        editButton.selectAll(\"g\").on(\"mouseover\", function (){\n          highlightEditButton(true, this.selectorName, true);\n        });\n        editButton.selectAll(\"g\").on(\"mouseout\", function (){\n          highlightEditButton(false, this.selectorName, true);\n        });\n        // Check mark\n        // M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\n        // pencil\n        // M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\n        editPath.attr(\"d\", \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\");\n        editPath.attr(\"transform\", \"matrix(0.45,0,0,0.45,0,5)\");\n        \n        var prefInput = prefixEditContainer.append(\"input\");\n        prefInput.classed(\"prefixInput\", true);\n        prefInput.node().type = \"text\";\n        prefInput.node().id = \"prefixInputFor_\" + name;\n        prefInput.node().autocomplete = \"off\";\n        prefInput.node().value = \"\";\n        prefInput.style(\"margin-left\", \"14px\");\n        \n        var prefURL = prefixEditContainer.append(\"input\");\n        prefURL.classed(\"prefixURL\", true);\n        prefURL.node().type = \"text\";\n        prefURL.node().id = \"prefixURLFor_\" + name;\n        prefURL.node().autocomplete = \"off\";\n        prefURL.node().value = \"\";\n        \n        prefInput.node().disabled = false;\n        prefURL.node().disabled = false;\n        prefix_editMode = true;\n        var deleteContainer = prefixEditContainer.append(\"div\");\n        deleteContainer.style(\"float\", \"right\");\n        var deleteButton = deleteContainer.append(\"svg\");\n        deleteButton.node().id = \"deleteButtonFor_\" + name;\n        deleteContainer.node().title = \"Delete prefix and IRI\";\n        deleteButton.style(\"width\", \"10px\");\n        deleteButton.style(\"height\", \"20px\");\n        var deleteIcon = deleteButton.append(\"g\");\n        var deleteRect = deleteIcon.append(\"rect\");\n        var deletePath = deleteIcon.append(\"path\");\n        deleteIcon.node().id = \"del_iconFor_\" + name;\n        deletePath.node().id = \"del_pathFor_\" + name;\n        deleteRect.node().id = \"del_rectFor_\" + name;\n        \n        deleteIcon.node().selectorName = name;\n        deletePath.node().selectorName = name;\n        deleteRect.node().selectorName = name;\n        \n        \n        deletePath.style(\"stroke\", \"#f00\");\n        deleteRect.attr(\"width\", \"10px\");\n        deleteRect.attr(\"height\", \"14px\");\n        deleteRect.style(\"fill\", \"#18202A\");\n        deleteRect.attr(\"transform\", \"matrix(1,0,0,1,-3,4)\");\n        \n        \n        deletePath.attr(\"d\", \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\");\n        deletePath.attr(\"transform\", \"matrix(0.45,0,0,0.45,0,5)\");\n        \n        deleteButton.selectAll(\"g\").on(\"mouseover\", function (){\n          highlightDeleteButton(true, this.selectorName);\n        });\n        deleteButton.selectAll(\"g\").on(\"mouseout\", function (){\n          highlightDeleteButton(false, this.selectorName);\n        });\n        \n        \n        // connect the buttons;\n        editButton.on(\"click\", enablePrefixEdit);\n        deleteButton.on(\"click\", deletePrefixLine);\n        \n        editSidebar.updateElementWidth();\n        // swap focus to prefixInput\n        prefInput.node().focus();\n        oldPrefix = name;\n        oldPrefixURL = \"\";\n        d3.select(\"#addPrefixButton\").node().innerHTML = \"Save Prefix\";\n      } else {\n        d3.select(\"#editButtonFor_emptyPrefixEntry\").on(\"click\")(d3.select(\"#editButtonFor_emptyPrefixEntry\").node());\n      }\n      \n    });\n    \n  }\n  \n  function setupPrefixList(){\n    if ( graph.isEditorMode() === false ) return;\n    var prefixListContainer = d3.select(\"#prefixURL_Container\");\n    var prefixElements = graph.options().prefixList();\n    for ( var name in prefixElements ) {\n      if ( prefixElements.hasOwnProperty(name) ) {\n        var prefixEditContainer = prefixListContainer.append(\"div\");\n        prefixEditContainer.classed(\"prefixIRIElements\", true);\n        prefixEditContainer.node().id = \"prefixContainerFor_\" + name;\n        \n        // create edit button which enables the input fields\n        var IconContainer = prefixEditContainer.append(\"div\");\n        IconContainer.style(\"position\", \"absolute\");\n        IconContainer.node().id = \"containerFor_\" + name;\n        var editButton = IconContainer.append(\"svg\");\n        editButton.style(\"width\", \"14px\");\n        editButton.style(\"height\", \"20px\");\n        editButton.classed(\"noselect\", true);\n        editButton.node().id = \"editButtonFor_\" + name;\n        IconContainer.node().title = \"Edit prefix and IRI\";\n        editButton.node().elementStyle = \"save\";\n        editButton.node().selectorName = name;\n        \n        editButton.node().id = \"editButtonFor_\" + name;\n        editButton.node().elementStyle = \"edit\";\n        var editIcon = editButton.append(\"g\");\n        var editRect = editIcon.append(\"rect\");\n        var editPath = editIcon.append(\"path\");\n        editIcon.node().id = \"iconFor_\" + name;\n        editPath.node().id = \"pathFor_\" + name;\n        editRect.node().id = \"rectFor_\" + name;\n        \n        editIcon.node().selectorName = name;\n        editPath.node().selectorName = name;\n        editRect.node().selectorName = name;\n        \n        \n        editPath.classed(\"editPrefixIcon\");\n        editPath.style(\"stroke\", \"#fff\");\n        editPath.style(\"stroke-width\", \"1px\");\n        editRect.attr(\"width\", \"14px\");\n        editRect.attr(\"height\", \"14px\");\n        editRect.style(\"fill\", \"#18202A\");\n        editRect.attr(\"transform\", \"matrix(1,0,0,1,-3,4)\");\n        \n        editButton.selectAll(\"g\").on(\"mouseover\", function (){\n          var sender = this;\n          var fill = false;\n          var enable = true;\n          var f_editPath = d3.select(\"#pathFor_\" + sender.selectorName);\n          var f_editRect = d3.select(\"#rectFor_\" + sender.selectorName);\n          \n          if ( enable === false ) {\n            if ( fill )\n              f_editPath.node().style = \"fill: #fff; stroke : #fff; stroke-width : 1px\";\n            else\n              f_editPath.node().style = \" stroke : #fff; stroke-width : 1px\";\n            \n            f_editRect.style(\"cursor\", \"auto\");\n          } else {\n            if ( fill )\n              f_editPath.node().style = \"fill: #ff972d; stroke : #ff972d; stroke-width : 1px\";\n            else\n              f_editPath.node().style = \"stroke : #ff972d; stroke-width : 1px\";\n            f_editRect.style(\"cursor\", \"pointer\");\n          }\n        });\n        editButton.selectAll(\"g\").on(\"mouseout\", function (){\n          var sender = this;\n          var fill = false;\n          var enable = false;\n          var f_editPath = d3.select(\"#pathFor_\" + sender.selectorName);\n          var f_editRect = d3.select(\"#rectFor_\" + sender.selectorName);\n          \n          if ( enable === false ) {\n            if ( fill )\n              f_editPath.node().style = \"fill: #fff; stroke : #fff; stroke-width : 1px\";\n            else\n              f_editPath.node().style = \" stroke : #fff; stroke-width : 1px\";\n            \n            f_editRect.style(\"cursor\", \"auto\");\n          } else {\n            if ( fill )\n              f_editPath.node().style = \"fill: #ff972d; stroke : #ff972d; stroke-width : 1px\";\n            else\n              f_editPath.node().style = \"stroke : #ff972d; stroke-width : 1px\";\n            f_editRect.style(\"cursor\", \"pointer\");\n          }\n        });\n        \n        editPath.attr(\"d\", \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\");\n        editPath.attr(\"transform\", \"matrix(-0.45,0,0,0.45,10,5)\");\n        \n        // create input field for prefix\n        var prefInput = prefixEditContainer.append(\"input\");\n        prefInput.classed(\"prefixInput\", true);\n        prefInput.node().type = \"text\";\n        prefInput.node().id = \"prefixInputFor_\" + name;\n        prefInput.node().autocomplete = \"off\";\n        prefInput.node().value = name;\n        prefInput.style(\"margin-left\", \"14px\");\n        \n        // create input field for prefix url\n        var prefURL = prefixEditContainer.append(\"input\");\n        prefURL.classed(\"prefixURL\", true);\n        prefURL.node().type = \"text\";\n        prefURL.node().id = \"prefixURLFor_\" + name;\n        prefURL.node().autocomplete = \"off\";\n        prefURL.node().value = prefixElements[name];\n        prefURL.node().title = prefixElements[name];\n        // disable the input fields (already defined elements can be edited later)\n        prefInput.node().disabled = true;\n        prefURL.node().disabled = true;\n        \n        // create the delete button\n        var deleteContainer = prefixEditContainer.append(\"div\");\n        deleteContainer.style(\"float\", \"right\");\n        var deleteButton = deleteContainer.append(\"svg\");\n        deleteButton.node().id = \"deleteButtonFor_\" + name;\n        deleteContainer.node().title = \"Delete prefix and IRI\";\n        deleteButton.style(\"width\", \"10px\");\n        deleteButton.style(\"height\", \"20px\");\n        var deleteIcon = deleteButton.append(\"g\");\n        var deleteRect = deleteIcon.append(\"rect\");\n        var deletePath = deleteIcon.append(\"path\");\n        deleteIcon.node().id = \"del_iconFor_\" + name;\n        deletePath.node().id = \"del_pathFor_\" + name;\n        deleteRect.node().id = \"del_rectFor_\" + name;\n        \n        deleteIcon.node().selectorName = name;\n        deletePath.node().selectorName = name;\n        deleteRect.node().selectorName = name;\n        \n        \n        deletePath.style(\"stroke\", \"#f00\");\n        deleteRect.attr(\"width\", \"10px\");\n        deleteRect.attr(\"height\", \"14px\");\n        deleteRect.style(\"fill\", \"#18202A\");\n        deleteRect.attr(\"transform\", \"matrix(1,0,0,1,-3,4)\");\n        \n        \n        deletePath.attr(\"d\", \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\");\n        deletePath.attr(\"transform\", \"matrix(0.45,0,0,0.45,0,5)\");\n        \n        deleteButton.selectAll(\"g\").on(\"mouseover\", function (){\n          var selector = this;\n          var enable = true;\n          var f_deletePath = d3.select(\"#del_pathFor_\" + selector.selectorName);\n          var f_deleteRect = d3.select(\"#del_rectFor_\" + selector.selectorName);\n          \n          if ( enable === false ) {\n            f_deletePath.node().style = \"stroke: #f00;\";\n            f_deleteRect.style(\"cursor\", \"auto\");\n          } else {\n            f_deletePath.node().style = \"stroke: #ff972d;\";\n            f_deleteRect.style(\"cursor\", \"pointer\");\n          }\n        });\n        deleteButton.selectAll(\"g\").on(\"mouseout\", function (){\n          var selector = this;\n          var enable = false;\n          var f_deletePath = d3.select(\"#del_pathFor_\" + selector.selectorName);\n          var f_deleteRect = d3.select(\"#del_rectFor_\" + selector.selectorName);\n          \n          if ( enable === false ) {\n            f_deletePath.node().style = \"stroke: #f00;\";\n            f_deleteRect.style(\"cursor\", \"auto\");\n          } else {\n            f_deletePath.node().style = \"stroke: #ff972d;\";\n            f_deleteRect.style(\"cursor\", \"pointer\");\n          }\n        });\n        \n        \n        editButton.on(\"click\", enablePrefixEdit);\n        deleteButton.on(\"click\", deletePrefixLine);\n        \n        // EXPERIMENTAL\n        \n        if ( name === \"rdf\" ||\n          name === \"rdfs\" ||\n          name === \"xsd\" || name === \"dc\" ||\n          name === \"owl\"\n        ) {\n          // make them invis so the spacing does not change\n          IconContainer.classed(\"hidden\", true);\n          deleteContainer.classed(\"hidden\", true);\n        }\n      }\n    }\n    prefixModule.updatePrefixModel();\n  }\n  \n  function deletePrefixLine(){\n    if ( this.disabled === true ) return;\n    d3.select(\"#addPrefixButton\").node().innerHTML = \"Add Prefix\";\n    var selector = this.id.split(\"_\")[1];\n    d3.select(\"#prefixContainerFor_\" + selector).remove();\n    graph.options().removePrefix(selector);\n    prefix_editMode = false; // <<TODO make some sanity checks\n    prefixModule.updatePrefixModel();\n  }\n  \n  function enablePrefixEdit( item ){\n    \n    var agent = this;\n    if ( item )\n      agent = item;\n    \n    if ( agent.disabled === true ) return;\n    var selector = agent.id.split(\"_\")[1];\n    var stl = agent.elementStyle;\n    if ( stl === \"edit\" ) {\n      d3.select(\"#prefixInputFor_\" + selector).node().disabled = false;\n      d3.select(\"#prefixURLFor_\" + selector).node().disabled = false;\n      // change the button content\n      //  this.innerHTML = \"\\u2714\";\n      agent.elementStyle = \"save\";\n      oldPrefix = d3.select(\"#prefixInputFor_\" + selector).node().value;\n      oldPrefixURL = d3.select(\"#prefixURLFor_\" + selector).node().value;\n      prefix_editMode = true;\n      if ( d3.select(\"#containerFor_\" + selector).node() )\n        d3.select(\"#containerFor_\" + selector).node().title = \"Save new prefix and IRI\";\n      \n      var editButton = d3.select(agent);\n      editButton.selectAll(\"g\").on(\"mouseover\", function (){\n        \n        highlightEditButton(true, agent.selectorName, true);\n      });\n      editButton.selectAll(\"g\").on(\"mouseout\", function (){\n        highlightEditButton(false, agent.selectorName, true);\n      });\n      \n      var editPath = d3.select(\"#pathFor_\" + agent.selectorName);\n      editPath.attr(\"d\", \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\");\n      editPath.attr(\"transform\", \"matrix(0.45,0,0,0.45,0,5)\");\n      \n      highlightEditButton(true, agent.selectorName, true);\n      \n      \n    }\n    if ( stl === \"save\" ) {\n      var newPrefixURL = d3.select(\"#prefixURLFor_\" + selector).node().value;\n      var newPrefix = d3.select(\"#prefixInputFor_\" + selector).node().value;\n      \n      \n      if ( graph.options().updatePrefix(oldPrefix, newPrefix, oldPrefixURL, newPrefixURL) === true ) {\n        d3.select(\"#prefixInputFor_\" + newPrefix).node().disabled = true;\n        d3.select(\"#prefixURLFor_\" + newPrefix).node().disabled = true;\n        d3.select(\"#addPrefixButton\").node().innerHTML = \"Add Prefix\";\n        if ( d3.select(\"#containerFor_\" + selector).node() )\n          d3.select(\"#containerFor_\" + selector).node().title = \"Edit prefix and IRI\";\n        \n        // change the button content\n        \n        agent.elementStyle = \"edit\";\n        prefix_editMode = false;\n        prefixModule.updatePrefixModel();\n        var saveButton = d3.select(agent);\n        saveButton.selectAll(\"g\").on(\"mouseover\", function (){\n          highlightEditButton(true, agent.selectorName, false);\n        });\n        saveButton.selectAll(\"g\").on(\"mouseout\", function (){\n          highlightEditButton(false, agent.selectorName, false);\n        });\n        \n        var savePath = d3.select(\"#pathFor_\" + agent.selectorName);\n        savePath.attr(\"d\", \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\");\n        savePath.attr(\"transform\", \"matrix(-0.45,0,0,0.45,10,5)\");\n        highlightEditButton(true, agent.selectorName, false);\n      }\n    }\n  }\n  \n  function changeDatatypeType( element ){\n    var datatypeEditorSelection = d3.select(\"#typeEditor_datatype\").node();\n    var givenName = datatypeEditorSelection.value;\n    var identifier = givenName.split(\":\")[1];\n    \n    if ( datatypeEditorSelection.value !== \"undefined\" ) {\n      d3.select(\"#element_iriEditor\").node().disabled = true;\n      d3.select(\"#element_labelEditor\").node().disabled = true;\n    } else {\n      identifier = \"undefined\";\n      d3.select(\"#element_iriEditor\").node().disabled = false;\n      d3.select(\"#element_labelEditor\").node().disabled = false;\n    }\n    element.label(identifier);\n    element.dType(givenName);\n    element.iri(\"http://www.w3.org/2001/XMLSchema#\" + identifier);\n    element.baseIri(\"http://www.w3.org/2001/XMLSchema#\");\n    element.redrawLabelText();\n    \n    d3.select(\"#element_iriEditor\").node().value = prefixModule.getPrefixRepresentationForFullURI(element.iri());\n    d3.select(\"#element_iriEditor\").node().title = element.iri();\n    d3.select(\"#element_labelEditor\").node().value = element.labelForCurrentLanguage();\n  }\n  \n  \n  function identifyExternalCharacteristicForElement( ontoIRI, elementIRI ){\n    return (elementIRI.indexOf(ontoIRI) === -1);\n    \n  }\n  \n  function defaultIriValue( element ){\n    // get the iri of that element;\n    if ( graph.options().getGeneralMetaObject().iri ) {\n      var str2Compare = graph.options().getGeneralMetaObject().iri + element.id();\n      return element.iri() === str2Compare;\n    }\n    return false;\n  }\n  \n  function getURLFROMPrefixedVersion( element ){\n    var url = d3.select(\"#element_iriEditor\").node().value;\n    var base = graph.options().getGeneralMetaObjectProperty(\"iri\");\n    if ( validURL(url) === false ) {\n      \n      // make better usability\n      // try to split element;\n      var tokens = url.split(\":\");\n      \n      //console.log(\"try to split the input into prefix:name\")\n      console.log(\"Tokens\");\n      console.log(tokens);\n      console.log(\"---------------\");\n      // TODO MORE VALIDATION TESTS\n      if ( tokens.length === 2 ) {\n        var pr = tokens[0];\n        var name = tokens[1];\n        if ( pr.length > 0 ) {\n          var basePref = graph.options().prefixList()[pr];\n          if ( basePref === undefined ) {\n            console.log(\"ERROR __________________\");\n            graph.options().warningModule().showWarning(\"Invalid Element IRI\",\n              \"Could not resolve prefix '\" + basePref + \"'\",\n              \"Restoring previous IRI for Element\" + element.iri(), 1, false);\n            d3.select(\"#element_iriEditor\").node().value = element.iri();\n            return;\n            \n          }\n          // check if url is not empty\n          \n          if ( name.length === 0 ) {\n            graph.options().warningModule().showWarning(\"Invalid Element IRI\",\n              \"Input IRI is EMPTY\",\n              \"Restoring previous IRI for Element\" + element.iri(), 1, false);\n            console.log(\"NO INPUT PROVIDED\");\n            d3.select(\"#element_iriEditor\").node().value = element.iri();\n            return;\n            \n          }\n          url = basePref + name;\n        }\n        else {\n          url = base + name;\n        }\n      } else {\n        if ( url.length === 0 ) {\n          //\n          console.log(\"NO INPUT PROVIDED\");\n          d3.select(\"#element_iriEditor\").node().value = element.iri();\n          return;\n        }\n        // failed to identify anything useful\n        console.log(\"Tryig to use the input!\");\n        url = base + url;\n      }\n    }\n    return url;\n  }\n  \n  function changeIriForElement( element ){\n    var url = getURLFROMPrefixedVersion(element);\n    var base = graph.options().getGeneralMetaObjectProperty(\"iri\");\n    var sanityCheckResult;\n    if ( elementTools.isNode(element) ) {\n      \n      sanityCheckResult = graph.checkIfIriClassAlreadyExist(url);\n      if ( sanityCheckResult === false ) {\n        element.iri(url);\n      } else {\n        // throw warnign\n        graph.options().warningModule().showWarning(\"Already seen this class\",\n          \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\n          \"Restoring previous IRI for Element : \" + element.iri(), 2, false, sanityCheckResult);\n        \n        editSidebar.updateSelectionInformation(element);\n        return;\n        \n      }\n    }\n    if ( elementTools.isProperty(element) === true ) {\n      sanityCheckResult = editSidebar.checkProperIriChange(element, url);\n      if ( sanityCheckResult !== false ) {\n        graph.options().warningModule().showWarning(\"Already seen this property\",\n          \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\n          \"Restoring previous IRI for Element : \" + element.iri(), 1, false, sanityCheckResult);\n        \n        editSidebar.updateSelectionInformation(element);\n        return;\n      }\n    }\n    \n    // if (element.existingPropertyIRI(url)===true){\n    //     console.log(\"I Have seen this Particular URL already \"+url);\n    //     graph.options().warningModule().showWarning(\"Already Seen This one \",\n    //         \"Input IRI For Element\"+ element.labelForCurrentLanguage()+\" already been set  \",\n    //         \"Restoring previous IRI for Element\"+element.iri(),1,false);\n    //     d3.select(\"#element_iriEditor\").node().value=graph.options().prefixModule().getPrefixRepresentationForFullURI(element.iri());\n    //     editSidebar.updateSelectionInformation(element);\n    //     return;\n    // }\n    \n    element.iri(url);\n    if ( identifyExternalCharacteristicForElement(base, url) === true ) {\n      addAttribute(element, \"external\");\n      // background color for external element;\n      element.backgroundColor(\"#36C\");\n      element.redrawElement();\n      element.redrawLabelText();\n      // handle visual selection\n      \n    } else {\n      removeAttribute(element, \"external\");\n      // background color for external element;\n      element.backgroundColor(undefined);\n      element.redrawElement();\n      element.redrawLabelText();\n      \n    }\n    \n    if ( element.focused() ) {\n      graph.options().focuserModule().handle(element, true); // unfocus\n      graph.options().focuserModule().handle(element, true); // focus\n    }\n    // graph.options().focuserModule().handle(undefined);\n    \n    \n    d3.select(\"#element_iriEditor\").node().value = prefixModule.getPrefixRepresentationForFullURI(url);\n    editSidebar.updateSelectionInformation(element);\n  }\n  \n  function validURL( str ){\n    var urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/;\n    return urlregex.test(str);\n  }\n  \n  \n  function changeLabelForElement( element ){\n    element.label(d3.select(\"#element_labelEditor\").node().value);\n    element.redrawLabelText();\n  }\n  \n  editSidebar.updateEditDeleteButtonIds = function ( oldPrefix, newPrefix ){\n    d3.select(\"#prefixInputFor_\" + oldPrefix).node().id = \"prefixInputFor_\" + newPrefix;\n    d3.select(\"#prefixURLFor_\" + oldPrefix).node().id = \"prefixURLFor_\" + newPrefix;\n    d3.select(\"#deleteButtonFor_\" + oldPrefix).node().id = \"deleteButtonFor_\" + newPrefix;\n    d3.select(\"#editButtonFor_\" + oldPrefix).node().id = \"editButtonFor_\" + newPrefix;\n    \n    d3.select(\"#prefixContainerFor_\" + oldPrefix).node().id = \"prefixContainerFor_\" + newPrefix;\n  };\n  \n  editSidebar.checkForExistingURL = function ( url ){\n    var i;\n    var allProps = graph.getUnfilteredData().properties;\n    for ( i = 0; i < allProps.length; i++ ) {\n      if ( allProps[i].iri() === url ) return true;\n    }\n    return false;\n    \n  };\n  editSidebar.checkProperIriChange = function ( element, url ){\n    console.log(\"Element changed Label\");\n    console.log(\"Testing URL \" + url);\n    if ( element.type() === \"rdfs:subClassOf\" || element.type() === \"owl:disjointWith\" ) {\n      console.log(\"ignore this for now, already handled in the type and domain range changer\");\n    } else {\n      var i;\n      var allProps = graph.getUnfilteredData().properties;\n      for ( i = 0; i < allProps.length; i++ ) {\n        if ( allProps[i] === element ) continue;\n        if ( allProps[i].iri() === url ) return allProps[i];\n      }\n    }\n    return false;\n  };\n  \n  editSidebar.updateSelectionInformation = function ( element ){\n    \n    if ( element === undefined ) {\n      // show hint;\n      d3.select(\"#selectedElementProperties\").classed(\"hidden\", true);\n      d3.select(\"#selectedElementPropertiesEmptyHint\").classed(\"hidden\", false);\n      selectedElementForCharacteristics = null;\n      editSidebar.updateElementWidth();\n    }\n    else {\n      d3.select(\"#selectedElementProperties\").classed(\"hidden\", false);\n      d3.select(\"#selectedElementPropertiesEmptyHint\").classed(\"hidden\", true);\n      d3.select(\"#typeEditForm_datatype\").classed(\"hidden\", true);\n      \n      // set the element IRI, and labels\n      d3.select(\"#element_iriEditor\").node().value = element.iri();\n      d3.select(\"#element_labelEditor\").node().value = element.labelForCurrentLanguage();\n      d3.select(\"#element_iriEditor\").node().title = element.iri();\n      \n      d3.select(\"#element_iriEditor\")\n        .on(\"change\", function (){\n          var elementIRI = element.iri();\n          var prefixed = graph.options().prefixModule().getPrefixRepresentationForFullURI(elementIRI);\n          if ( prefixed === d3.select(\"#element_iriEditor\").node().value ) {\n            console.log(\"Iri is identical, nothing has changed!\");\n            return;\n          }\n          \n          changeIriForElement(element);\n        })\n        .on(\"keydown\", function (){\n          d3.event.stopPropagation();\n          if ( d3.event.keyCode === 13 ) {\n            d3.event.preventDefault();\n            console.log(\"IRI CHANGED Via ENTER pressed\");\n            changeIriForElement(element);\n            d3.select(\"#element_iriEditor\").node().title = element.iri();\n          }\n        });\n      \n      var forceIRISync = defaultIriValue(element);\n      d3.select(\"#element_labelEditor\")\n        .on(\"change\", function (){\n          var sanityCheckResult;\n          console.log(\"Element changed Label\");\n          var url = getURLFROMPrefixedVersion(element);\n          if ( element.iri() !== url ) {\n            if ( elementTools.isProperty(element) === true ) {\n              sanityCheckResult = editSidebar.checkProperIriChange(element, url);\n              if ( sanityCheckResult !== false ) {\n                graph.options().warningModule().showWarning(\"Already seen this property\",\n                  \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\n                  \"Continuing with duplicate property!\", 1, false, sanityCheckResult);\n                editSidebar.updateSelectionInformation(element);\n                return;\n              }\n            }\n            \n            if ( elementTools.isNode(element) === true ) {\n              sanityCheckResult = graph.checkIfIriClassAlreadyExist(url);\n              if ( sanityCheckResult !== false ) {\n                graph.options().warningModule().showWarning(\"Already seen this Class\",\n                  \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\n                  \"Restoring previous IRI for Element : \" + element.iri(), 2, false, sanityCheckResult);\n                \n                editSidebar.updateSelectionInformation(element);\n                return;\n              }\n            }\n            element.iri(url);\n          }\n          changeLabelForElement(element);\n          editSidebar.updateSelectionInformation(element); // prevents that it will be changed if node is still active\n        })\n        .on(\"keydown\", function (){\n          d3.event.stopPropagation();\n          if ( d3.event.keyCode === 13 ) {\n            d3.event.preventDefault();\n            var sanityCheckResult;\n            console.log(\"Element changed Label\");\n            var url = getURLFROMPrefixedVersion(element);\n            if ( element.iri() !== url ) {\n              if ( elementTools.isProperty(element) === true ) {\n                sanityCheckResult = editSidebar.checkProperIriChange(element, url);\n                if ( sanityCheckResult !== false ) {\n                  graph.options().warningModule().showWarning(\"Already seen this property\",\n                    \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\n                    \"Continuing with duplicate property!\", 1, false, sanityCheckResult);\n                  \n                  editSidebar.updateSelectionInformation(element);\n                  return;\n                }\n              }\n              \n              if ( elementTools.isNode(element) === true ) {\n                sanityCheckResult = graph.checkIfIriClassAlreadyExist(url);\n                if ( sanityCheckResult !== false ) {\n                  graph.options().warningModule().showWarning(\"Already seen this Class\",\n                    \"Input IRI: \" + url + \" for element: \" + element.labelForCurrentLanguage() + \" already been set\",\n                    \"Restoring previous IRI for Element : \" + element.iri(), 2, false, sanityCheckResult);\n                  \n                  editSidebar.updateSelectionInformation(element);\n                  return;\n                }\n              }\n              element.iri(url);\n            }\n            changeLabelForElement(element);\n          }\n        })\n        .on(\"keyup\", function (){\n          if ( forceIRISync ) {\n            var labelName = d3.select(\"#element_labelEditor\").node().value;\n            var resourceName = labelName.replaceAll(\" \", \"_\");\n            var syncedIRI = element.baseIri() + resourceName;\n            \n            //element.iri(syncedIRI);\n            d3.select(\"#element_iriEditor\").node().title = element.iri();\n            d3.select(\"#element_iriEditor\").node().value = prefixModule.getPrefixRepresentationForFullURI(syncedIRI);\n          }\n        });\n      // check if we are allowed to change IRI OR LABEL\n      d3.select(\"#element_iriEditor\").node().disabled = false;\n      d3.select(\"#element_labelEditor\").node().disabled = false;\n      \n      if ( element.type() === \"rdfs:subClassOf\" ) {\n        d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2000/01/rdf-schema#subClassOf\";\n        d3.select(\"#element_iriEditor\").node().title = \"http://www.w3.org/2000/01/rdf-schema#subClassOf\";\n        d3.select(\"#element_labelEditor\").node().value = \"Subclass of\";\n        d3.select(\"#element_iriEditor\").node().disabled = true;\n        d3.select(\"#element_labelEditor\").node().disabled = true;\n      }\n      if ( element.type() === \"owl:Thing\" ) {\n        d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2002/07/owl#Thing\";\n        d3.select(\"#element_iriEditor\").node().title = \"http://www.w3.org/2002/07/owl#Thing\";\n        d3.select(\"#element_labelEditor\").node().value = \"Thing\";\n        d3.select(\"#element_iriEditor\").node().disabled = true;\n        d3.select(\"#element_labelEditor\").node().disabled = true;\n      }\n      \n      if ( element.type() === \"owl:disjointWith\" ) {\n        d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2002/07/owl#disjointWith\";\n        d3.select(\"#element_iriEditor\").node().title = \"http://www.w3.org/2002/07/owl#disjointWith\";\n        d3.select(\"#element_iriEditor\").node().disabled = true;\n        d3.select(\"#element_labelEditor\").node().disabled = true;\n      }\n      \n      if ( element.type() === \"rdfs:Literal\" ) {\n        d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2000/01/rdf-schema#Literal\";\n        d3.select(\"#element_iriEditor\").node().title = \"http://www.w3.org/2000/01/rdf-schema#Literal\";\n        d3.select(\"#element_iriEditor\").node().disabled = true;\n        d3.select(\"#element_labelEditor\").node().disabled = true;\n        element.iri(\"http://www.w3.org/2000/01/rdf-schema#Literal\");\n      }\n      if ( element.type() === \"rdfs:Datatype\" ) {\n        var datatypeEditorSelection = d3.select(\"#typeEditor_datatype\");\n        d3.select(\"#typeEditForm_datatype\").classed(\"hidden\", false);\n        element.iri(\"http://www.w3.org/2000/01/rdf-schema#Datatype\");\n        d3.select(\"#element_iriEditor\").node().value = \"http://www.w3.org/2000/01/rdf-schema#Datatype\";\n        d3.select(\"#element_iriEditor\").node().title = \"http://www.w3.org/2000/01/rdf-schema#Datatype\";\n        d3.select(\"#element_iriEditor\").node().disabled = true;\n        d3.select(\"#element_labelEditor\").node().disabled = true;\n        \n        datatypeEditorSelection.node().value = element.dType();\n        if ( datatypeEditorSelection.node().value === \"undefined\" ) {\n          d3.select(\"#element_iriEditor\").node().disabled = true; // always prevent IRI modifications\n          d3.select(\"#element_labelEditor\").node().disabled = false;\n        }\n        // reconnect the element\n        datatypeEditorSelection.on(\"change\", function (){\n          changeDatatypeType(element);\n        });\n      }\n      \n      // add type selector\n      var typeEditorSelection = d3.select(\"#typeEditor\").node();\n      var htmlCollection = typeEditorSelection.children;\n      var numEntries = htmlCollection.length;\n      var i;\n      var elementPrototypes = getElementPrototypes(element);\n      for ( i = 0; i < numEntries; i++ )\n        typeEditorSelection.removeChild(htmlCollection[0]);\n      \n      for ( i = 0; i < elementPrototypes.length; i++ ) {\n        var optA = document.createElement('option');\n        optA.innerHTML = elementPrototypes[i];\n        typeEditorSelection.appendChild(optA);\n      }\n      // set the proper value in the selection\n      typeEditorSelection.value = element.type();\n      d3.select(\"#typeEditor\").on(\"change\", function (){\n        elementTypeSelectionChanged(element);\n      });\n      \n      \n      // add characteristics selection\n      var needChar = elementNeedsCharacteristics(element);\n      d3.select(\"#property_characteristics_Container\").classed(\"hidden\", !needChar);\n      if ( needChar === true ) {\n        addElementsCharacteristics(element);\n      }\n      var fullURI = d3.select(\"#element_iriEditor\").node().value;\n      d3.select(\"#element_iriEditor\").node().value = prefixModule.getPrefixRepresentationForFullURI(fullURI);\n      d3.select(\"#element_iriEditor\").node().title = fullURI;\n      editSidebar.updateElementWidth();\n    }\n    \n  };\n  \n  editSidebar.updateGeneralOntologyInfo = function (){\n    var preferredLanguage = graph && graph.language ? graph.language() : null;\n    \n    // get it from graph.options\n    var generalMetaObj = graph.options().getGeneralMetaObject();\n    if ( generalMetaObj.hasOwnProperty(\"title\") ) {\n      // title has language to it -.-\n      if ( typeof generalMetaObj.title === \"object\" ) {\n        d3.select(\"#titleEditor\").node().value = languageTools.textInLanguage(generalMetaObj.title, preferredLanguage);\n      } else\n        d3.select(\"#titleEditor\").node().value = generalMetaObj.title;\n    }\n    if ( generalMetaObj.hasOwnProperty(\"iri\") ) d3.select(\"#iriEditor\").node().value = generalMetaObj.iri;\n    if ( generalMetaObj.hasOwnProperty(\"version\") ) d3.select(\"#versionEditor\").node().value = generalMetaObj.version;\n    if ( generalMetaObj.hasOwnProperty(\"author\") ) d3.select(\"#authorsEditor\").node().value = generalMetaObj.author;\n    \n    \n    if ( generalMetaObj.hasOwnProperty(\"description\") ) {\n      \n      if ( typeof generalMetaObj.description === \"object\" )\n        d3.select(\"#descriptionEditor\").node().value =\n          languageTools.textInLanguage(generalMetaObj.description, preferredLanguage);\n      else\n        d3.select(\"#descriptionEditor\").node().value = generalMetaObj.description;\n    }\n    else\n      d3.select(\"#descriptionEditor\").node().value = \"No Description\";\n  };\n  \n  editSidebar.updateElementWidth = function (){\n    var height = window.innerHeight - 40;\n    var lsb_offset = d3.select(\"#logo\").node().getBoundingClientRect().height + 5;\n    var lsb_height = height - lsb_offset;\n    d3.select(\"#containerForLeftSideBar\").style(\"top\", lsb_offset + \"px\");\n    d3.select(\"#leftSideBarCollapseButton\").style(\"top\", lsb_offset + \"px\");\n    d3.select(\"#containerForLeftSideBar\").style(\"height\", lsb_height + \"px\");\n    \n    var div_width = d3.select(\"#generalDetailsEdit\").node().getBoundingClientRect().width;\n    div_width += 10;\n    \n    var title_labelWidth = d3.select(\"#titleEditor-label\").node().getBoundingClientRect().width + 20;\n    var iri_labelWidth = d3.select(\"#iriEditor-label\").node().getBoundingClientRect().width + 20;\n    var version_labelWidth = d3.select(\"#versionEditor-label\").node().getBoundingClientRect().width + 20;\n    var author_labelWidth = d3.select(\"#authorsEditor-label\").node().getBoundingClientRect().width + 20;\n    //find max width;\n    var maxW = 0;\n    maxW = Math.max(maxW, title_labelWidth);\n    maxW = Math.max(maxW, iri_labelWidth);\n    maxW = Math.max(maxW, version_labelWidth);\n    maxW = Math.max(maxW, author_labelWidth);\n    \n    var meta_inputWidth = div_width - maxW - 10;\n    \n    d3.select(\"#titleEditor\").style(\"width\", meta_inputWidth + \"px\");\n    d3.select(\"#iriEditor\").style(\"width\", meta_inputWidth + \"px\");\n    d3.select(\"#versionEditor\").style(\"width\", meta_inputWidth + \"px\");\n    d3.select(\"#authorsEditor\").style(\"width\", meta_inputWidth + \"px\");\n    \n    \n    var elementIri_width = d3.select(\"#element_iriEditor-label\").node().getBoundingClientRect().width + 20;\n    var elementLabel_width = d3.select(\"#element_labelEditor-label\").node().getBoundingClientRect().width + 20;\n    var elementType_width = d3.select(\"#typeEditor-label\").node().getBoundingClientRect().width + 20;\n    var elementDType_width = d3.select(\"#typeEditor_datatype-label\").node().getBoundingClientRect().width + 20;\n    \n    maxW = 0;\n    maxW = Math.max(maxW, elementIri_width);\n    maxW = Math.max(maxW, elementLabel_width);\n    maxW = Math.max(maxW, elementType_width);\n    maxW = Math.max(maxW, elementDType_width);\n    var selectedElement_inputWidth = div_width - maxW - 10;\n    \n    d3.select(\"#element_iriEditor\").style(\"width\", selectedElement_inputWidth + \"px\");\n    d3.select(\"#element_labelEditor\").style(\"width\", selectedElement_inputWidth + \"px\");\n    d3.select(\"#typeEditor\").style(\"width\", selectedElement_inputWidth + 4 + \"px\");\n    d3.select(\"#typeEditor_datatype\").style(\"width\", selectedElement_inputWidth + 4 + \"px\");\n    \n    // update prefix Element width;\n    var containerWidth = d3.select(\"#containerForPrefixURL\").node().getBoundingClientRect().width;\n    if ( containerWidth !== 0 ) {\n      var inputs = d3.selectAll(\".prefixInput\");\n      if ( inputs.node() ) {\n        var prefixWidth = d3.selectAll(\".prefixInput\").node().getBoundingClientRect().width;\n        d3.selectAll(\".prefixURL\").style(\"width\", containerWidth - prefixWidth - 45 + \"px\");\n      }\n    }\n  };\n  \n  function addElementsCharacteristics( element ){\n    // save selected element for checkbox handler\n    selectedElementForCharacteristics = element;\n    var i;\n    // KILL old elements\n    var charSelectionNode = d3.select(\"#property_characteristics_Selection\");\n    var htmlCollection = charSelectionNode.node().children;\n    if ( htmlCollection ) {\n      var numEntries = htmlCollection.length;\n      for ( var q = 0; q < numEntries; q++ ) {\n        charSelectionNode.node().removeChild(htmlCollection[0]);\n      }\n    }\n    // datatypes kind of ignored by the elementsNeedCharacteristics function\n    // so we need to check if we are a node or not\n    if ( element.attributes().indexOf(\"external\") > -1 ) {\n      // add external span to the div;\n      var externalCharSpan = charSelectionNode.append(\"span\");\n      externalCharSpan.classed(\"spanForCharSelection\", true);\n      externalCharSpan.node().innerHTML = \"external\";\n    }\n    var filterContainer,\n      filterCheckbox;\n    if ( elementTools.isNode(element) === true ) {\n      // add the deprecated characteristic;\n      var arrayOfNodeChars = [\"deprecated\"];\n      for ( i = 0; i < arrayOfNodeChars.length; i++ ) {\n        filterContainer = charSelectionNode\n          .append(\"div\")\n          .classed(\"checkboxContainer\", true)\n          .style(\"padding-top\", \"2px\");\n        \n        filterCheckbox = filterContainer.append(\"input\")\n          .classed(\"filterCheckbox\", true)\n          .attr(\"id\", \"CharacteristicsCheckbox\" + i)\n          .attr(\"type\", \"checkbox\")\n          .attr(\"characteristics\", arrayOfNodeChars[i])\n          .property(\"checked\", getPresentAttribute(element, arrayOfNodeChars[i]));\n        //\n        filterContainer.append(\"label\")\n          .attr(\"for\", \"CharacteristicsCheckbox\" + i)\n          .text(arrayOfNodeChars[i]);\n        \n        filterCheckbox.on(\"click\", handleCheckBoxClick);\n        \n      }\n    }\n    \n    else {\n      // add the deprecated characteristic;\n      var arrayOfPropertyChars = [\"deprecated\", \"inverse functional\", \"functional\", \"transitive\"];\n      if ( elementTools.isDatatypeProperty(element) === true ) {\n        arrayOfPropertyChars = [\"deprecated\", \"functional\"];\n      }\n      for ( i = 0; i < arrayOfPropertyChars.length; i++ ) {\n        filterContainer = charSelectionNode\n          .append(\"div\")\n          .classed(\"checkboxContainer\", true)\n          .style(\"padding-top\", \"2px\");\n        \n        filterCheckbox = filterContainer.append(\"input\")\n          .classed(\"filterCheckbox\", true)\n          .attr(\"id\", \"CharacteristicsCheckbox\" + i)\n          .attr(\"type\", \"checkbox\")\n          .attr(\"characteristics\", arrayOfPropertyChars[i])\n          .property(\"checked\", getPresentAttribute(element, arrayOfPropertyChars[i]));\n        //\n        filterContainer.append(\"label\")\n          .attr(\"for\", \"CharacteristicsCheckbox\" + i)\n          .text(arrayOfPropertyChars[i]);\n        \n        filterCheckbox.on(\"click\", handleCheckBoxClick);\n        \n      }\n    }\n    \n    \n  }\n  \n  function getPresentAttribute( selectedElement, element ){\n    return (selectedElement.attributes().indexOf(element) >= 0);\n  }\n  \n  function handleCheckBoxClick(){\n    var checked = this.checked;\n    var char = this.getAttribute(\"characteristics\");\n    if ( checked === true ) {\n      addAttribute(selectedElementForCharacteristics, char);\n    } else {\n      removeAttribute(selectedElementForCharacteristics, char);\n    }\n    // graph.executeColorExternalsModule();\n    selectedElementForCharacteristics.redrawElement();\n    // workaround to have the node still be focused as rendering element\n    selectedElementForCharacteristics.focused(false);\n    selectedElementForCharacteristics.toggleFocus();\n    \n  }\n  \n  \n  function addAttribute( selectedElement, char ){\n    if ( selectedElement.attributes().indexOf(char) === -1 ) {\n      // not found add it\n      var attr = selectedElement.attributes();\n      attr.push(char);\n      selectedElement.attributes(attr);\n    }// indications string update;\n    if ( selectedElement.indications().indexOf(char) === -1 ) {\n      var indications = selectedElement.indications();\n      indications.push(char);\n      selectedElement.indications(indications);\n    }\n    // add visual attributes\n    var visAttr;\n    if ( selectedElement.visualAttributes().indexOf(char) === -1 ) {\n      visAttr = selectedElement.visualAttributes();\n      visAttr.push(char);\n      selectedElement.visualAttributes(visAttr);\n    }\n    if ( getPresentAttribute(selectedElement, \"external\") && getPresentAttribute(selectedElement, \"deprecated\") ) {\n      visAttr = selectedElement.visualAttributes();\n      var visInd = visAttr.indexOf(\"external\");\n      if ( visInd > -1 ) {\n        visAttr.splice(visInd, 1);\n      }\n      selectedElement.visualAttributes(visAttr);\n    }\n    \n  }\n  \n  function removeAttribute( selectedElement, element ){\n    var attr = selectedElement.attributes();\n    var indications = selectedElement.indications();\n    var visAttr = selectedElement.visualAttributes();\n    var attrInd = attr.indexOf(element);\n    if ( attrInd >= 0 ) {\n      attr.splice(attrInd, 1);\n    }\n    var indInd = indications.indexOf(element);\n    if ( indInd > -1 ) {\n      indications.splice(indInd, 1);\n    }\n    var visInd = visAttr.indexOf(element);\n    if ( visInd > -1 ) {\n      visAttr.splice(visInd, 1);\n    }\n    selectedElement.attributes(attr);\n    selectedElement.indications(indications);\n    selectedElement.visualAttributes(visAttr);\n    if ( element === \"deprecated\" ) {\n      // set its to its original Style\n      //typeBaseThign\n      // todo : fix all different types\n      if ( selectedElement.type() === \"owl:Class\" ) selectedElement.styleClass(\"class\");\n      if ( selectedElement.type() === \"owl:DatatypeProperty\" ) selectedElement.styleClass(\"datatypeproperty\");\n      if ( selectedElement.type() === \"owl:ObjectProperty\" ) selectedElement.styleClass(\"objectproperty\");\n      if ( selectedElement.type() === \"owl:disjointWith\" ) selectedElement.styleClass(\"disjointwith\");\n    }\n  }\n  \n  \n  function elementNeedsCharacteristics( element ){\n    //TODO: Add more types\n    if ( element.type() === \"owl:Thing\" ||\n      element.type() === \"rdfs:subClassOf\" ||\n      element.type() === \"rdfs:Literal\" ||\n      element.type() === \"rdfs:Datatype\" ||\n      element.type() === \"rdfs:disjointWith\" )\n      return false;\n    \n    // if (element.attributes().indexOf(\"external\")||\n    //     element.attributes().indexOf(\"deprecated\"))\n    //     return true;\n    return true;\n    \n  }\n  \n  function elementTypeSelectionChanged( element ){\n    if ( elementTools.isNode(element) ) {\n      if ( graph.changeNodeType(element) === false ) {\n        //restore old value\n        \n        if ( elementTools.isDatatype(element) === true ) {\n          \n        }\n        editSidebar.updateSelectionInformation(element);\n      }\n    }\n    \n    if ( elementTools.isProperty(element) ) {\n      if ( graph.changePropertyType(element) === false ) {\n        //restore old value\n        editSidebar.updateSelectionInformation(element);\n        \n      }\n    }\n    \n  }\n  \n  function getElementPrototypes( selectedElement ){\n    var availiblePrototypes = [];\n    // TODO the text should be also complied with the prefixes loaded into the ontology\n    if ( elementTools.isProperty(selectedElement) ) {\n      if ( selectedElement.type() === \"owl:DatatypeProperty\" )\n        availiblePrototypes.push(\"owl:DatatypeProperty\");\n      else {\n        availiblePrototypes.push(\"owl:ObjectProperty\");\n        // handling loops !\n        if ( selectedElement.domain() !== selectedElement.range() ) {\n          availiblePrototypes.push(\"rdfs:subClassOf\");\n        }\n        availiblePrototypes.push(\"owl:disjointWith\");\n        availiblePrototypes.push(\"owl:allValuesFrom\");\n        availiblePrototypes.push(\"owl:someValuesFrom\");\n      }\n      return availiblePrototypes;\n    }\n    if ( selectedElement.renderType() === \"rect\" ) {\n      availiblePrototypes.push(\"rdfs:Literal\");\n      availiblePrototypes.push(\"rdfs:Datatype\");\n    } else {\n      availiblePrototypes.push(\"owl:Class\");\n      availiblePrototypes.push(\"owl:Thing\");\n      //  TODO: ADD MORE TYPES\n      // availiblePrototypes.push(\"owl:complementOf\");\n      // availiblePrototypes.push(\"owl:disjointUnionOf\");\n    }\n    return availiblePrototypes;\n  }\n  \n  \n  function setupCollapsing(){\n    // TODO : Decision , for now I want to have the control over the collapse expand operation of the\n    // TODO : elements, otherwise the old approach will also randomly collapse other containers\n    \n    // adapted version of this example: http://www.normansblog.de/simple-jquery-accordion/\n    function collapseContainers( containers ){\n      containers.classed(\"hidden\", true);\n    }\n    \n    function expandContainers( containers ){\n      containers.classed(\"hidden\", false);\n    }\n    \n    var triggers = d3.selectAll(\".accordion-trigger\");\n    \n    // Collapse all inactive triggers on startup\n    // collapseContainers(d3.selectAll(\".accordion-trigger:not(.accordion-trigger-active) + div\"));\n    \n    triggers.on(\"click\", function (){\n      var selectedTrigger = d3.select(this);\n      if ( selectedTrigger.classed(\"accordion-trigger-active\") ) {\n        // Collapse the active (which is also the selected) trigger\n        collapseContainers(d3.select(selectedTrigger.node().nextElementSibling));\n        selectedTrigger.classed(\"accordion-trigger-active\", false);\n      } else {\n        // Collapse the other trigger ...\n        // collapseContainers(d3.selectAll(\".accordion-trigger-active + div\"));\n        \n        // ... and expand the selected one\n        expandContainers(d3.select(selectedTrigger.node().nextElementSibling));\n        selectedTrigger.classed(\"accordion-trigger-active\", true);\n      }\n      editSidebar.updateElementWidth();\n    });\n  }\n  \n  return editSidebar;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/editSidebar.js\n// module id = 340\n// module chunks = 1","module.exports = function ( graph ){\n  var configMenu = {},\n    checkboxes = [];\n  \n  \n  configMenu.setup = function (){\n    var menuEntry = d3.select(\"#m_modes\");\n    menuEntry.on(\"mouseover\", function (){\n      var searchMenu = graph.options().searchMenu();\n      searchMenu.hideSearchEntries();\n    });\n    \n    addCheckBox(\"showZoomSlider\", \"Zoom controls\", \"#zoomSliderOption\", graph.options().zoomSlider().showSlider, 0);\n    addLabelWidthSlider(\"#maxLabelWidthSliderOption\", \"maxLabelWidth\", \"Max label width\", graph.options().maxLabelWidth);\n  };\n  \n  \n  function addLabelWidthSlider( selector, identifier, label, onChangeFunction ){\n    var sliderContainer,\n      sliderValueLabel;\n    \n    sliderContainer = d3.select(selector)\n      .append(\"div\")\n      .classed(\"distanceSliderContainer\", true);\n    \n    var slider = sliderContainer.append(\"input\")\n      .attr(\"id\", identifier + \"Slider\")\n      .attr(\"type\", \"range\")\n      .attr(\"min\", 20)\n      .attr(\"max\", 600)\n      .attr(\"value\", onChangeFunction())\n      .attr(\"step\", 10);\n    sliderContainer.append(\"label\")\n      .classed(\"description\", true)\n      .attr(\"for\", identifier + \"Slider\")\n      .attr(\"id\", identifier + \"DescriptionLabel\")\n      .text(label);\n    sliderValueLabel = sliderContainer.append(\"label\")\n      .classed(\"value\", true)\n      .attr(\"for\", identifier + \"Slider\")\n      .attr(\"id\", identifier + \"valueLabel\")\n      .text(onChangeFunction());\n    \n    slider.on(\"input\", function (){\n      var value = slider.property(\"value\");\n      onChangeFunction(value);\n      sliderValueLabel.text(value);\n      if ( graph.options().dynamicLabelWidth() === true )\n        graph.animateDynamicLabelWidth();\n    });\n    \n    // add wheel event to the slider\n    slider.on(\"wheel\", function (){\n      if ( slider.node().disabled === true ) return;\n      var wheelEvent = d3.event;\n      var offset;\n      if ( wheelEvent.deltaY < 0 ) offset = 10;\n      if ( wheelEvent.deltaY > 0 ) offset = -10;\n      var oldVal = parseInt(slider.property(\"value\"));\n      var newSliderValue = oldVal + offset;\n      if ( newSliderValue !== oldVal ) {\n        slider.property(\"value\", newSliderValue);\n        onChangeFunction(newSliderValue);\n        slider.on(\"input\")(); // << set text and update the graphStyles\n      }\n      d3.event.preventDefault();\n    });\n  }\n  \n  function addCheckBox( identifier, modeName, selector, onChangeFunc, updateLvl ){\n    var configOptionContainer = d3.select(selector)\n      .append(\"div\")\n      .classed(\"checkboxContainer\", true);\n    var configCheckbox = configOptionContainer.append(\"input\")\n      .classed(\"moduleCheckbox\", true)\n      .attr(\"id\", identifier + \"ConfigCheckbox\")\n      .attr(\"type\", \"checkbox\")\n      .property(\"checked\", onChangeFunc());\n    \n    \n    configCheckbox.on(\"click\", function ( silent ){\n      var isEnabled = configCheckbox.property(\"checked\");\n      onChangeFunc(isEnabled);\n      if ( silent !== true ) {\n        // updating graph when silent is false or the parameter is not given.\n        if ( updateLvl === 1 ) {\n          graph.lazyRefresh();\n          //graph.redrawWithoutForce\n        }\n        if ( updateLvl === 2 ) {\n          graph.update();\n        }\n        \n        if ( updateLvl === 3 ) {\n          graph.updateDraggerElements();\n        }\n      }\n      \n    });\n    checkboxes.push(configCheckbox);\n    configOptionContainer.append(\"label\")\n      .attr(\"for\", identifier + \"ConfigCheckbox\")\n      .text(modeName);\n  }\n  \n  configMenu.setCheckBoxValue = function ( identifier, value ){\n    for ( var i = 0; i < checkboxes.length; i++ ) {\n      var cbdId = checkboxes[i].attr(\"id\");\n      if ( cbdId === identifier ) {\n        checkboxes[i].property(\"checked\", value);\n        break;\n      }\n    }\n  };\n  \n  configMenu.getCheckBoxValue = function ( id ){\n    for ( var i = 0; i < checkboxes.length; i++ ) {\n      var cbdId = checkboxes[i].attr(\"id\");\n      if ( cbdId === id ) {\n        return checkboxes[i].property(\"checked\");\n      }\n    }\n  };\n  \n  configMenu.updateSettings = function (){\n    var silent = true;\n    checkboxes.forEach(function ( checkbox ){\n      checkbox.on(\"click\")(silent);\n    });\n  };\n  \n  return configMenu;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/menu/configMenu.js\n// module id = 341\n// module chunks = 1","module.exports = function ( graph ){\n  /** some constants **/\n  var PREDEFINED = 0,\n    FILE_UPLOAD = 1,\n    JSON_URL = 2,\n    IRI_URL = 3;\n  \n  var PROGRESS_BAR_ERROR = 0,\n    PROGRESS_BAR_BUSY = 1,\n    PROGRESS_BAR_PERCENT = 2,\n    progressBarMode = 1;\n  \n  var loadingWasSuccessFul = false;\n  var missingImportsWarning = false;\n  var showLoadingDetails = false;\n  var visibilityStatus = true;\n  \n  var DEFAULT_JSON_NAME = \"foaf\"; // This file is loaded by default\n  var conversion_sessionId;\n  \n  /** variable defs **/\n  var loadingModule = {},\n    menuContainer = d3.select(\"#loading-info\"),\n    loadingInfoContainer = d3.select(\"#loadingInfo-container\"),\n    detailsButton = d3.select(\"#show-loadingInfo-button\"),\n    closeButton = d3.select(\"#loadingIndicator_closeButton\"),\n    ontologyMenu,\n    ontologyIdentifierFromURL;\n  \n  /** functon defs **/\n  loadingModule.checkForScreenSize = function (){\n    // checks for window size and adjusts the loading indicator\n    var w = graph.options().width(),\n      h = graph.options().height();\n    \n    if ( w < 270 ) {\n      d3.select(\"#loading-info\").classed(\"hidden\", true);\n    } else {\n      // check if it should be visible\n      if ( visibilityStatus === true ) {\n        d3.select(\"#loading-info\").classed(\"hidden\", false);\n      } else {\n        d3.select(\"#loading-info\").classed(\"hidden\", true);\n      }\n    }\n    if ( h < 150 ) {\n      d3.select(\"#loadingInfo_msgBox\").classed(\"hidden\", true);\n    } else {\n      d3.select(\"#loadingInfo_msgBox\").classed(\"hidden\", false);\n    }\n    if ( h < 80 ) {\n      d3.select(\"#progressBarContext\").classed(\"hidden\", true);\n      d3.select(\"#layoutLoadingProgressBarContainer\").style(\"height\", \"20px\");\n    } else {\n      d3.select(\"#progressBarContext\").classed(\"hidden\", false);\n      d3.select(\"#layoutLoadingProgressBarContainer\").style(\"height\", \"50px\");\n    }\n  };\n  \n  loadingModule.getMessageVisibilityStatus = function (){\n    return visibilityStatus;\n  };\n  \n  loadingModule.getProgressBarMode = function (){\n    return progressBarMode;\n  };\n  \n  loadingModule.successfullyLoadedOntology = function (){\n    return loadingWasSuccessFul;\n  };\n  \n  loadingModule.missingImportsWarning = function (){\n    return missingImportsWarning;\n  };\n  \n  loadingModule.setOntologyMenu = function ( m ){\n    ontologyMenu = m;\n  };\n  \n  loadingModule.showErrorDetailsMessage = function (){\n    loadingModule.showLoadingIndicator();\n    loadingModule.expandDetails();\n    d3.select(\"#loadingIndicator_closeButton\").classed(\"hidden\", true);\n    loadingModule.scrollDownDetails();\n  };\n  \n  loadingModule.showWarningDetailsMessage = function (){\n    d3.select(\"#currentLoadingStep\").style(\"color\", \"#ff0\");\n    loadingModule.showLoadingIndicator();\n    loadingModule.expandDetails();\n    d3.select(\"#loadingIndicator_closeButton\").classed(\"hidden\", false);\n    loadingModule.scrollDownDetails();\n  };\n  \n  loadingModule.scrollDownDetails = function (){\n    var scrollingElement = d3.select(\"#loadingInfo-container\").node();\n    scrollingElement.scrollTop = scrollingElement.scrollHeight;\n  };\n  \n  loadingModule.hideLoadingIndicator = function (){\n    d3.select(\"#loading-info\").classed(\"hidden\", true);\n    visibilityStatus = false;\n  };\n  \n  loadingModule.showLoadingIndicator = function (){\n    d3.select(\"#loading-info\").classed(\"hidden\", false);\n    visibilityStatus = true;\n    \n  };\n  \n  /** -- SETUP -- **/\n  loadingModule.setup = function (){\n    // create connections for close and details button;\n    loadingInfoContainer.classed(\"hidden\", !showLoadingDetails);\n    detailsButton.on(\"click\", function (){\n      showLoadingDetails = !showLoadingDetails;\n      loadingInfoContainer.classed(\"hidden\", !showLoadingDetails);\n      detailsButton.classed(\"accordion-trigger-active\", showLoadingDetails);\n    });\n    \n    closeButton.on(\"click\", function (){\n      menuContainer.classed(\"hidden\", true);\n    });\n    loadingModule.setBusyMode();\n  };\n  \n  loadingModule.updateSize = function (){\n    showLoadingDetails = !(loadingInfoContainer.classed(\"hidden\"));\n    loadingInfoContainer.classed(\"hidden\", !showLoadingDetails);\n    detailsButton.classed(\"accordion-trigger-active\", showLoadingDetails);\n  };\n  \n  loadingModule.getDetailsState = function (){\n    return showLoadingDetails;\n  };\n  \n  loadingModule.expandDetails = function (){\n    showLoadingDetails = true;\n    loadingInfoContainer.classed(\"hidden\", !showLoadingDetails);\n    detailsButton.classed(\"accordion-trigger-active\", showLoadingDetails);\n  };\n  \n  loadingModule.collapseDetails = function (){\n    showLoadingDetails = false;\n    loadingInfoContainer.classed(\"hidden\", !showLoadingDetails);\n    detailsButton.classed(\"accordion-trigger-active\", showLoadingDetails);\n  };\n  \n  loadingModule.setBusyMode = function (){\n    d3.select(\"#currentLoadingStep\").style(\"color\", \"#fff\");\n    d3.select(\"#progressBarValue\").node().innherHTML = \"\";\n    d3.select(\"#progressBarValue\").style(\"width\", \"20%\");\n    d3.select(\"#progressBarValue\").classed(\"busyProgressBar\", true);\n    progressBarMode = PROGRESS_BAR_BUSY;\n  };\n  \n  loadingModule.setSuccessful = function (){\n    d3.select(\"#currentLoadingStep\").style(\"color\", \"#0f0\");\n  };\n  \n  loadingModule.setErrorMode = function (){\n    d3.select(\"#currentLoadingStep\").style(\"color\", \"#f00\");\n    d3.select(\"#progressBarValue\").style(\"width\", \"0%\");\n    d3.select(\"#progressBarValue\").classed(\"busyProgressBar\", false);\n    d3.select(\"#progressBarValue\").node().innherHTML = \"\";\n    progressBarMode = PROGRESS_BAR_ERROR;\n  };\n  \n  loadingModule.setPercentMode = function (){\n    d3.select(\"#currentLoadingStep\").style(\"color\", \"#fff\");\n    d3.select(\"#progressBarValue\").classed(\"busyProgressBar\", false);\n    d3.select(\"#progressBarValue\").node().innherHTML = \"0%\";\n    d3.select(\"#progressBarValue\").style(\"width\", \"0%\");\n    progressBarMode = PROGRESS_BAR_PERCENT;\n  };\n  \n  loadingModule.setPercentValue = function ( val ){\n    d3.select(\"#progressBarValue\").node().innherHTML = val;\n  };\n  \n  loadingModule.emptyGraphContentError = function (){\n    graph.clearGraphData();\n    ontologyMenu.append_message_toLastBulletPoint(\"<span style='color:red;'>failed</span>\");\n    ontologyMenu.append_message_toLastBulletPoint(\"<br><span style=\\\"color:red;\\\">Error: Received empty graph</span>\");\n    loadingWasSuccessFul = false;\n    graph.handleOnLoadingError();\n    loadingModule.setErrorMode();\n  };\n  \n  loadingModule.isThreadCanceled = function (){\n    \n  };\n  \n  loadingModule.initializeLoader = function ( storeCache ){\n    if ( storeCache === true && graph.getCachedJsonObj() !== null ) {\n      // save cached ontology;\n      var cachedContent = JSON.stringify(graph.getCachedJsonObj());\n      var cachedName = ontologyIdentifierFromURL;\n      ontologyMenu.setCachedOntology(cachedName, cachedContent);\n    }\n    conversion_sessionId = -10000;\n    ontologyMenu.setConversionID(conversion_sessionId);\n    ontologyMenu.stopLoadingTimer();\n    graph.clearGraphData();\n    loadingModule.setBusyMode();\n    loadingModule.showLoadingIndicator();\n    loadingModule.collapseDetails();\n    missingImportsWarning = false;\n    d3.select(\"#loadingIndicator_closeButton\").classed(\"hidden\", true);\n    ontologyMenu.clearDetailInformation();\n  };\n  \n  /** ------------------ URL Interpreter -------------- **/\n  loadingModule.parseUrlAndLoadOntology = function ( storeCache ){\n    var autoStore = true;\n    if ( storeCache === false ) {\n      autoStore = false;\n    }\n    \n    graph.clearAllGraphData();\n    loadingModule.initializeLoader(autoStore);\n    var urlString = String(location);\n    var parameterArray = identifyParameter(urlString);\n    ontologyIdentifierFromURL = DEFAULT_JSON_NAME;\n    loadGraphOptions(parameterArray); // identifies and loads configuration values\n    var loadingMethod = identifyOntologyLoadingMethod(ontologyIdentifierFromURL);\n    d3.select(\"#progressBarValue\").node().innerHTML = \" \";\n    switch ( loadingMethod ) {\n      case 0:\n        loadingModule.from_presetOntology(ontologyIdentifierFromURL);\n        break;\n      case 1:\n        loadingModule.from_FileUpload(ontologyIdentifierFromURL);\n        break;\n      case 2:\n        loadingModule.from_JSON_URL(ontologyIdentifierFromURL);\n        break;\n      case 3:\n        loadingModule.from_IRI_URL(ontologyIdentifierFromURL);\n        break;\n      default:\n        console.log(\"Could not identify loading method , or not IMPLEMENTED YET\");\n    }\n  };\n  \n  /** ------------------- LOADING --------------------- **/\n  // the loading module splits into 3 branches\n  // 1] PresetOntology Loading\n  // 2] File Upload\n  // 3] Load From URL / IRI\n  \n  loadingModule.from_JSON_URL = function ( fileName ){\n    var filename = decodeURIComponent(fileName.slice(\"url=\".length));\n    ontologyIdentifierFromURL = filename;\n    \n    var ontologyContent = \"\";\n    if ( ontologyMenu.cachedOntology(filename) ) {\n      ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + filename);\n      ontologyContent = ontologyMenu.cachedOntology(filename);\n      loadingWasSuccessFul = true; // cached Ontology should be true;\n      parseOntologyContent(ontologyContent);\n      \n    } else {\n      // involve the o2v conveter;\n      ontologyMenu.append_message(\"Retrieving ontology from JSON URL \" + filename);\n      requestServerTimeStampForJSON_URL(ontologyMenu.callbackLoad_JSON_FromURL, [\"read?json=\" + filename, filename]);\n    }\n  };\n  \n  function requestServerTimeStampForJSON_URL( callback, parameter ){\n    d3.xhr(\"serverTimeStamp\", \"application/text\", function ( error, request ){\n      if ( error ) {\n        // could not get server timestamp -> no connection to owl2vowl\n        ontologyMenu.append_bulletPoint(\"Could not establish connection to OWL2VOWL service\");\n        fallbackForJSON_URL(callback, parameter);\n      } else {\n        conversion_sessionId = request.responseText;\n        ontologyMenu.setConversionID(conversion_sessionId);\n        parameter.push(conversion_sessionId);\n        callback(parameter);\n      }\n    });\n    \n  }\n  \n  loadingModule.requestServerTimeStampForDirectInput = function ( callback, text ){\n    d3.xhr(\"serverTimeStamp\", \"application/text\", function ( error, request ){\n      if ( error ) {\n        // could not get server timestamp -> no connection to owl2vowl\n        ontologyMenu.append_bulletPoint(\"Could not establish connection to OWL2VOWL service\");\n        loadingModule.setErrorMode();\n        ontologyMenu.append_message_toLastBulletPoint(\"<br><span style='color:red'>Could not connect to OWL2VOWL service </span>\");\n        loadingModule.showErrorDetailsMessage();\n        d3.select(\"#progressBarValue\").style(\"width\", \"0%\");\n        d3.select(\"#progressBarValue\").classed(\"busyProgressBar\", false);\n        d3.select(\"#progressBarValue\").text(\"0%\");\n        \n      } else {\n        conversion_sessionId = request.responseText;\n        ontologyMenu.setConversionID(conversion_sessionId);\n        callback(text, [\"conversionID\" + conversion_sessionId, conversion_sessionId]);\n      }\n    });\n  };\n  \n  loadingModule.from_IRI_URL = function ( fileName ){\n    // owl2vowl converters the given ontology url and returns json file;\n    var filename = decodeURIComponent(fileName.slice(\"iri=\".length));\n    ontologyIdentifierFromURL = filename;\n    \n    var ontologyContent = \"\";\n    if ( ontologyMenu.cachedOntology(filename) ) {\n      ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + filename);\n      ontologyContent = ontologyMenu.cachedOntology(filename);\n      loadingWasSuccessFul = true; // cached Ontology should be true;\n      parseOntologyContent(ontologyContent);\n    } else {\n      // involve the o2v conveter;\n      var encoded = encodeURIComponent(filename);\n      ontologyMenu.append_bulletPoint(\"Retrieving ontology from IRI: \" + filename);\n      requestServerTimeStampForIRI_Converte(ontologyMenu.callbackLoad_Ontology_FromIRI, [\"convert?iri=\" + encoded, filename]);\n    }\n  };\n  \n  loadingModule.fromFileDrop = function ( fileName, file ){\n    d3.select(\"#progressBarValue\").node().innerHTML = \" \";\n    loadingModule.initializeLoader(false);\n    \n    ontologyMenu.append_bulletPoint(\"Retrieving ontology from dropped file: \" + fileName);\n    var ontologyContent = \"\";\n    \n    // two options here\n    //1] Direct Json Upload\n    if ( fileName.match(/\\.json$/) ) {\n      ontologyMenu.setConversionID(-10000);\n      var reader = new FileReader();\n      reader.readAsText(file);\n      reader.onload = function (){\n        ontologyContent = reader.result;\n        ontologyIdentifierFromURL = fileName;\n        parseOntologyContent(ontologyContent);\n      };\n    } else {\n      //2] File Upload to OWL2VOWL Converter\n      // 1) check if we can get a timeStamp;\n      var parameterArray = [file, fileName];\n      requestServerTimeStamp(ontologyMenu.callbackLoadFromOntology, parameterArray);\n    }\n  };\n  \n  \n  loadingModule.from_FileUpload = function ( fileName ){\n    loadingModule.setBusyMode();\n    var filename = decodeURIComponent(fileName.slice(\"file=\".length));\n    ontologyIdentifierFromURL = filename;\n    var ontologyContent = \"\";\n    if ( ontologyMenu.cachedOntology(filename) ) {\n      ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + filename);\n      ontologyContent = ontologyMenu.cachedOntology(filename);\n      loadingWasSuccessFul = true; // cached Ontology should be true;\n      parseOntologyContent(ontologyContent);\n      \n    } else {\n      // d3.select(\"#currentLoadingStep\").node().innerHTML=\"Loading ontology from file \"+ filename;\n      ontologyMenu.append_bulletPoint(\"Retrieving ontology from file: \" + filename);\n      // get the file\n      var selectedFile = d3.select(\"#file-converter-input\").property(\"files\")[0];\n      // No selection -> this was triggered by the iri. Unequal names -> reuploading another file\n      if ( !selectedFile || (filename && (filename !== selectedFile.name)) ) {\n        ontologyMenu.append_message_toLastBulletPoint(\"<br><span style=\\\"color:red;\\\">No cached version of \\\"\" + filename + \"\\\" was found.</span><br>Please reupload the file.\");\n        loadingModule.setErrorMode();\n        d3.select(\"#progressBarValue\").classed(\"busyProgressBar\", false);\n        graph.handleOnLoadingError();\n        return;\n      } else {\n        filename = selectedFile.name;\n      }\n\n\n// two options here\n//1] Direct Json Upload\n      if ( filename.match(/\\.json$/) ) {\n        ontologyMenu.setConversionID(-10000);\n        var reader = new FileReader();\n        reader.readAsText(selectedFile);\n        reader.onload = function (){\n          ontologyContent = reader.result;\n          ontologyIdentifierFromURL = filename;\n          parseOntologyContent(ontologyContent);\n        };\n      } else {\n//2] File Upload to OWL2VOWL Converter\n        // 1) check if we can get a timeStamp;\n        var parameterArray = [selectedFile, filename];\n        requestServerTimeStamp(ontologyMenu.callbackLoadFromOntology, parameterArray);\n      }\n    }\n  };\n  \n  function fallbackForJSON_URL( callback, parameter ){\n    ontologyMenu.append_message_toLastBulletPoint(\"<br>Trying to convert with other communication protocol.\");\n    callback(parameter);\n    \n  }\n  \n  function fallbackConversion( parameter ){\n    ontologyMenu.append_message_toLastBulletPoint(\"<br>Trying to convert with other communication protocol.\");\n    var file = parameter[0];\n    var name = parameter[1];\n    var formData = new FormData();\n    formData.append(\"ontology\", file);\n    \n    var xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", \"convert\", true);\n    var ontologyContent = \"\";\n    xhr.onload = function (){\n      if ( xhr.status === 200 ) {\n        ontologyContent = xhr.responseText;\n        ontologyMenu.setCachedOntology(name, ontologyContent);\n        ontologyIdentifierFromURL = name;\n        missingImportsWarning = true; // using this variable for warnings\n        ontologyMenu.append_message_toLastBulletPoint(\"<br>Success, <span style='color:yellow'>but you are using a deprecated OWL2VOWL service!<span>\");\n        parseOntologyContent(ontologyContent);\n      }\n    };\n    \n    // check what this thing is doing;\n    xhr.onreadystatechange = function (){\n      if ( xhr.readyState === 4 && xhr.status === 0 ) {\n        ontologyMenu.append_message_toLastBulletPoint(\"<br>Old protocol also failed to establish connection to OWL2VOWL service!\");\n        loadingModule.setErrorMode();\n        ontologyMenu.append_bulletPoint(\"Failed to load ontology\");\n        ontologyMenu.append_message_toLastBulletPoint(\"<br><span style='color:red'>Could not connect to OWL2VOWL service </span>\");\n        loadingModule.showErrorDetailsMessage();\n      }\n    };\n    xhr.send(formData);\n  }\n  \n  function requestServerTimeStampForIRI_Converte( callback, parameterArray ){\n    d3.xhr(\"serverTimeStamp\", \"application/text\", function ( error, request ){\n      loadingModule.setBusyMode();\n      if ( error ) {\n        // could not get server timestamp -> no connection to owl2vowl\n        ontologyMenu.append_bulletPoint(\"Could not establish connection to OWL2VOWL service\");\n        loadingModule.setErrorMode();\n        ontologyMenu.append_bulletPoint(\"Failed to load ontology\");\n        ontologyMenu.append_message_toLastBulletPoint(\"<br><span style='color:red'>Could not connect to OWL2VOWL service </span>\");\n        loadingModule.showErrorDetailsMessage();\n      } else {\n        conversion_sessionId = request.responseText;\n        ontologyMenu.setConversionID(conversion_sessionId);\n        // update paramater for new communication paradigm\n        parameterArray[0] = parameterArray[0] + \"&sessionId=\" + conversion_sessionId;\n        parameterArray.push(conversion_sessionId);\n        callback(parameterArray);\n      }\n    });\n  }\n  \n  function requestServerTimeStamp( callback, parameterArray ){\n    d3.xhr(\"serverTimeStamp\", \"application/text\", function ( error, request ){\n      if ( error ) {\n        // could not get server timestamp -> no connection to owl2vowl\n        ontologyMenu.append_bulletPoint(\"Could not establish connection to OWL2VOWL service\");\n        fallbackConversion(parameterArray); // tries o2v version0.3.4 communication\n      } else {\n        conversion_sessionId = request.responseText;\n        ontologyMenu.setConversionID(conversion_sessionId);\n        console.log(\"Request Session ID:\" + conversion_sessionId);\n        callback(parameterArray[0], parameterArray[1], conversion_sessionId);\n      }\n    });\n  }\n  \n  loadingModule.directInput = function ( text ){\n    ontologyMenu.clearDetailInformation();\n    parseOntologyContent(text);\n  };\n  \n  loadingModule.loadFromOWL2VOWL = function ( ontoContent, filename ){\n    loadingWasSuccessFul = false;\n    \n    var old = d3.select(\"#bulletPoint_container\").node().innerHTML;\n    if ( old.indexOf(\"(with warnings)\") !== -1 ) {\n      missingImportsWarning = true;\n    }\n    \n    if ( ontologyMenu.cachedOntology(ontoContent) ) {\n      ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + filename);\n      parseOntologyContent(ontoContent);\n    } else { // set parse the ontology content;\n      parseOntologyContent(ontoContent);\n    }\n  };\n  \n  loadingModule.from_presetOntology = function ( selectedOntology ){\n    ontologyMenu.append_bulletPoint(\"Retrieving ontology: \" + selectedOntology);\n    loadPresetOntology(selectedOntology);\n  };\n  \n  function loadPresetOntology( ontology ){\n    // check if already cached in ontology menu?\n    var f2r;\n    var loadingNewOntologyForEditor=false;\n    if ( ontology.indexOf(\"new_ontology\") !== -1 ) {\n      loadingModule.hideLoadingIndicator();\n      graph.showEditorHintIfNeeded();\n      f2r = \"./data/new_ontology.json\";\n      loadingNewOntologyForEditor=true;\n    }\n    \n    loadingWasSuccessFul = false;\n    var ontologyContent = \"\";\n    if ( ontologyMenu.cachedOntology(ontology) ) {\n      ontologyMenu.append_bulletPoint(\"Loading already cached ontology: \" + ontology);\n      ontologyContent = ontologyMenu.cachedOntology(ontology);\n      loadingWasSuccessFul = true; // cached Ontology should be true;\n      loadingModule.showLoadingIndicator();\n      parseOntologyContent(ontologyContent);\n      \n    } else {\n      // read the file name\n      \n      var fileToRead = \"./data/\" + ontology + \".json\";\n      if ( f2r ) {\n        fileToRead = f2r;\n      } // overwrite the newOntology Index\n      // read file\n      d3.xhr(fileToRead, \"application/json\", function ( error, request ){\n        var loadingSuccessful = !error;\n        if ( loadingSuccessful ) {\n          ontologyContent = request.responseText;\n          parseOntologyContent(ontologyContent);\n        } else {\n\n          if (loadingNewOntologyForEditor){\n            ontologyContent = '{\\n' +\n              '  \"_comment\": \"Empty ontology for WebVOWL Editor\",\\n' +\n              '  \"header\": {\\n' +\n              '    \"languages\": [\\n' +\n              '      \"en\"\\n' +\n              '    ],\\n' +\n              '    \"baseIris\": [\\n' +\n              '      \"http://www.w3.org/2000/01/rdf-schema\"\\n' +\n              '    ],\\n' +\n              '    \"iri\": \"http://visualdataweb.org/newOntology/\",\\n' +\n              '    \"title\": {\\n' +\n              '      \"en\": \"New ontology\"\\n' +\n              '    },\\n' +\n              '    \"description\": {\\n' +\n              '      \"en\": \"New ontology description\"\\n' +\n              '    }\\n' +\n              '  },\\n' +\n              '  \"namespace\": [],\\n' +\n              '  \"metrics\": {\\n' +\n              '    \"classCount\": 0,\\n' +\n              '    \"datatypeCount\": 0,\\n' +\n              '    \"objectPropertyCount\": 0,\\n' +\n              '    \"datatypePropertyCount\": 0,\\n' +\n              '    \"propertyCount\": 0,\\n' +\n              '    \"nodeCount\": 0,\\n' +\n              '    \"individualCount\": 0\\n' +\n              '  }\\n' +\n              '}\\n';\n            parseOntologyContent(ontologyContent);\n          }else{\n          // some error occurred\n          ontologyMenu.append_bulletPoint(\"Failed to load: \" + ontology);\n          if (error.status===0){ // assumption this is CORS error when running locally (error status == 0)\n            ontologyMenu.append_message_toLastBulletPoint(\" <span style='color: red'>ERROR STATUS:</span> \" + error.status);\n            if (window.location.toString().startsWith(\"file:/\")){\n              ontologyMenu.append_message_toLastBulletPoint(\"<br><p>WebVOWL runs in a local instance.</p>\");\n              ontologyMenu.append_message_toLastBulletPoint(\"<p>CORS prevents to automatically load files on host system.</p>\");\n              ontologyMenu.append_message_toLastBulletPoint(\"<p>You can load preprocessed ontologies (i.e. VOWL-JSON files) using the upload feature in the ontology menu or by dragging the files and dropping them on the canvas.</p>\");\n              ontologyMenu.append_message_toLastBulletPoint(\"<p><i>Hint: </i>Note that the conversion of ontologies into the VOWL-JSON format is not part of WebVOWL but requires an additional converter such as OWL2VOWL.</p>\");\n              ontologyMenu.append_message_toLastBulletPoint(\"<p>Ontologies can be created using the editor mode (i.e. activate editing mode in <b>Modes</b> menu and create a new ontology using the <b>Ontology</b> menu.</p>\");\n            }\n          }else {\n            ontologyMenu.append_message_toLastBulletPoint(\" <span style='color: red'>ERROR STATUS:</span> \" + error.status);\n          }\n\n\n\n          graph.handleOnLoadingError();\n          loadingModule.setErrorMode();\n          }\n        }\n      });\n    }\n  }\n  \n  \n  /** -- PARSE JSON CONTENT -- **/\n  function parseOntologyContent( content ){\n    \n    ontologyMenu.append_bulletPoint(\"Reading ontology graph ... \");\n    var _loader = ontologyMenu.getLoadingFunction();\n    _loader(content, ontologyIdentifierFromURL, \"noAlternativeNameYet\");\n  }\n  \n  loadingModule.notValidJsonFile = function (){\n    graph.clearGraphData();\n    ontologyMenu.append_message_toLastBulletPoint(\" <span style='color:red;'>failed</span>\");\n    ontologyMenu.append_message_toLastBulletPoint(\"<br><span style='color:red;'>Error: Received empty graph</span>\");\n    loadingWasSuccessFul = false;\n    graph.handleOnLoadingError();\n    \n  };\n  \n  loadingModule.validJsonFile = function (){\n    ontologyMenu.append_message_toLastBulletPoint(\"done\");\n    loadingWasSuccessFul = true;\n  };\n  \n  \n  /** --- HELPER FUNCTIONS **/\n  \n  function identifyParameter( url ){\n    var numParameters = (url.match(/#/g) || []).length;\n    // create parameters array\n    var paramArray = [];\n    if ( numParameters > 0 ) {\n      var tokens = url.split(\"#\");\n      // skip the first token since it is the address of the server\n      for ( var i = 1; i < tokens.length; i++ ) {\n        if ( tokens[i].length === 0 ) {\n          // this token belongs actually to the last paramArray\n          paramArray[paramArray.length - 1] = paramArray[paramArray.length - 1] + \"#\";\n        } else {\n          paramArray.push(tokens[i]);\n        }\n      }\n    }\n    return paramArray;\n  }\n  \n  \n  function loadGraphOptions( parameterArray ){\n    var optString = \"opts=\";\n    \n    function loadDefaultConfig(){\n      graph.options().setOptionsFromURL(graph.options().defaultConfig(), false);\n    }\n    \n    function loadCustomConfig( opts ){\n      var changeEditingFlag = false;\n      var defObj = graph.options().defaultConfig();\n      for ( var i = 0; i < opts.length; i++ ) {\n        var keyVal = opts[i].split('=');\n        if ( keyVal[0] === \"editorMode\" ) {\n          changeEditingFlag = true;\n        }\n        defObj[keyVal[0]] = keyVal[1];\n      }\n      graph.options().setOptionsFromURL(defObj, changeEditingFlag);\n    }\n    \n    function identifyOptions( paramArray ){\n      if ( paramArray[0].indexOf(optString) >= 0 ) {\n        // parse the parameters;\n        var parameterLength = paramArray[0].length;\n        var givenOptionsStr = paramArray[0].substr(5, parameterLength - 6);\n        var optionsArray = givenOptionsStr.split(';');\n        loadCustomConfig(optionsArray);\n      } else {\n        ontologyIdentifierFromURL = paramArray[0];\n        loadDefaultConfig();\n      }\n    }\n    \n    function identifyOptionsAndOntology( paramArray ){\n      \n      if ( paramArray[0].indexOf(optString) >= 0 ) {\n        // parse the parameters;\n        var parameterLength = paramArray[0].length;\n        var givenOptionsStr = paramArray[0].substr(5, parameterLength - 6);\n        var optionsArray = givenOptionsStr.split(';');\n        loadCustomConfig(optionsArray);\n      } else {\n        loadDefaultConfig();\n      }\n      ontologyIdentifierFromURL = paramArray[1];\n    }\n    \n    switch ( parameterArray.length ) {\n      case 0:\n        loadDefaultConfig();\n        break;\n      case 1:\n        identifyOptions(parameterArray);\n        break;\n      case 2:\n        identifyOptionsAndOntology(parameterArray);\n        break;\n      default :\n        console.log(\"To many input parameters , loading default config\");\n        loadDefaultConfig();\n        ontologyIdentifierFromURL = \"ERROR_TO_MANY_INPUT_PARAMETERS\";\n    }\n  }\n  \n  \n  function identifyOntologyLoadingMethod( url ){\n    var iriKey = \"iri=\";\n    var urlKey = \"url=\";\n    var fileKey = \"file=\";\n    \n    var method = -1;\n    if ( url.substr(0, fileKey.length) === fileKey ) {\n      method = FILE_UPLOAD;\n    } else if ( url.substr(0, urlKey.length) === urlKey ) {\n      method = JSON_URL;\n    } else if ( url.substr(0, iriKey.length) === iriKey ) {\n      method = IRI_URL;\n    } else {\n      method = PREDEFINED;\n    }\n    return method;\n  }\n  \n  return loadingModule;\n}\n;\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/loadingModule.js\n// module id = 342\n// module chunks = 1","module.exports = function ( graph ){\n  /** variable defs **/\n  var warningModule = {};\n  var superContainer = d3.select(\"#WarningErrorMessages\");\n  var _messageContainers = [];\n  var _messageContext = [];\n  var _visibleStatus = [];\n  \n  var _filterHintId;\n  var _editorHintId;\n  var _messageId = -1;\n  superContainer.style(\"display\", \"inline-block\");\n  var cssStyleIndex = 0;\n  var styleSelectorIndex = 2;\n  \n\n  // helper for standalone webvowl in chrome\n  function createCSSSelector( name, rules ){\n    var style = document.createElement('style');\n    style.type = 'text/css';\n    document.getElementsByTagName('head')[0].appendChild(style);\n    if ( !(style.sheet || {}).insertRule )\n      (style.styleSheet || style.sheet).addRule(name, rules);\n    else\n      style.sheet.insertRule(name + \"{\" + rules + \"}\", 0);\n  }\n  \n  \n  function findCSS_Index(){\n    createCSSSelector(\"@keyframes msg_CollapseAnimation\", \" 0% { top: 0; } 100% { top: -400px;}\");\n    console.log(document.styleSheets );\n  }\n  \n  findCSS_Index();\n  \n  warningModule.addMessageBox = function (){\n    \n    // add a container;\n    _messageId++;\n    var messageContainer = d3.select(\"#WarningErrorMessages\").append(\"div\");\n    messageContainer.node().id = \"messageContainerId_\" + _messageId;\n    \n    var messageContext = messageContainer.append(\"div\");\n    messageContext.node().id = \"messageContextId_\" + _messageId;\n    messageContext.style(\"top\", \"0\");\n    messageContainer.style(\"position\", \"relative\");\n    messageContainer.style(\"width\", \"100%\");\n    //save in array\n    _messageContainers.push(messageContainer);\n    _messageContext.push(messageContext);\n    \n    // add animation to the container\n    messageContainer.node().addEventListener(\"animationend\", _msgContainer_animationEnd);\n    \n    // set visible flag that is used in end of animation\n    _visibleStatus[_messageId] = true;\n    return _messageId;\n  };\n  \n  function _msgContainer_animationEnd(){\n    var containerId = this.id;\n    var tokens = containerId.split(\"_\")[1];\n    var mContainer = d3.select(\"#\" + containerId);\n    // get number of children\n    mContainer.classed(\"hidden\", !_visibleStatus[tokens]);\n    // clean up DOM\n    if ( !_visibleStatus[tokens] ) {\n      mContainer.remove();\n      _messageContext[tokens] = null;\n      _messageContainers[tokens] = null;\n    }\n    // remove event listener\n    var c = d3.select(this);\n    // c.node().removeEventListener(\"animationend\",_msgContainer_animationEnd);\n  }\n  \n  warningModule.createMessageContext = function ( id ){\n    var warningContainer = _messageContext[id];\n    var moduleContainer = _messageContainers[id];\n    var generalHint = warningContainer.append('div');\n    generalHint.node().innerHTML = \"\";\n    _editorHintId = id;\n    /** Editing mode activated. You can now modify an existing ontology or create a new one via the <em>ontology</em> menu. You can save any ontology using the <em>export</em> menu (and exporting it as TTL file).**/\n    generalHint.node().innerHTML += \"Editing mode activated.<br>\" +\n      \"You can now modify an existing ontology or create a new one via the <em>ontology</em> menu.<br>\" +\n      \"You can save any ontology using the <em>export</em> menu (and exporting it as TTL file).\";\n    \n    generalHint.style(\"padding\", \"5px\");\n    generalHint.style(\"line-height\", \"1.2em\");\n    generalHint.style(\"font-size\", \"1.2em\");\n    \n    \n    var ul = warningContainer.append('ul');\n    ul.append('li').node().innerHTML = \"Create a class with <b>double click / tap</b> on empty canvas area.\";\n    ul.append('li').node().innerHTML = \"Edit names with <b>double click / tap</b> on element.</li>\";\n    ul.append('li').node().innerHTML = \"Selection of default constructors is provided in the left sidebar.\";\n    ul.append('li').node().innerHTML = \"Additional editing functionality is provided in the right sidebar.\";\n    \n    \n    var gotItButton = warningContainer.append(\"label\");\n    gotItButton.node().id = \"killWarningErrorMessages_\" + id;\n    gotItButton.node().innerHTML = \"Got It\";\n    gotItButton.on(\"click\", warningModule.closeMessage);\n    \n    moduleContainer.classed(\"hidden\", false);\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_ExpandAnimation\");\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\n  };\n  \n  warningModule.showMessage = function ( id ){\n    var moduleContainer = _messageContainers[id];\n    moduleContainer.classed(\"hidden\", false);\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_ExpandAnimation\");\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\n  };\n  \n  warningModule.closeMessage = function ( id ){\n    var nId;\n    if ( id === undefined ) {\n      var givenId = this.id;\n      nId = givenId.split(\"_\")[1];\n    } else {\n      nId = id;\n    }\n    if ( id && id.indexOf(\"_\") !== -1 ) {\n      nId = id.split(\"_\")[1];\n    }\n    _visibleStatus[nId] = false;\n    // get module;\n    var moduleContainer = _messageContainers[nId];\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_CollapseAnimation\");\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\n    \n    var m_height = moduleContainer.node().getBoundingClientRect().height;\n    \n    // find my id in the children\n    var pNode = moduleContainer.node().parentNode;\n    \n    var followingChildren = [];\n    var pChild = pNode.children;\n    var pChild_len = pChild.length;\n    var containerId = moduleContainer.node().id;\n    var found_me = false;\n    for ( var i = 0; i < pChild_len; i++ ) {\n      if ( found_me === true ) {\n        followingChildren.push(pChild[i].id);\n      }\n      \n      if ( containerId === pChild[i].id ) {\n        found_me = true;\n      }\n    }\n    \n    for ( var fc = 0; fc < followingChildren.length; fc++ ) {\n      var child = d3.select(\"#\" + followingChildren[fc]);\n      // get the document style and overwrite it;\n      var superCss = document.styleSheets[styleSelectorIndex].cssRules[cssStyleIndex];\n      // remove the existing 0% and 100% rules\n      superCss.deleteRule(\"0%\");\n      superCss.deleteRule(\"100%\");\n      \n      superCss.appendRule(\"0%   {top: 0;}\");\n      superCss.appendRule(\"100% {top: -\" + m_height + \"px;\");\n      \n      child.style(\"-webkit-animation-name\", \"msg_CollapseAnimation\");\n      child.style(\"-webkit-animation-duration\", \"0.5s\");\n      child.node().addEventListener(\"animationend\", _child_animationEnd);\n    }\n  };\n  \n  function _child_animationEnd(){\n    var c = d3.select(this);\n    c.style(\"-webkit-animation-name\", \"\");\n    c.style(\"-webkit-animation-duration\", \"\");\n    c.node().removeEventListener(\"animationend\", _child_animationEnd);\n  }\n  \n  warningModule.closeFilterHint = function (){\n    if ( _messageContainers[_filterHintId] ) {\n      _messageContainers[_filterHintId].classed(\"hidden\", true);\n      _messageContainers[_filterHintId].remove();\n      _messageContainers[_filterHintId] = null;\n      _messageContext[_filterHintId] = null;\n      _visibleStatus[_filterHintId] = false;\n    }\n  };\n  \n  warningModule.showEditorHint = function (){\n    var id = warningModule.addMessageBox();\n    warningModule.createMessageContext(id);\n  };\n\n  warningModule.showExporterWarning=function (){\n    warningModule.showWarning(\"Can not export ontology\", \"Detected unsupported ontology axioms, (e.g. owl:Union)\", \"Ontology is not exported\", 1, false);\n  };\n\n  \n  \n  warningModule.responseWarning = function ( header, reason, action, callback, parameterArray, forcedWarning ){\n    var id = warningModule.addMessageBox();\n    var warningContainer = _messageContext[id];\n    var moduleContainer = _messageContainers[id];\n    _visibleStatus[id] = true;\n    d3.select(\"#blockGraphInteractions\").classed(\"hidden\", false);\n    var graphWidth = 0.5 * graph.options().width();\n    \n    if ( header.length > 0 ) {\n      var head = warningContainer.append(\"div\");\n      head.style(\"padding\", \"5px\");\n      var titleHeader = head.append(\"div\");\n      // some classes\n      titleHeader.style(\"display\", \"inline-flex\");\n      titleHeader.node().innerHTML = \"<b>Warning:</b>\";\n      titleHeader.style(\"padding-right\", \"3px\");\n      var msgHeader = head.append(\"div\");\n      // some classes\n      msgHeader.style(\"display\", \"inline-flex\");\n      msgHeader.style(\"max-width\", graphWidth + \"px\");\n      \n      msgHeader.node().innerHTML = header;\n    }\n    if ( reason.length > 0 ) {\n      var reasonContainer = warningContainer.append(\"div\");\n      reasonContainer.style(\"padding\", \"5px\");\n      var reasonHeader = reasonContainer.append(\"div\");\n      // some classes\n      reasonHeader.style(\"display\", \"inline-flex\");\n      reasonHeader.style(\"padding-right\", \"3px\");\n      \n      reasonHeader.node().innerHTML = \"<b>Reason:</b>\";\n      var msgReason = reasonContainer.append(\"div\");\n      // some classes\n      msgReason.style(\"display\", \"inline-flex\");\n      msgReason.style(\"max-width\", graphWidth + \"px\");\n      msgReason.node().innerHTML = reason;\n    }\n    if ( action.length > 0 ) {\n      var actionContainer = warningContainer.append(\"div\");\n      actionContainer.style(\"padding\", \"5px\");\n      var actionHeader = actionContainer.append(\"div\");\n      // some classes\n      actionHeader.style(\"display\", \"inline-flex\");\n      actionHeader.style(\"padding-right\", \"8px\");\n      actionHeader.node().innerHTML = \"<b>Action:</b>\";\n      var msgAction = actionContainer.append(\"div\");\n      // some classes\n      msgAction.style(\"display\", \"inline-flex\");\n      msgAction.style(\"max-width\", graphWidth + \"px\");\n      msgAction.node().innerHTML = action;\n    }\n    \n    var gotItButton = warningContainer.append(\"label\");\n    gotItButton.node().id = \"killWarningErrorMessages_\" + id;\n    gotItButton.node().innerHTML = \"Continue\";\n    gotItButton.on(\"click\", function (){\n      warningModule.closeMessage(this.id);\n      d3.select(\"#blockGraphInteractions\").classed(\"hidden\", true);\n      callback(parameterArray[0], parameterArray[1], parameterArray[2], parameterArray[3]);\n    });\n    warningContainer.append(\"span\").node().innerHTML = \"|\";\n    var cancelButton = warningContainer.append(\"label\");\n    cancelButton.node().id = \"cancelButton_\" + id;\n    cancelButton.node().innerHTML = \"Cancel\";\n    cancelButton.on(\"click\", function (){\n      warningModule.closeMessage(this.id);\n      d3.select(\"#blockGraphInteractions\").classed(\"hidden\", true);\n    });\n    moduleContainer.classed(\"hidden\", false);\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_ExpandAnimation\");\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\n  };\n  \n  warningModule.showFilterHint = function (){\n    var id = warningModule.addMessageBox();\n    var warningContainer = _messageContext[id];\n    var moduleContainer = _messageContainers[id];\n    _visibleStatus[id] = true;\n    \n    _filterHintId = id;\n    var generalHint = warningContainer.append('div');\n    /** Editing mode activated. You can now modify an existing ontology or create a new one via the <em>ontology</em> menu. You can save any ontology using the <em>export</em> menu (and exporting it as TTL file).**/\n    generalHint.node().innerHTML = \"Collapsing filter activated.<br>\" +\n      \"The number of visualized elements has been automatically reduced.<br>\" +\n      \"Use the degree of collapsing slider in the <em>filter</em> menu to adjust the visualization.<br><br>\" +\n      \"<em>Note:</em> A performance decrease could be experienced with a growing amount of visual elements in the graph.\";\n    \n    \n    generalHint.style(\"padding\", \"5px\");\n    generalHint.style(\"line-height\", \"1.2em\");\n    generalHint.style(\"font-size\", \"1.2em\");\n    \n    var gotItButton = warningContainer.append(\"label\");\n    gotItButton.node().id = \"killFilterMessages_\" + id;\n    gotItButton.node().innerHTML = \"Got It\";\n    gotItButton.on(\"click\", warningModule.closeMessage);\n    \n    moduleContainer.classed(\"hidden\", false);\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_ExpandAnimation\");\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\n  };\n  \n  warningModule.showMultiFileUploadWarning = function (){\n    var id = warningModule.addMessageBox();\n    var warningContainer = _messageContext[id];\n    var moduleContainer = _messageContainers[id];\n    _visibleStatus[id] = true;\n    \n    _filterHintId = id;\n    var generalHint = warningContainer.append('div');\n    \n    generalHint.node().innerHTML = \"Uploading multiple files is not supported.<br>\";\n    \n    generalHint.style(\"padding\", \"5px\");\n    generalHint.style(\"line-height\", \"1.2em\");\n    generalHint.style(\"font-size\", \"1.2em\");\n    \n    var gotItButton = warningContainer.append(\"label\");\n    gotItButton.node().id = \"killFilterMessages_\" + id;\n    gotItButton.node().innerHTML = \"Got It\";\n    gotItButton.on(\"click\", warningModule.closeMessage);\n    \n    moduleContainer.classed(\"hidden\", false);\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_ExpandAnimation\");\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\n  };\n  \n  warningModule.showWarning = function ( header, reason, action, type, forcedWarning, additionalOpts ){\n    var id = warningModule.addMessageBox();\n    var warningContainer = _messageContext[id];\n    var moduleContainer = _messageContainers[id];\n    _visibleStatus[id] = true;\n    \n    // add new one;\n    var graphWidth = 0.5 * graph.options().width();\n    \n    if ( header.length > 0 ) {\n      var head = warningContainer.append(\"div\");\n      head.style(\"padding\", \"5px\");\n      var titleHeader = head.append(\"div\");\n      // some classes\n      titleHeader.style(\"display\", \"inline-flex\");\n      titleHeader.node().innerHTML = \"<b>Warning:</b>\";\n      titleHeader.style(\"padding-right\", \"3px\");\n      var msgHeader = head.append(\"div\");\n      // some classes\n      msgHeader.style(\"display\", \"inline-flex\");\n      msgHeader.style(\"max-width\", graphWidth + \"px\");\n      \n      msgHeader.node().innerHTML = header;\n    }\n    if ( reason.length > 0 ) {\n      var reasonContainer = warningContainer.append(\"div\");\n      reasonContainer.style(\"padding\", \"5px\");\n      var reasonHeader = reasonContainer.append(\"div\");\n      // some classes\n      reasonHeader.style(\"display\", \"inline-flex\");\n      reasonHeader.style(\"padding-right\", \"3px\");\n      \n      reasonHeader.node().innerHTML = \"<b>Reason:</b>\";\n      var msgReason = reasonContainer.append(\"div\");\n      // some classes\n      msgReason.style(\"display\", \"inline-flex\");\n      msgReason.style(\"max-width\", graphWidth + \"px\");\n      msgReason.node().innerHTML = reason;\n    }\n    if ( action.length > 0 ) {\n      var actionContainer = warningContainer.append(\"div\");\n      actionContainer.style(\"padding\", \"5px\");\n      var actionHeader = actionContainer.append(\"div\");\n      // some classes\n      actionHeader.style(\"display\", \"inline-flex\");\n      actionHeader.style(\"padding-right\", \"8px\");\n      actionHeader.node().innerHTML = \"<b>Action:</b>\";\n      var msgAction = actionContainer.append(\"div\");\n      // some classes\n      msgAction.style(\"display\", \"inline-flex\");\n      msgAction.style(\"max-width\", graphWidth + \"px\");\n      msgAction.node().innerHTML = action;\n    }\n    \n    var gotItButton;\n    if ( type === 1 ) {\n      gotItButton = warningContainer.append(\"label\");\n      gotItButton.node().id = \"killWarningErrorMessages_\" + id;\n      gotItButton.node().innerHTML = \"Got It\";\n      gotItButton.on(\"click\", warningModule.closeMessage);\n    }\n    \n    if ( type === 2 ) {\n      gotItButton = warningContainer.append(\"label\");\n      gotItButton.node().id = \"killWarningErrorMessages_\" + id;\n      gotItButton.node().innerHTML = \"Got It\";\n      gotItButton.on(\"click\", warningModule.closeMessage);\n      warningContainer.append(\"span\").node().innerHTML = \"|\";\n      var zoomToElementButton = warningContainer.append(\"label\");\n      zoomToElementButton.node().id = \"zoomElementThing_\" + id;\n      zoomToElementButton.node().innerHTML = \"Zoom to element \";\n      zoomToElementButton.on(\"click\", function (){\n        // assume the additional Element is for halo;\n        graph.zoomToElementInGraph(additionalOpts);\n      });\n      warningContainer.append(\"span\").node().innerHTML = \"|\";\n      var ShowElementButton = warningContainer.append(\"label\");\n      ShowElementButton.node().id = \"showElementThing_\" + id;\n      ShowElementButton.node().innerHTML = \"Indicate element\";\n      ShowElementButton.on(\"click\", function (){\n        // assume the additional Element is for halo;\n        if ( additionalOpts.halo() === false ) {\n          additionalOpts.drawHalo();\n          graph.updatePulseIds([additionalOpts.id()]);\n        } else {\n          additionalOpts.removeHalo();\n          additionalOpts.drawHalo();\n          graph.updatePulseIds([additionalOpts.id()]);\n        }\n      });\n    }\n    moduleContainer.classed(\"hidden\", false);\n    moduleContainer.style(\"-webkit-animation-name\", \"warn_ExpandAnimation\");\n    moduleContainer.style(\"-webkit-animation-duration\", \"0.5s\");\n    moduleContainer.classed(\"hidden\", false);\n  };\n  \n  return warningModule;\n};\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/warningModule.js\n// module id = 343\n// module chunks = 1","module.exports = function ( graph ){\n  /** variable defs **/\n  var directInputModule = {};\n  var inputContainer = d3.select(\"#DirectInputContent\");\n  inputContainer.style(\"top\", \"0\");\n  inputContainer.style(\"position\", \"absolute\");\n  var textArea = d3.select(\"#directInputTextArea\");\n  var visibleContainer = false;\n  \n  inputContainer.style(\"border\", \"1px solid black\");\n  inputContainer.style(\"padding\", \"5px\");\n  inputContainer.style(\"background\", \"#fff\");\n  \n  \n  // connect upload and close button;\n  directInputModule.handleDirectUpload = function (){\n    \n    var text = textArea.node().value;\n    var jsonOBJ;\n    try {\n      jsonOBJ = JSON.parse(text);\n      graph.options().loadingModule().directInput(text);\n      // close if successful\n      if ( jsonOBJ.class.length > 0 ) {\n        directInputModule.setDirectInputMode(false);\n      }\n    }\n    catch ( e ) {\n      try {\n        // Initialize;\n        graph.options().loadingModule().initializeLoader();\n        graph.options().loadingModule().requestServerTimeStampForDirectInput(\n          graph.options().ontologyMenu().callbackLoad_Ontology_From_DirectInput, text\n        );\n      } catch ( error2 ) {\n        console.log(\"Error \" + error2);\n        d3.select(\"#Error_onLoad\").classed(\"hidden\", false);\n        d3.select(\"#Error_onLoad\").node().innerHTML = \"Failed to convert the input!\";\n      }\n    }\n  };\n  \n  directInputModule.handleCloseButton = function (){\n    directInputModule.setDirectInputMode(false);\n  };\n  \n  directInputModule.updateLayout = function (){\n    var w = graph.options().width();\n    var h = graph.options().height();\n    textArea.style(\"width\", 0.4 * w + \"px\");\n    textArea.style(\"height\", 0.7 * h + \"px\");\n  };\n  \n  directInputModule.setDirectInputMode = function ( val ){\n    if ( !val ) {\n      visibleContainer = !visibleContainer;\n    }\n    else {\n      visibleContainer = val;\n    }\n    // update visibility;\n    directInputModule.updateLayout();\n    d3.select(\"#Error_onLoad\").classed(\"hidden\", true);\n    inputContainer.classed(\"hidden\", !visibleContainer);\n  };\n  \n  \n  d3.select(\"#directUploadBtn\").on(\"click\", directInputModule.handleDirectUpload);\n  d3.select(\"#close_directUploadBtn\").on(\"click\", directInputModule.handleCloseButton);\n  \n  return directInputModule;\n};\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/js/directInputModule.js\n// module id = 344\n// module chunks = 1"],"sourceRoot":""}